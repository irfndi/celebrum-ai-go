# github.com/irfandi/celebrum-ai-go/internal/api/handlers.test
ld: warning: '/private/var/folders/_s/x4kzj7hj3611_2_wjj3nhn640000gn/T/go-link-242599364/000016.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
# github.com/irfandi/celebrum-ai-go/internal/api.test
ld: warning: '/private/var/folders/_s/x4kzj7hj3611_2_wjj3nhn640000gn/T/go-link-1024214003/000016.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
# github.com/irfandi/celebrum-ai-go/internal/cmd/server.test
ld: warning: '/private/var/folders/_s/x4kzj7hj3611_2_wjj3nhn640000gn/T/go-link-1807176958/000016.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
# github.com/irfandi/celebrum-ai-go/cmd/server.test
ld: warning: '/private/var/folders/_s/x4kzj7hj3611_2_wjj3nhn640000gn/T/go-link-212767442/000016.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
# github.com/irfandi/celebrum-ai-go/internal/handlers.test
ld: warning: '/private/var/folders/_s/x4kzj7hj3611_2_wjj3nhn640000gn/T/go-link-1829803605/000016.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
=== RUN   TestMainFunctionBasic
--- PASS: TestMainFunctionBasic (0.00s)
=== RUN   TestRunFunctionBasic
--- PASS: TestRunFunctionBasic (0.00s)
=== RUN   TestServerComponents
--- PASS: TestServerComponents (0.00s)
=== RUN   TestConfigurationLoadingDirect
--- PASS: TestConfigurationLoadingDirect (0.00s)
=== RUN   TestMockDependencies
--- PASS: TestMockDependencies (0.00s)
=== RUN   TestServerAddressFormats
=== RUN   TestServerAddressFormats/port_80
=== RUN   TestServerAddressFormats/port_8080
=== RUN   TestServerAddressFormats/port_3000
=== RUN   TestServerAddressFormats/port_9000
--- PASS: TestServerAddressFormats (0.00s)
    --- PASS: TestServerAddressFormats/port_80 (0.00s)
    --- PASS: TestServerAddressFormats/port_8080 (0.00s)
    --- PASS: TestServerAddressFormats/port_3000 (0.00s)
    --- PASS: TestServerAddressFormats/port_9000 (0.00s)
=== RUN   TestTimeoutConfiguration
=== RUN   TestTimeoutConfiguration/zero
=== RUN   TestTimeoutConfiguration/second
=== RUN   TestTimeoutConfiguration/minute
=== RUN   TestTimeoutConfiguration/hour
--- PASS: TestTimeoutConfiguration (0.00s)
    --- PASS: TestTimeoutConfiguration/zero (0.00s)
    --- PASS: TestTimeoutConfiguration/second (0.00s)
    --- PASS: TestTimeoutConfiguration/minute (0.00s)
    --- PASS: TestTimeoutConfiguration/hour (0.00s)
=== RUN   TestEnvironmentVariableParsing
--- PASS: TestEnvironmentVariableParsing (0.00s)
=== RUN   TestServerConfiguration
--- PASS: TestServerConfiguration (0.00s)
=== RUN   TestHTTPServerCreation
--- PASS: TestHTTPServerCreation (0.00s)
=== RUN   TestContextWithTimeout
--- PASS: TestContextWithTimeout (0.00s)
=== RUN   TestSignalHandling
--- PASS: TestSignalHandling (0.00s)
=== RUN   TestGinRouterSetup
--- PASS: TestGinRouterSetup (0.00s)
=== RUN   TestMiddlewareSetup
--- PASS: TestMiddlewareSetup (0.00s)
=== RUN   TestHTTPServerTimeouts
--- PASS: TestHTTPServerTimeouts (0.00s)
=== RUN   TestConfigurationLoading
--- PASS: TestConfigurationLoading (0.00s)
=== RUN   TestRedisConnectionMock
--- PASS: TestRedisConnectionMock (0.00s)
=== RUN   TestDatabaseMock
--- PASS: TestDatabaseMock (0.00s)
=== RUN   TestLoggerSetup
--- PASS: TestLoggerSetup (0.00s)
=== RUN   TestGracefulShutdown
--- PASS: TestGracefulShutdown (0.00s)
=== RUN   TestErrorHandling
--- PASS: TestErrorHandling (0.00s)
=== RUN   TestMemoryMonitoring
--- PASS: TestMemoryMonitoring (0.00s)
=== RUN   TestConfigurationValidation
--- PASS: TestConfigurationValidation (0.00s)
=== RUN   TestHTTPMethodsAndRoutes
--- PASS: TestHTTPMethodsAndRoutes (0.00s)
=== RUN   TestMiddlewareChain
--- PASS: TestMiddlewareChain (0.00s)
=== RUN   TestContextManagement
--- PASS: TestContextManagement (0.00s)
=== RUN   TestServerLifecycle
--- PASS: TestServerLifecycle (0.00s)
=== RUN   TestErrorScenarios
--- PASS: TestErrorScenarios (0.00s)
=== RUN   TestConfigurationScenarios
--- PASS: TestConfigurationScenarios (0.00s)
=== RUN   TestSignalHandlingScenarios
--- PASS: TestSignalHandlingScenarios (0.00s)
=== RUN   TestTimeoutScenarios
--- PASS: TestTimeoutScenarios (0.00s)
=== RUN   TestMainFunctionErrorHandling
--- PASS: TestMainFunctionErrorHandling (0.00s)
=== RUN   TestMainFunction
--- PASS: TestMainFunction (0.03s)
=== RUN   TestRunFunction
2025/09/30 23:11:20 INFO Initializing telemetry enabled=false otlp_endpoint=http://localhost:4318 service_name=github.com/irfandi/celebrum-ai-go service_version=1.0.0
2025/09/30 23:11:20 INFO Telemetry disabled
=== RUN   TestRunFunction/invalid_database_port
=== RUN   TestRunFunction/invalid_server_port
=== RUN   TestRunFunction/invalid_redis_port
--- PASS: TestRunFunction (0.01s)
    --- PASS: TestRunFunction/invalid_database_port (0.00s)
    --- PASS: TestRunFunction/invalid_server_port (0.00s)
    --- PASS: TestRunFunction/invalid_redis_port (0.00s)
=== RUN   TestMainConfigurationLoading
--- PASS: TestMainConfigurationLoading (0.00s)
=== RUN   TestGracefulShutdownIntegration
--- PASS: TestGracefulShutdownIntegration (0.00s)
=== RUN   TestMainErrorHandling
=== RUN   TestMainErrorHandling/configuration_error
=== RUN   TestMainErrorHandling/database_error
=== RUN   TestMainErrorHandling/redis_error
--- PASS: TestMainErrorHandling (0.00s)
    --- PASS: TestMainErrorHandling/configuration_error (0.00s)
    --- PASS: TestMainErrorHandling/database_error (0.00s)
    --- PASS: TestMainErrorHandling/redis_error (0.00s)
PASS
coverage: 17.4% of statements
ok  	github.com/irfandi/celebrum-ai-go/cmd/server	(cached)	coverage: 17.4% of statements
=== RUN   TestHealthResponse_Struct
--- PASS: TestHealthResponse_Struct (0.00s)
=== RUN   TestServices_Struct
--- PASS: TestServices_Struct (0.00s)
=== RUN   TestHealthResponse_JSONMarshaling
--- PASS: TestHealthResponse_JSONMarshaling (0.00s)
=== RUN   TestGetUserAlerts
--- PASS: TestGetUserAlerts (0.00s)
=== RUN   TestCreateAlert
--- PASS: TestCreateAlert (0.00s)
=== RUN   TestUpdateAlert
--- PASS: TestUpdateAlert (0.00s)
=== RUN   TestDeleteAlert
--- PASS: TestDeleteAlert (0.00s)
=== RUN   TestHealthResponse_TimeOperations
--- PASS: TestHealthResponse_TimeOperations (0.00s)
=== RUN   TestHealthResponse_DifferentStatuses
--- PASS: TestHealthResponse_DifferentStatuses (0.00s)
=== RUN   TestHealthResponse_Version
--- PASS: TestHealthResponse_Version (0.00s)
=== RUN   TestServices_StatusCombinations
--- PASS: TestServices_StatusCombinations (0.00s)
=== RUN   TestHealthResponse_JSONFields
--- PASS: TestHealthResponse_JSONFields (0.00s)
=== RUN   TestHealthResponse_EmptyValues
--- PASS: TestHealthResponse_EmptyValues (0.00s)
=== RUN   TestHealthResponse_TimestampPrecision
--- PASS: TestHealthResponse_TimestampPrecision (0.00s)
=== RUN   TestPlaceholderHandlers_StatusCodes
--- PASS: TestPlaceholderHandlers_StatusCodes (0.00s)
=== RUN   TestSetupRoutes_Comprehensive
--- PASS: TestSetupRoutes_Comprehensive (0.00s)
=== RUN   TestSetupRoutes_FunctionSignature
--- PASS: TestSetupRoutes_FunctionSignature (0.00s)
=== RUN   TestSetupRoutes_PanicHandling
--- PASS: TestSetupRoutes_PanicHandling (0.00s)
=== RUN   TestSetupRoutes_RouteRegistration
DEBUG: About to initialize Telegram handler with config: &{BotToken:test-token WebhookURL: UsePolling:false PollingOffset:0 PollingLimit:0 PollingTimeout:0}
2025/09/30 23:11:26 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:26 [DEBUG] Telegram config: BotToken=test-token..., UsePolling=false
2025/09/30 23:11:26 Failed to create Telegram bot: error call getMe, not found, Not Found
2025/09/30 23:11:26 Telegram bot functionality will be disabled
DEBUG: Telegram handler initialized: true
Database not available for futures arbitrage handler initialization
Skipping futures arbitrage routes due to handler initialization failure
--- PASS: TestSetupRoutes_RouteRegistration (1.01s)
=== RUN   TestSetupRoutes_RouteGroups
DEBUG: About to initialize Telegram handler with config: &{BotToken:test-token WebhookURL: UsePolling:false PollingOffset:0 PollingLimit:0 PollingTimeout:0}
2025/09/30 23:11:27 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:27 [DEBUG] Telegram config: BotToken=test-token..., UsePolling=false
2025/09/30 23:11:27 Failed to create Telegram bot: error call getMe, not found, Not Found
2025/09/30 23:11:27 Telegram bot functionality will be disabled
DEBUG: Telegram handler initialized: true
Database not available for futures arbitrage handler initialization
Skipping futures arbitrage routes due to handler initialization failure
--- PASS: TestSetupRoutes_RouteGroups (0.39s)
=== RUN   TestSetupRoutes_HttpMethods
DEBUG: About to initialize Telegram handler with config: &{BotToken:test-token WebhookURL: UsePolling:false PollingOffset:0 PollingLimit:0 PollingTimeout:0}
2025/09/30 23:11:27 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:27 [DEBUG] Telegram config: BotToken=test-token..., UsePolling=false
2025/09/30 23:11:27 Failed to create Telegram bot: error call getMe, not found, Not Found
2025/09/30 23:11:27 Telegram bot functionality will be disabled
DEBUG: Telegram handler initialized: true
Database not available for futures arbitrage handler initialization
Skipping futures arbitrage routes due to handler initialization failure
--- PASS: TestSetupRoutes_HttpMethods (0.39s)
=== RUN   TestSetupRoutes_Middleware
DEBUG: About to initialize Telegram handler with config: &{BotToken:test-token WebhookURL: UsePolling:false PollingOffset:0 PollingLimit:0 PollingTimeout:0}
2025/09/30 23:11:27 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:27 [DEBUG] Telegram config: BotToken=test-token..., UsePolling=false
2025/09/30 23:11:28 Failed to create Telegram bot: error call getMe, not found, Not Found
2025/09/30 23:11:28 Telegram bot functionality will be disabled
DEBUG: Telegram handler initialized: true
Database not available for futures arbitrage handler initialization
Skipping futures arbitrage routes due to handler initialization failure
--- PASS: TestSetupRoutes_Middleware (0.38s)
=== RUN   TestSetupRoutes_MissingAdminKey
DEBUG: About to initialize Telegram handler with config: &{BotToken:test-token WebhookURL: UsePolling:false PollingOffset:0 PollingLimit:0 PollingTimeout:0}
2025/09/30 23:11:28 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:28 [DEBUG] Telegram config: BotToken=test-token..., UsePolling=false
2025/09/30 23:11:28 Failed to create Telegram bot: error call getMe, not found, Not Found
2025/09/30 23:11:28 Telegram bot functionality will be disabled
DEBUG: Telegram handler initialized: true
Database not available for futures arbitrage handler initialization
Skipping futures arbitrage routes due to handler initialization failure
--- PASS: TestSetupRoutes_MissingAdminKey (0.40s)
=== RUN   TestSetupRoutes_MissingTelegramConfig
DEBUG: About to initialize Telegram handler with config: &{BotToken:test-token WebhookURL: UsePolling:false PollingOffset:0 PollingLimit:0 PollingTimeout:0}
2025/09/30 23:11:28 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:28 [DEBUG] Telegram config: BotToken=test-token..., UsePolling=false
2025/09/30 23:11:28 Failed to create Telegram bot: error call getMe, not found, Not Found
2025/09/30 23:11:28 Telegram bot functionality will be disabled
DEBUG: Telegram handler initialized: true
Database not available for futures arbitrage handler initialization
Skipping futures arbitrage routes due to handler initialization failure
--- PASS: TestSetupRoutes_MissingTelegramConfig (0.39s)
PASS
coverage: 88.5% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/api	(cached)	coverage: 88.5% of statements
=== RUN   TestTechnicalIndicator_Struct
--- PASS: TestTechnicalIndicator_Struct (0.00s)
=== RUN   TestTradingSignal_Struct
--- PASS: TestTradingSignal_Struct (0.00s)
=== RUN   TestIndicatorsResponse_Struct
--- PASS: TestIndicatorsResponse_Struct (0.00s)
=== RUN   TestSignalsResponse_Struct
--- PASS: TestSignalsResponse_Struct (0.00s)
=== RUN   TestOHLCV_Struct
--- PASS: TestOHLCV_Struct (0.00s)
=== RUN   TestNewAnalysisHandler
--- PASS: TestNewAnalysisHandler (0.00s)
=== RUN   TestAnalysisHandler_GetTechnicalIndicators
=== RUN   TestAnalysisHandler_GetTechnicalIndicators/missing_symbol
=== RUN   TestAnalysisHandler_GetTechnicalIndicators/missing_exchange
--- PASS: TestAnalysisHandler_GetTechnicalIndicators (0.00s)
    --- PASS: TestAnalysisHandler_GetTechnicalIndicators/missing_symbol (0.00s)
    --- PASS: TestAnalysisHandler_GetTechnicalIndicators/missing_exchange (0.00s)
=== RUN   TestAnalysisHandler_GetTradingSignals
=== RUN   TestAnalysisHandler_GetTradingSignals/invalid_min_confidence
--- PASS: TestAnalysisHandler_GetTradingSignals (0.00s)
    --- PASS: TestAnalysisHandler_GetTradingSignals/invalid_min_confidence (0.00s)
=== RUN   TestAnalysisHandler_calculateSMA
--- PASS: TestAnalysisHandler_calculateSMA (0.00s)
=== RUN   TestAnalysisHandler_calculateEMA
--- PASS: TestAnalysisHandler_calculateEMA (0.00s)
=== RUN   TestAnalysisHandler_calculateRSI
--- PASS: TestAnalysisHandler_calculateRSI (0.00s)
=== RUN   TestAnalysisHandler_calculateMACD
--- PASS: TestAnalysisHandler_calculateMACD (0.00s)
=== RUN   TestAnalysisHandler_calculateBollingerBands
--- PASS: TestAnalysisHandler_calculateBollingerBands (0.00s)
=== RUN   TestAnalysisHandler_calculateSupportResistance
--- PASS: TestAnalysisHandler_calculateSupportResistance (0.00s)
=== RUN   TestAnalysisHandler_calculateIndicators
--- PASS: TestAnalysisHandler_calculateIndicators (0.00s)
=== RUN   TestAnalysisHandler_getOHLCVData
--- PASS: TestAnalysisHandler_getOHLCVData (0.00s)
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols/BTC/USDT
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols/ETH/USDT
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols/BNB/USDT
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols/ADA/USDT
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols/XRP/USDT
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges/binance
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges/coinbase
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges/kraken
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges/kucoin
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges/bitfinex
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_limits
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_0
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_1
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_10
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_50
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_100
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_1000
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/negative_limit
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/empty_symbol
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/empty_exchange
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/context_cancellation
=== RUN   TestAnalysisHandler_simulateOHLCVFromTickers/timeout_context
--- PASS: TestAnalysisHandler_simulateOHLCVFromTickers (0.00s)
    --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols/BTC/USDT (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols/ETH/USDT (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols/BNB/USDT (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols/ADA/USDT (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_symbols/XRP/USDT (0.00s)
    --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges/binance (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges/coinbase (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges/kraken (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges/kucoin (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_exchanges/bitfinex (0.00s)
    --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_limits (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_0 (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_1 (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_10 (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_50 (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_100 (0.00s)
        --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/various_limits/limit_1000 (0.00s)
    --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/negative_limit (0.00s)
    --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/empty_symbol (0.00s)
    --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/empty_exchange (0.00s)
    --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/context_cancellation (0.00s)
    --- PASS: TestAnalysisHandler_simulateOHLCVFromTickers/timeout_context (0.00s)
=== RUN   TestAnalysisHandler_generateTradingSignal
--- PASS: TestAnalysisHandler_generateTradingSignal (0.00s)
=== RUN   TestAnalysisHandler_getAllTradingSignals
--- PASS: TestAnalysisHandler_getAllTradingSignals (0.00s)
=== RUN   TestNewArbitrageHandler
=== RUN   TestNewArbitrageHandler/create_handler_with_nil_dependencies
--- PASS: TestNewArbitrageHandler (0.00s)
    --- PASS: TestNewArbitrageHandler/create_handler_with_nil_dependencies (0.00s)
=== RUN   TestArbitrageHandler_BasicFunctionality
--- PASS: TestArbitrageHandler_BasicFunctionality (0.00s)
=== RUN   TestArbitrageHandler_FindCrossExchangeArbitrage
=== RUN   TestArbitrageHandler_FindCrossExchangeArbitrage/empty_exchanges_map
=== RUN   TestArbitrageHandler_FindCrossExchangeArbitrage/single_exchange
=== RUN   TestArbitrageHandler_FindCrossExchangeArbitrage/multiple_exchanges_with_arbitrage_opportunity
=== RUN   TestArbitrageHandler_FindCrossExchangeArbitrage/multiple_exchanges_no_arbitrage_opportunity
=== RUN   TestArbitrageHandler_FindCrossExchangeArbitrage/stale_data_filtering
    arbitrage_test.go:103: Implementation doesn't filter stale data yet - test documents current behavior only
--- PASS: TestArbitrageHandler_FindCrossExchangeArbitrage (0.00s)
    --- PASS: TestArbitrageHandler_FindCrossExchangeArbitrage/empty_exchanges_map (0.00s)
    --- PASS: TestArbitrageHandler_FindCrossExchangeArbitrage/single_exchange (0.00s)
    --- PASS: TestArbitrageHandler_FindCrossExchangeArbitrage/multiple_exchanges_with_arbitrage_opportunity (0.00s)
    --- PASS: TestArbitrageHandler_FindCrossExchangeArbitrage/multiple_exchanges_no_arbitrage_opportunity (0.00s)
    --- SKIP: TestArbitrageHandler_FindCrossExchangeArbitrage/stale_data_filtering (0.00s)
=== RUN   TestArbitrageHandler_CalculateSMA
=== RUN   TestArbitrageHandler_CalculateSMA/empty_data
=== RUN   TestArbitrageHandler_CalculateSMA/single_data_point
=== RUN   TestArbitrageHandler_CalculateSMA/multiple_data_points
=== RUN   TestArbitrageHandler_CalculateSMA/decimal_precision
--- PASS: TestArbitrageHandler_CalculateSMA (0.00s)
    --- PASS: TestArbitrageHandler_CalculateSMA/empty_data (0.00s)
    --- PASS: TestArbitrageHandler_CalculateSMA/single_data_point (0.00s)
    --- PASS: TestArbitrageHandler_CalculateSMA/multiple_data_points (0.00s)
    --- PASS: TestArbitrageHandler_CalculateSMA/decimal_precision (0.00s)
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_Integration
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_Integration/basic_arbitrage_detection
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_Integration/higher_profit_threshold
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_Integration/no_limit
--- PASS: TestArbitrageHandler_FindArbitrageOpportunities_Integration (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_Integration/basic_arbitrage_detection (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_Integration/higher_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_Integration/no_limit (0.00s)
=== RUN   TestArbitrageHandler_SendArbitrageNotifications
=== RUN   TestArbitrageHandler_SendArbitrageNotifications/nil_notification_service_does_not_panic
=== RUN   TestArbitrageHandler_SendArbitrageNotifications/low_profit_opportunities_do_not_trigger_notifications
=== RUN   TestArbitrageHandler_SendArbitrageNotifications/mixed_profit_opportunities_filter_correctly
=== RUN   TestArbitrageHandler_SendArbitrageNotifications/empty_opportunities_list_does_not_trigger_notifications
--- PASS: TestArbitrageHandler_SendArbitrageNotifications (0.00s)
    --- PASS: TestArbitrageHandler_SendArbitrageNotifications/nil_notification_service_does_not_panic (0.00s)
    --- PASS: TestArbitrageHandler_SendArbitrageNotifications/low_profit_opportunities_do_not_trigger_notifications (0.00s)
    --- PASS: TestArbitrageHandler_SendArbitrageNotifications/mixed_profit_opportunities_filter_correctly (0.00s)
    --- PASS: TestArbitrageHandler_SendArbitrageNotifications/empty_opportunities_list_does_not_trigger_notifications (0.00s)
=== RUN   TestArbitrageHandler_DecimalCalculations
=== RUN   TestArbitrageHandler_DecimalCalculations/profit_calculation_with_decimal_precision
=== RUN   TestArbitrageHandler_DecimalCalculations/volume_calculations
--- PASS: TestArbitrageHandler_DecimalCalculations (0.00s)
    --- PASS: TestArbitrageHandler_DecimalCalculations/profit_calculation_with_decimal_precision (0.00s)
    --- PASS: TestArbitrageHandler_DecimalCalculations/volume_calculations (0.00s)
=== RUN   TestArbitrageHandler_GetArbitrageOpportunities
=== RUN   TestArbitrageHandler_GetArbitrageOpportunities/valid_request_with_default_parameters
2025/09/30 23:11:37 Finding arbitrage opportunities with min_profit=0.50, limit=50, symbol=
2025/09/30 23:11:37 Found 0 arbitrage opportunities
=== RUN   TestArbitrageHandler_GetArbitrageOpportunities/custom_min_profit_parameter
2025/09/30 23:11:37 Finding arbitrage opportunities with min_profit=1.50, limit=50, symbol=
2025/09/30 23:11:37 Found 0 arbitrage opportunities
=== RUN   TestArbitrageHandler_GetArbitrageOpportunities/custom_limit_parameter
2025/09/30 23:11:37 Finding arbitrage opportunities with min_profit=0.50, limit=25, symbol=
2025/09/30 23:11:37 Found 0 arbitrage opportunities
=== RUN   TestArbitrageHandler_GetArbitrageOpportunities/symbol_filter_parameter
2025/09/30 23:11:37 Finding arbitrage opportunities with min_profit=0.50, limit=50, symbol=BTC/USDT
2025/09/30 23:11:37 Found 0 arbitrage opportunities
=== RUN   TestArbitrageHandler_GetArbitrageOpportunities/invalid_min_profit_parameter
=== RUN   TestArbitrageHandler_GetArbitrageOpportunities/invalid_limit_parameter
--- PASS: TestArbitrageHandler_GetArbitrageOpportunities (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageOpportunities/valid_request_with_default_parameters (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageOpportunities/custom_min_profit_parameter (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageOpportunities/custom_limit_parameter (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageOpportunities/symbol_filter_parameter (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageOpportunities/invalid_min_profit_parameter (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageOpportunities/invalid_limit_parameter (0.00s)
=== RUN   TestArbitrageHandler_GetArbitrageHistory
=== RUN   TestArbitrageHandler_GetArbitrageHistory/valid_request_with_default_parameters
=== RUN   TestArbitrageHandler_GetArbitrageHistory/custom_pagination_parameters
=== RUN   TestArbitrageHandler_GetArbitrageHistory/symbol_filter
=== RUN   TestArbitrageHandler_GetArbitrageHistory/invalid_page_parameter
=== RUN   TestArbitrageHandler_GetArbitrageHistory/invalid_limit_parameter
=== RUN   TestArbitrageHandler_GetArbitrageHistory/limit_too_high
--- PASS: TestArbitrageHandler_GetArbitrageHistory (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory/valid_request_with_default_parameters (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory/custom_pagination_parameters (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory/symbol_filter (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory/invalid_page_parameter (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory/invalid_limit_parameter (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory/limit_too_high (0.00s)
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage/valid_request_with_default_parameters
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage/custom_parameters
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage/custom_symbols_and_exchanges
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage/invalid_min_profit_parameter
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage/negative_min_profit_parameter
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage/invalid_max_risk_parameter
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage/max_risk_too_low
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage/max_risk_too_high
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage/invalid_limit_parameter
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage/limit_too_low
=== RUN   TestArbitrageHandler_GetFundingRateArbitrage/limit_too_high
--- PASS: TestArbitrageHandler_GetFundingRateArbitrage (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRateArbitrage/valid_request_with_default_parameters (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRateArbitrage/custom_parameters (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRateArbitrage/custom_symbols_and_exchanges (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRateArbitrage/invalid_min_profit_parameter (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRateArbitrage/negative_min_profit_parameter (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRateArbitrage/invalid_max_risk_parameter (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRateArbitrage/max_risk_too_low (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRateArbitrage/max_risk_too_high (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRateArbitrage/invalid_limit_parameter (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRateArbitrage/limit_too_low (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRateArbitrage/limit_too_high (0.00s)
=== RUN   TestArbitrageHandler_GetFundingRates
=== RUN   TestArbitrageHandler_GetFundingRates/missing_exchange_parameter
=== RUN   TestArbitrageHandler_GetFundingRates/valid_exchange_parameter_without_symbols
=== RUN   TestArbitrageHandler_GetFundingRates/valid_exchange_with_symbols
--- PASS: TestArbitrageHandler_GetFundingRates (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRates/missing_exchange_parameter (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRates/valid_exchange_parameter_without_symbols (0.00s)
    --- PASS: TestArbitrageHandler_GetFundingRates/valid_exchange_with_symbols (0.00s)
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/nil_database_returns_empty_opportunities
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/zero_profit_threshold
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/negative_profit_threshold
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/high_profit_threshold
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/with_symbol_filter
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/context_cancellation
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds/threshold_0.1
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds/threshold_0.5
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds/threshold_1.0
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds/threshold_2.0
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds/threshold_5.0
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters/symbol_BTC/USDT
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters/symbol_ETH/USDT
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters/symbol_BNB/USDT
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters/symbol_ADA/USDT
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters/symbol_XRP/USDT
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/edge_case_very_high_threshold
=== RUN   TestArbitrageHandler_TechnicalAnalysisOpportunities/edge_case_empty_symbol_filter
--- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities (0.00s)
    --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/nil_database_returns_empty_opportunities (0.00s)
    --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/zero_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/negative_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/high_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/with_symbol_filter (0.00s)
    --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/context_cancellation (0.00s)
    --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds (0.00s)
        --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds/threshold_0.1 (0.00s)
        --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds/threshold_0.5 (0.00s)
        --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds/threshold_1.0 (0.00s)
        --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds/threshold_2.0 (0.00s)
        --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_profit_thresholds/threshold_5.0 (0.00s)
    --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters (0.00s)
        --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters/symbol_BTC/USDT (0.00s)
        --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters/symbol_ETH/USDT (0.00s)
        --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters/symbol_BNB/USDT (0.00s)
        --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters/symbol_ADA/USDT (0.00s)
        --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/various_symbol_filters/symbol_XRP/USDT (0.00s)
    --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/edge_case_very_high_threshold (0.00s)
    --- PASS: TestArbitrageHandler_TechnicalAnalysisOpportunities/edge_case_empty_symbol_filter (0.00s)
=== RUN   TestArbitrageHandler_VolatilityOpportunities
=== RUN   TestArbitrageHandler_VolatilityOpportunities/nil_database_returns_empty_opportunities
=== RUN   TestArbitrageHandler_VolatilityOpportunities/zero_profit_threshold
=== RUN   TestArbitrageHandler_VolatilityOpportunities/negative_profit_threshold
=== RUN   TestArbitrageHandler_VolatilityOpportunities/high_profit_threshold
=== RUN   TestArbitrageHandler_VolatilityOpportunities/with_symbol_filter
=== RUN   TestArbitrageHandler_VolatilityOpportunities/context_cancellation
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_0.1
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_0.5
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_1.0
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_2.0
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_5.0
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_10.0
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/BTC/USDT
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/ETH/USDT
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/BNB/USDT
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/ADA/USDT
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/XRP/USDT
=== RUN   TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/SOL/USDT
=== RUN   TestArbitrageHandler_VolatilityOpportunities/edge_cases
=== RUN   TestArbitrageHandler_VolatilityOpportunities/edge_cases/very_high_threshold
=== RUN   TestArbitrageHandler_VolatilityOpportunities/edge_cases/empty_symbol_filter
=== RUN   TestArbitrageHandler_VolatilityOpportunities/edge_cases/low_volatility_threshold
=== RUN   TestArbitrageHandler_VolatilityOpportunities/edge_cases/medium_volatility_threshold
=== RUN   TestArbitrageHandler_VolatilityOpportunities/edge_cases/extreme_volatility_threshold
--- PASS: TestArbitrageHandler_VolatilityOpportunities (0.00s)
    --- PASS: TestArbitrageHandler_VolatilityOpportunities/nil_database_returns_empty_opportunities (0.00s)
    --- PASS: TestArbitrageHandler_VolatilityOpportunities/zero_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_VolatilityOpportunities/negative_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_VolatilityOpportunities/high_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_VolatilityOpportunities/with_symbol_filter (0.00s)
    --- PASS: TestArbitrageHandler_VolatilityOpportunities/context_cancellation (0.00s)
    --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_0.1 (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_0.5 (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_1.0 (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_2.0 (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_5.0 (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_profit_thresholds/threshold_10.0 (0.00s)
    --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/BTC/USDT (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/ETH/USDT (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/BNB/USDT (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/ADA/USDT (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/XRP/USDT (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/various_symbol_filters/SOL/USDT (0.00s)
    --- PASS: TestArbitrageHandler_VolatilityOpportunities/edge_cases (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/edge_cases/very_high_threshold (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/edge_cases/empty_symbol_filter (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/edge_cases/low_volatility_threshold (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/edge_cases/medium_volatility_threshold (0.00s)
        --- PASS: TestArbitrageHandler_VolatilityOpportunities/edge_cases/extreme_volatility_threshold (0.00s)
=== RUN   TestArbitrageHandler_SpreadOpportunities
=== RUN   TestArbitrageHandler_SpreadOpportunities/nil_database_returns_empty_opportunities
=== RUN   TestArbitrageHandler_SpreadOpportunities/zero_profit_threshold
=== RUN   TestArbitrageHandler_SpreadOpportunities/negative_profit_threshold
=== RUN   TestArbitrageHandler_SpreadOpportunities/high_profit_threshold
=== RUN   TestArbitrageHandler_SpreadOpportunities/with_symbol_filter
=== RUN   TestArbitrageHandler_SpreadOpportunities/context_cancellation
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_0.1
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_0.5
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_1.0
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_2.0
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_5.0
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_10.0
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_symbol_filters
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/BTC/USDT
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/ETH/USDT
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/BNB/USDT
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/ADA/USDT
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/XRP/USDT
=== RUN   TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/SOL/USDT
=== RUN   TestArbitrageHandler_SpreadOpportunities/edge_cases
=== RUN   TestArbitrageHandler_SpreadOpportunities/edge_cases/very_high_threshold
=== RUN   TestArbitrageHandler_SpreadOpportunities/edge_cases/empty_symbol_filter
=== RUN   TestArbitrageHandler_SpreadOpportunities/edge_cases/low_spread_threshold
=== RUN   TestArbitrageHandler_SpreadOpportunities/edge_cases/medium_spread_threshold
=== RUN   TestArbitrageHandler_SpreadOpportunities/edge_cases/extreme_spread_threshold
--- PASS: TestArbitrageHandler_SpreadOpportunities (0.00s)
    --- PASS: TestArbitrageHandler_SpreadOpportunities/nil_database_returns_empty_opportunities (0.00s)
    --- PASS: TestArbitrageHandler_SpreadOpportunities/zero_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_SpreadOpportunities/negative_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_SpreadOpportunities/high_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_SpreadOpportunities/with_symbol_filter (0.00s)
    --- PASS: TestArbitrageHandler_SpreadOpportunities/context_cancellation (0.00s)
    --- PASS: TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_0.1 (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_0.5 (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_1.0 (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_2.0 (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_5.0 (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_profit_thresholds/threshold_10.0 (0.00s)
    --- PASS: TestArbitrageHandler_SpreadOpportunities/various_symbol_filters (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/BTC/USDT (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/ETH/USDT (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/BNB/USDT (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/ADA/USDT (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/XRP/USDT (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/various_symbol_filters/SOL/USDT (0.00s)
    --- PASS: TestArbitrageHandler_SpreadOpportunities/edge_cases (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/edge_cases/very_high_threshold (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/edge_cases/empty_symbol_filter (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/edge_cases/low_spread_threshold (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/edge_cases/medium_spread_threshold (0.00s)
        --- PASS: TestArbitrageHandler_SpreadOpportunities/edge_cases/extreme_spread_threshold (0.00s)
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/nil_database_returns_empty_history
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/zero_limit
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/negative_limit
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/negative_offset
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/with_symbol_filter
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/with_empty_symbol_filter
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_1
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_5
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_10
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_25
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_50
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_100
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_0
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_5
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_10
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_20
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_50
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_100
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/BTC/USDT
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/ETH/USDT
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/BNB/USDT
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/ADA/USDT
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/XRP/USDT
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/SOL/USDT
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/MATIC/USDT
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/pagination_parameters
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/large_limit_and_offset
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/zero_all
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/limit_zero_with_symbol
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/offset_zero_with_limit
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/high_pagination
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/single_item
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/large_offset
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/context_cancellation
=== RUN   TestArbitrageHandler_GetArbitrageHistory_Internal/timeout_context
--- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/nil_database_returns_empty_history (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/zero_limit (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/negative_limit (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/negative_offset (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/with_symbol_filter (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/with_empty_symbol_filter (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_1 (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_5 (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_10 (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_25 (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_50 (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_limit_values/limit_100 (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_0 (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_5 (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_10 (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_20 (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_50 (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_offset_values/offset_100 (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/BTC/USDT (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/ETH/USDT (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/BNB/USDT (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/ADA/USDT (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/XRP/USDT (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/SOL/USDT (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/various_symbol_filters/MATIC/USDT (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/pagination_parameters (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/large_limit_and_offset (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/zero_all (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/limit_zero_with_symbol (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/offset_zero_with_limit (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/high_pagination (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/single_item (0.00s)
        --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/edge_case_combinations/large_offset (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/context_cancellation (0.00s)
    --- PASS: TestArbitrageHandler_GetArbitrageHistory_Internal/timeout_context (0.00s)
=== RUN   TestArbitrageHandler_SendArbitrageNotifications_Integration
=== RUN   TestArbitrageHandler_SendArbitrageNotifications_Integration/nil_notification_service_does_not_panic
=== RUN   TestArbitrageHandler_SendArbitrageNotifications_Integration/low_profit_opportunities_do_not_trigger_notifications
=== RUN   TestArbitrageHandler_SendArbitrageNotifications_Integration/high_profit_opportunities_trigger_notifications
=== RUN   TestArbitrageHandler_SendArbitrageNotifications_Integration/mixed_profit_opportunities_filter_correctly
=== RUN   TestArbitrageHandler_SendArbitrageNotifications_Integration/empty_opportunities_list_does_not_trigger_notifications
--- PASS: TestArbitrageHandler_SendArbitrageNotifications_Integration (0.00s)
    --- PASS: TestArbitrageHandler_SendArbitrageNotifications_Integration/nil_notification_service_does_not_panic (0.00s)
    --- PASS: TestArbitrageHandler_SendArbitrageNotifications_Integration/low_profit_opportunities_do_not_trigger_notifications (0.00s)
    --- PASS: TestArbitrageHandler_SendArbitrageNotifications_Integration/high_profit_opportunities_trigger_notifications (0.00s)
    --- PASS: TestArbitrageHandler_SendArbitrageNotifications_Integration/mixed_profit_opportunities_filter_correctly (0.00s)
    --- PASS: TestArbitrageHandler_SendArbitrageNotifications_Integration/empty_opportunities_list_does_not_trigger_notifications (0.00s)
=== RUN   TestArbitrageHandler_FindCrossExchangeOpportunities
=== RUN   TestArbitrageHandler_FindCrossExchangeOpportunities/nil_database_returns_empty_opportunities
=== RUN   TestArbitrageHandler_FindCrossExchangeOpportunities/with_symbol_filter
=== RUN   TestArbitrageHandler_FindCrossExchangeOpportunities/higher_minimum_profit_threshold
=== RUN   TestArbitrageHandler_FindCrossExchangeOpportunities/low_minimum_profit_threshold
--- PASS: TestArbitrageHandler_FindCrossExchangeOpportunities (0.00s)
    --- PASS: TestArbitrageHandler_FindCrossExchangeOpportunities/nil_database_returns_empty_opportunities (0.00s)
    --- PASS: TestArbitrageHandler_FindCrossExchangeOpportunities/with_symbol_filter (0.00s)
    --- PASS: TestArbitrageHandler_FindCrossExchangeOpportunities/higher_minimum_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_FindCrossExchangeOpportunities/low_minimum_profit_threshold (0.00s)
=== RUN   TestArbitrageHandler_SendArbitrageNotifications_NilService
=== RUN   TestArbitrageHandler_SendArbitrageNotifications_NilService/nil_notification_service_does_not_panic
--- PASS: TestArbitrageHandler_SendArbitrageNotifications_NilService (0.00s)
    --- PASS: TestArbitrageHandler_SendArbitrageNotifications_NilService/nil_notification_service_does_not_panic (0.00s)
=== RUN   TestArbitrageHandler_SendArbitrageNotifications_Filtering
=== RUN   TestArbitrageHandler_SendArbitrageNotifications_Filtering/opportunities_below_1%_threshold_are_filtered_out
--- PASS: TestArbitrageHandler_SendArbitrageNotifications_Filtering (0.00s)
    --- PASS: TestArbitrageHandler_SendArbitrageNotifications_Filtering/opportunities_below_1%_threshold_are_filtered_out (0.00s)
=== RUN   TestArbitrageHandler_ParameterParsing
=== RUN   TestArbitrageHandler_ParameterParsing/parse_valid_min_profit
=== RUN   TestArbitrageHandler_ParameterParsing/parse_invalid_min_profit
=== RUN   TestArbitrageHandler_ParameterParsing/parse_valid_limit
=== RUN   TestArbitrageHandler_ParameterParsing/parse_invalid_limit
=== RUN   TestArbitrageHandler_ParameterParsing/parse_valid_page
=== RUN   TestArbitrageHandler_ParameterParsing/parse_invalid_page
=== RUN   TestArbitrageHandler_ParameterParsing/parse_valid_max_risk
=== RUN   TestArbitrageHandler_ParameterParsing/parse_invalid_max_risk
--- PASS: TestArbitrageHandler_ParameterParsing (0.00s)
    --- PASS: TestArbitrageHandler_ParameterParsing/parse_valid_min_profit (0.00s)
    --- PASS: TestArbitrageHandler_ParameterParsing/parse_invalid_min_profit (0.00s)
    --- PASS: TestArbitrageHandler_ParameterParsing/parse_valid_limit (0.00s)
    --- PASS: TestArbitrageHandler_ParameterParsing/parse_invalid_limit (0.00s)
    --- PASS: TestArbitrageHandler_ParameterParsing/parse_valid_page (0.00s)
    --- PASS: TestArbitrageHandler_ParameterParsing/parse_invalid_page (0.00s)
    --- PASS: TestArbitrageHandler_ParameterParsing/parse_valid_max_risk (0.00s)
    --- PASS: TestArbitrageHandler_ParameterParsing/parse_invalid_max_risk (0.00s)
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ErrorCases
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ErrorCases/nil_database_returns_empty_slice
--- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ErrorCases (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ErrorCases/nil_database_returns_empty_slice (0.00s)
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ParameterValidation
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ParameterValidation/zero_profit_threshold
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ParameterValidation/negative_profit_threshold
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ParameterValidation/zero_limit
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ParameterValidation/negative_limit
--- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ParameterValidation (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ParameterValidation/zero_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ParameterValidation/negative_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ParameterValidation/zero_limit (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ParameterValidation/negative_limit (0.00s)
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_SymbolFiltering
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_SymbolFiltering/empty_symbol_filter
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_SymbolFiltering/specific_symbol_filter
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_SymbolFiltering/different_symbol_filters
--- PASS: TestArbitrageHandler_FindArbitrageOpportunities_SymbolFiltering (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_SymbolFiltering/empty_symbol_filter (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_SymbolFiltering/specific_symbol_filter (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_SymbolFiltering/different_symbol_filters (0.00s)
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_0.1%
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_0.5%
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_1.0%
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_2.0%
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_5.0%
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_10.0%
--- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_0.1% (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_0.5% (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_1.0% (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_2.0% (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_5.0% (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ProfitThresholds/profit_threshold_10.0% (0.00s)
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_Limits
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_0
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_1
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_5
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_10
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_50
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_100
--- PASS: TestArbitrageHandler_FindArbitrageOpportunities_Limits (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_0 (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_1 (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_5 (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_10 (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_50 (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_Limits/limit_100 (0.00s)
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_SortingAndLimiting
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_SortingAndLimiting/nil_database_returns_empty_slice
--- PASS: TestArbitrageHandler_FindArbitrageOpportunities_SortingAndLimiting (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_SortingAndLimiting/nil_database_returns_empty_slice (0.00s)
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ContextHandling
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ContextHandling/cancelled_context
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_ContextHandling/deadline_exceeded_context
--- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ContextHandling (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ContextHandling/cancelled_context (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_ContextHandling/deadline_exceeded_context (0.00s)
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/very_high_profit_threshold
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/very_large_limit
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/special_characters_in_symbol_filter
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/symbol_filter_case_sensitivity
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/negative_profit_threshold_with_nil_db
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/zero_limit_with_nil_db
=== RUN   TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/negative_limit_with_nil_db
--- PASS: TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/very_high_profit_threshold (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/very_large_limit (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/special_characters_in_symbol_filter (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/symbol_filter_case_sensitivity (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/negative_profit_threshold_with_nil_db (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/zero_limit_with_nil_db (0.00s)
    --- PASS: TestArbitrageHandler_FindArbitrageOpportunities_EdgeCases/negative_limit_with_nil_db (0.00s)
=== RUN   TestAuthIntegration_RequireAuth
=== RUN   TestAuthIntegration_RequireAuth/valid_token_access
=== RUN   TestAuthIntegration_RequireAuth/missing_authorization_header
=== RUN   TestAuthIntegration_RequireAuth/invalid_token_format
=== RUN   TestAuthIntegration_RequireAuth/expired_token
=== RUN   TestAuthIntegration_RequireAuth/POST_request_with_valid_token
--- PASS: TestAuthIntegration_RequireAuth (0.00s)
    --- PASS: TestAuthIntegration_RequireAuth/valid_token_access (0.00s)
    --- PASS: TestAuthIntegration_RequireAuth/missing_authorization_header (0.00s)
    --- PASS: TestAuthIntegration_RequireAuth/invalid_token_format (0.00s)
    --- PASS: TestAuthIntegration_RequireAuth/expired_token (0.00s)
    --- PASS: TestAuthIntegration_RequireAuth/POST_request_with_valid_token (0.00s)
=== RUN   TestAuthIntegration_OptionalAuth
=== RUN   TestAuthIntegration_OptionalAuth/with_valid_token
=== RUN   TestAuthIntegration_OptionalAuth/without_token
=== RUN   TestAuthIntegration_OptionalAuth/with_invalid_token_format
=== RUN   TestAuthIntegration_OptionalAuth/with_expired_token
--- PASS: TestAuthIntegration_OptionalAuth (0.00s)
    --- PASS: TestAuthIntegration_OptionalAuth/with_valid_token (0.00s)
    --- PASS: TestAuthIntegration_OptionalAuth/without_token (0.00s)
    --- PASS: TestAuthIntegration_OptionalAuth/with_invalid_token_format (0.00s)
    --- PASS: TestAuthIntegration_OptionalAuth/with_expired_token (0.00s)
=== RUN   TestAuthIntegration_MiddlewareChain
=== RUN   TestAuthIntegration_MiddlewareChain/middleware_execution_order_with_auth
=== RUN   TestAuthIntegration_MiddlewareChain/successful_middleware_chain_execution
--- PASS: TestAuthIntegration_MiddlewareChain (0.00s)
    --- PASS: TestAuthIntegration_MiddlewareChain/middleware_execution_order_with_auth (0.00s)
    --- PASS: TestAuthIntegration_MiddlewareChain/successful_middleware_chain_execution (0.00s)
=== RUN   TestCacheEndpointsIntegration
=== RUN   TestCacheEndpointsIntegration/GET_/api/v1/cache/stats_-_Overall_Stats
    cache_endpoints_test.go:49: Response status: 200
    cache_endpoints_test.go:50: Response body: {"data":{"overall":{"hits":1,"misses":1,"hit_rate":0.5,"total_ops":2,"last_updated":"2025-09-30T23:11:37.8309+07:00"},"test_category":{"hits":1,"misses":1,"hit_rate":0.5,"total_ops":2,"last_updated":"2025-09-30T23:11:37.830899+07:00"}},"success":true}
    cache_endpoints_test.go:75: Overall stats response: map[overall:map[hit_rate:0.5 hits:1 last_updated:2025-09-30T23:11:37.8309+07:00 misses:1 total_ops:2] test_category:map[hit_rate:0.5 hits:1 last_updated:2025-09-30T23:11:37.830899+07:00 misses:1 total_ops:2]]
=== RUN   TestCacheEndpointsIntegration/GET_/api/v1/cache/stats/:category_-_Category_Stats
    cache_endpoints_test.go:103: Tickers category stats: map[hit_rate:0.6666666666666666 hits:2 last_updated:2025-09-30T23:11:37.831337+07:00 misses:1 total_ops:3]
=== RUN   TestCacheEndpointsIntegration/GET_/api/v1/cache/metrics_-_Comprehensive_Metrics
    cache_endpoints_test.go:112: Metrics response status: 200
    cache_endpoints_test.go:113: Metrics response body: {"data":{"overall":{"hits":3,"misses":2,"hit_rate":0.6,"total_ops":5,"last_updated":"2025-09-30T23:11:37.831338+07:00"},"by_category":{"overall":{"hits":3,"misses":2,"hit_rate":0.6,"total_ops":5,"last_updated":"2025-09-30T23:11:37.831338+07:00"},"test_category":{"hits":1,"misses":1,"hit_rate":0.5,"total_ops":2,"last_updated":"2025-09-30T23:11:37.830899+07:00"},"tickers":{"hits":2,"misses":1,"hit_rate":0.6666666666666666,"total_ops":3,"last_updated":"2025-09-30T23:11:37.831337+07:00"}},"redis_info":{},"memory_usage_bytes":0,"connected_clients":0,"key_count":0},"success":true}
    cache_endpoints_test.go:143: Comprehensive metrics response: map[by_category:map[overall:map[hit_rate:0.6 hits:3 last_updated:2025-09-30T23:11:37.831338+07:00 misses:2 total_ops:5] test_category:map[hit_rate:0.5 hits:1 last_updated:2025-09-30T23:11:37.830899+07:00 misses:1 total_ops:2] tickers:map[hit_rate:0.6666666666666666 hits:2 last_updated:2025-09-30T23:11:37.831337+07:00 misses:1 total_ops:3]] connected_clients:0 key_count:0 memory_usage_bytes:0 overall:map[hit_rate:0.6 hits:3 last_updated:2025-09-30T23:11:37.831338+07:00 misses:2 total_ops:5] redis_info:map[]]
=== RUN   TestCacheEndpointsIntegration/POST_/api/v1/cache/hit_-_Record_Cache_Hit
=== RUN   TestCacheEndpointsIntegration/POST_/api/v1/cache/miss_-_Record_Cache_Miss
=== RUN   TestCacheEndpointsIntegration/POST_/api/v1/cache/stats/reset_-_Reset_Cache_Stats
--- PASS: TestCacheEndpointsIntegration (0.10s)
    --- PASS: TestCacheEndpointsIntegration/GET_/api/v1/cache/stats_-_Overall_Stats (0.00s)
    --- PASS: TestCacheEndpointsIntegration/GET_/api/v1/cache/stats/:category_-_Category_Stats (0.00s)
    --- PASS: TestCacheEndpointsIntegration/GET_/api/v1/cache/metrics_-_Comprehensive_Metrics (0.10s)
    --- PASS: TestCacheEndpointsIntegration/POST_/api/v1/cache/hit_-_Record_Cache_Hit (0.00s)
    --- PASS: TestCacheEndpointsIntegration/POST_/api/v1/cache/miss_-_Record_Cache_Miss (0.00s)
    --- PASS: TestCacheEndpointsIntegration/POST_/api/v1/cache/stats/reset_-_Reset_Cache_Stats (0.00s)
=== RUN   TestCacheEndpointsWithRealData
    cache_endpoints_test.go:244: Real data test - Metrics response status: 200
    cache_endpoints_test.go:245: Real data test - Metrics response body: {"data":{"overall":{"hits":8,"misses":4,"hit_rate":0.6666666666666666,"total_ops":12,"last_updated":"2025-09-30T23:11:37.929923+07:00"},"by_category":{"bulk_tickers":{"hits":2,"misses":1,"hit_rate":0.6666666666666666,"total_ops":3,"last_updated":"2025-09-30T23:11:37.929912+07:00"},"market_data":{"hits":2,"misses":1,"hit_rate":0.6666666666666666,"total_ops":3,"last_updated":"2025-09-30T23:11:37.929923+07:00"},"order_books":{"hits":2,"misses":1,"hit_rate":0.6666666666666666,"total_ops":3,"last_updated":"2025-09-30T23:11:37.929917+07:00"},"overall":{"hits":8,"misses":4,"hit_rate":0.6666666666666666,"total_ops":12,"last_updated":"2025-09-30T23:11:37.929923+07:00"},"tickers":{"hits":2,"misses":1,"hit_rate":0.6666666666666666,"total_ops":3,"last_updated":"2025-09-30T23:11:37.929906+07:00"}},"redis_info":{},"memory_usage_bytes":0,"connected_clients":0,"key_count":0},"success":true}
    cache_endpoints_test.go:290: Connected clients not available in test environment
    cache_endpoints_test.go:296: Used memory not available in test environment
    cache_endpoints_test.go:303: Redis version not available in test environment
    cache_endpoints_test.go:306: Real data metrics - Overall: map[hit_rate:0.6666666666666666 hits:8 last_updated:2025-09-30T23:11:37.929923+07:00 misses:4 total_ops:12]
    cache_endpoints_test.go:307: Real data metrics - Categories: map[bulk_tickers:map[hit_rate:0.6666666666666666 hits:2 last_updated:2025-09-30T23:11:37.929912+07:00 misses:1 total_ops:3] market_data:map[hit_rate:0.6666666666666666 hits:2 last_updated:2025-09-30T23:11:37.929923+07:00 misses:1 total_ops:3] order_books:map[hit_rate:0.6666666666666666 hits:2 last_updated:2025-09-30T23:11:37.929917+07:00 misses:1 total_ops:3] overall:map[hit_rate:0.6666666666666666 hits:8 last_updated:2025-09-30T23:11:37.929923+07:00 misses:4 total_ops:12] tickers:map[hit_rate:0.6666666666666666 hits:2 last_updated:2025-09-30T23:11:37.929906+07:00 misses:1 total_ops:3]]
    cache_endpoints_test.go:308: Real data metrics - Redis Info: map[]
--- PASS: TestCacheEndpointsWithRealData (0.08s)
=== RUN   TestNewCacheHandler
--- PASS: TestNewCacheHandler (0.00s)
=== RUN   TestCacheHandler_GetCacheStats
--- PASS: TestCacheHandler_GetCacheStats (0.00s)
=== RUN   TestCacheHandler_GetCacheStatsByCategory
=== RUN   TestCacheHandler_GetCacheStatsByCategory/valid_category
=== RUN   TestCacheHandler_GetCacheStatsByCategory/empty_category
--- PASS: TestCacheHandler_GetCacheStatsByCategory (0.00s)
    --- PASS: TestCacheHandler_GetCacheStatsByCategory/valid_category (0.00s)
    --- PASS: TestCacheHandler_GetCacheStatsByCategory/empty_category (0.00s)
=== RUN   TestCacheHandler_GetCacheMetrics
--- PASS: TestCacheHandler_GetCacheMetrics (0.00s)
=== RUN   TestCacheHandler_ResetCacheStats
--- PASS: TestCacheHandler_ResetCacheStats (0.00s)
=== RUN   TestCacheHandler_RecordCacheHit
--- PASS: TestCacheHandler_RecordCacheHit (0.00s)
=== RUN   TestCacheHandler_RecordCacheMiss
--- PASS: TestCacheHandler_RecordCacheMiss (0.00s)
=== RUN   TestNewCleanupHandler
--- PASS: TestNewCleanupHandler (0.00s)
=== RUN   TestCleanupHandler_GetDataStats
=== RUN   TestCleanupHandler_GetDataStats/Success
=== RUN   TestCleanupHandler_GetDataStats/Service_error
--- PASS: TestCleanupHandler_GetDataStats (0.00s)
    --- PASS: TestCleanupHandler_GetDataStats/Success (0.00s)
    --- PASS: TestCleanupHandler_GetDataStats/Service_error (0.00s)
=== RUN   TestCleanupHandler_TriggerCleanup
=== RUN   TestCleanupHandler_TriggerCleanup/Success_with_default_parameters
=== RUN   TestCleanupHandler_TriggerCleanup/Success_with_custom_parameters
=== RUN   TestCleanupHandler_TriggerCleanup/Cleanup_service_error
=== RUN   TestCleanupHandler_TriggerCleanup/Cleanup_success_but_stats_error
--- PASS: TestCleanupHandler_TriggerCleanup (0.00s)
    --- PASS: TestCleanupHandler_TriggerCleanup/Success_with_default_parameters (0.00s)
    --- PASS: TestCleanupHandler_TriggerCleanup/Success_with_custom_parameters (0.00s)
    --- PASS: TestCleanupHandler_TriggerCleanup/Cleanup_service_error (0.00s)
    --- PASS: TestCleanupHandler_TriggerCleanup/Cleanup_success_but_stats_error (0.00s)
=== RUN   TestCleanupHandler_TriggerCleanup_ParameterParsing
=== RUN   TestCleanupHandler_TriggerCleanup_ParameterParsing/Default_values
=== RUN   TestCleanupHandler_TriggerCleanup_ParameterParsing/Custom_valid_values
=== RUN   TestCleanupHandler_TriggerCleanup_ParameterParsing/Invalid_values_should_use_defaults
=== RUN   TestCleanupHandler_TriggerCleanup_ParameterParsing/Partial_custom_values
--- PASS: TestCleanupHandler_TriggerCleanup_ParameterParsing (0.00s)
    --- PASS: TestCleanupHandler_TriggerCleanup_ParameterParsing/Default_values (0.00s)
    --- PASS: TestCleanupHandler_TriggerCleanup_ParameterParsing/Custom_valid_values (0.00s)
    --- PASS: TestCleanupHandler_TriggerCleanup_ParameterParsing/Invalid_values_should_use_defaults (0.00s)
    --- PASS: TestCleanupHandler_TriggerCleanup_ParameterParsing/Partial_custom_values (0.00s)
=== RUN   TestParseIntParam
=== RUN   TestParseIntParam/Valid_positive_integer
=== RUN   TestParseIntParam/Valid_zero
=== RUN   TestParseIntParam/Valid_negative_integer
=== RUN   TestParseIntParam/Invalid_string
=== RUN   TestParseIntParam/Empty_string
=== RUN   TestParseIntParam/Float_string
--- PASS: TestParseIntParam (0.00s)
    --- PASS: TestParseIntParam/Valid_positive_integer (0.00s)
    --- PASS: TestParseIntParam/Valid_zero (0.00s)
    --- PASS: TestParseIntParam/Valid_negative_integer (0.00s)
    --- PASS: TestParseIntParam/Invalid_string (0.00s)
    --- PASS: TestParseIntParam/Empty_string (0.00s)
    --- PASS: TestParseIntParam/Float_string (0.00s)
=== RUN   TestNewExchangeHandler
--- PASS: TestNewExchangeHandler (0.00s)
=== RUN   TestExchangeHandler_GetExchangeConfig
--- PASS: TestExchangeHandler_GetExchangeConfig (0.00s)
=== RUN   TestExchangeHandler_AddExchangeToBlacklist
--- PASS: TestExchangeHandler_AddExchangeToBlacklist (0.00s)
=== RUN   TestExchangeHandler_RemoveExchangeFromBlacklist
--- PASS: TestExchangeHandler_RemoveExchangeFromBlacklist (0.00s)
=== RUN   TestExchangeHandler_RefreshExchanges
--- PASS: TestExchangeHandler_RefreshExchanges (0.00s)
=== RUN   TestExchangeHandler_AddExchange
--- PASS: TestExchangeHandler_AddExchange (0.00s)
=== RUN   TestExchangeHandler_GetSupportedExchanges
--- PASS: TestExchangeHandler_GetSupportedExchanges (0.00s)
=== RUN   TestExchangeHandler_AddExchangeToBlacklist_ErrorScenarios
=== RUN   TestExchangeHandler_AddExchangeToBlacklist_ErrorScenarios/missing_exchange_parameter
=== RUN   TestExchangeHandler_AddExchangeToBlacklist_ErrorScenarios/ccxt_service_error
--- PASS: TestExchangeHandler_AddExchangeToBlacklist_ErrorScenarios (0.00s)
    --- PASS: TestExchangeHandler_AddExchangeToBlacklist_ErrorScenarios/missing_exchange_parameter (0.00s)
    --- PASS: TestExchangeHandler_AddExchangeToBlacklist_ErrorScenarios/ccxt_service_error (0.00s)
=== RUN   TestExchangeHandler_GetWorkerStatus
=== RUN   TestExchangeHandler_GetWorkerStatus/collector_service_unavailable
=== RUN   TestExchangeHandler_GetWorkerStatus/collector_service_available
--- PASS: TestExchangeHandler_GetWorkerStatus (0.00s)
    --- PASS: TestExchangeHandler_GetWorkerStatus/collector_service_unavailable (0.00s)
    --- PASS: TestExchangeHandler_GetWorkerStatus/collector_service_available (0.00s)
=== RUN   TestExchangeHandler_RestartWorker
=== RUN   TestExchangeHandler_RestartWorker/missing_exchange_parameter
=== RUN   TestExchangeHandler_RestartWorker/collector_service_unavailable
=== RUN   TestExchangeHandler_RestartWorker/restart_worker_error
=== RUN   TestExchangeHandler_RestartWorker/successful_restart
--- PASS: TestExchangeHandler_RestartWorker (0.00s)
    --- PASS: TestExchangeHandler_RestartWorker/missing_exchange_parameter (0.00s)
    --- PASS: TestExchangeHandler_RestartWorker/collector_service_unavailable (0.00s)
    --- PASS: TestExchangeHandler_RestartWorker/restart_worker_error (0.00s)
    --- PASS: TestExchangeHandler_RestartWorker/successful_restart (0.00s)
=== RUN   TestNewHealthHandler
--- PASS: TestNewHealthHandler (0.00s)
=== RUN   TestHealthHandler_HealthCheck
=== RUN   TestHealthHandler_HealthCheck/all_services_healthy
=== RUN   TestHealthHandler_HealthCheck/database_error
=== RUN   TestHealthHandler_HealthCheck/redis_error
--- PASS: TestHealthHandler_HealthCheck (0.00s)
    --- PASS: TestHealthHandler_HealthCheck/all_services_healthy (0.00s)
    --- PASS: TestHealthHandler_HealthCheck/database_error (0.00s)
    --- PASS: TestHealthHandler_HealthCheck/redis_error (0.00s)
=== RUN   TestHealthHandler_ReadinessCheck
=== RUN   TestHealthHandler_ReadinessCheck/all_services_ready
=== RUN   TestHealthHandler_ReadinessCheck/database_not_ready
--- PASS: TestHealthHandler_ReadinessCheck (0.00s)
    --- PASS: TestHealthHandler_ReadinessCheck/all_services_ready (0.00s)
    --- PASS: TestHealthHandler_ReadinessCheck/database_not_ready (0.00s)
=== RUN   TestHealthHandler_LivenessCheck
--- PASS: TestHealthHandler_LivenessCheck (0.00s)
=== RUN   TestCacheIntegrationProblem
    market_cache_integration_test.go:40: CacheAnalyticsService stats - Hits: 0, Misses: 1
--- PASS: TestCacheIntegrationProblem (0.11s)
=== RUN   TestCacheAnalyticsIntegration
=== RUN   TestCacheAnalyticsIntegration/Ticker_Cache_Operations
=== RUN   TestCacheAnalyticsIntegration/Bulk_Tickers_Cache_Operations
=== RUN   TestCacheAnalyticsIntegration/Order_Book_Cache_Operations
=== RUN   TestCacheAnalyticsIntegration/Market_Prices_Cache_Operations
=== RUN   TestCacheAnalyticsIntegration/Overall_Stats_Aggregation
    market_cache_integration_test.go:106: Overall cache stats - Hits: 0, Misses: 4
--- PASS: TestCacheAnalyticsIntegration (0.34s)
    --- PASS: TestCacheAnalyticsIntegration/Ticker_Cache_Operations (0.05s)
    --- PASS: TestCacheAnalyticsIntegration/Bulk_Tickers_Cache_Operations (0.10s)
    --- PASS: TestCacheAnalyticsIntegration/Order_Book_Cache_Operations (0.09s)
    --- PASS: TestCacheAnalyticsIntegration/Market_Prices_Cache_Operations (0.11s)
    --- PASS: TestCacheAnalyticsIntegration/Overall_Stats_Aggregation (0.00s)
=== RUN   TestCacheAnalyticsCategories
=== RUN   TestCacheAnalyticsCategories/Category_tickers
=== RUN   TestCacheAnalyticsCategories/Category_bulk_tickers
=== RUN   TestCacheAnalyticsCategories/Category_order_books
=== RUN   TestCacheAnalyticsCategories/Category_market_data
--- PASS: TestCacheAnalyticsCategories (0.00s)
    --- PASS: TestCacheAnalyticsCategories/Category_tickers (0.00s)
    --- PASS: TestCacheAnalyticsCategories/Category_bulk_tickers (0.00s)
    --- PASS: TestCacheAnalyticsCategories/Category_order_books (0.00s)
    --- PASS: TestCacheAnalyticsCategories/Category_market_data (0.00s)
=== RUN   TestMarketHandler_GetTicker
--- PASS: TestMarketHandler_GetTicker (0.00s)
=== RUN   TestMarketHandler_GetWorkerStatus
--- PASS: TestMarketHandler_GetWorkerStatus (0.00s)
=== RUN   TestMarketHandler_GetTicker_MissingParams
--- PASS: TestMarketHandler_GetTicker_MissingParams (0.00s)
=== RUN   TestMarketHandler_GetOrderBook_FetchError
--- PASS: TestMarketHandler_GetOrderBook_FetchError (0.00s)
=== RUN   TestMarketHandler_GetOrderBook
--- PASS: TestMarketHandler_GetOrderBook (0.00s)
=== RUN   TestMarketHandler_GetOrderBook_MissingParams
--- PASS: TestMarketHandler_GetOrderBook_MissingParams (0.00s)
=== RUN   TestMarketHandler_GetOrderBook_ServiceUnavailable
--- PASS: TestMarketHandler_GetOrderBook_ServiceUnavailable (0.00s)
=== RUN   TestMarketPricesResponse_Struct
--- PASS: TestMarketPricesResponse_Struct (0.00s)
=== RUN   TestMarketPriceData_Struct
--- PASS: TestMarketPriceData_Struct (0.00s)
=== RUN   TestTickerResponse_Struct
--- PASS: TestTickerResponse_Struct (0.00s)
=== RUN   TestNewMarketHandler
--- PASS: TestNewMarketHandler (0.00s)
=== RUN   TestGetTicker
=== RUN   TestGetTicker/successful_ticker_fetch
=== RUN   TestGetTicker/service_error
--- PASS: TestGetTicker (0.00s)
    --- PASS: TestGetTicker/successful_ticker_fetch (0.00s)
    --- PASS: TestGetTicker/service_error (0.00s)
=== RUN   TestMarketHandler_GetBulkTickers
=== RUN   TestMarketHandler_GetBulkTickers/successful_bulk_tickers_fetch
=== RUN   TestMarketHandler_GetBulkTickers/missing_exchange_parameter
=== RUN   TestMarketHandler_GetBulkTickers/service_unavailable
=== RUN   TestMarketHandler_GetBulkTickers/fetch_error
--- PASS: TestMarketHandler_GetBulkTickers (0.00s)
    --- PASS: TestMarketHandler_GetBulkTickers/successful_bulk_tickers_fetch (0.00s)
    --- PASS: TestMarketHandler_GetBulkTickers/missing_exchange_parameter (0.00s)
    --- PASS: TestMarketHandler_GetBulkTickers/service_unavailable (0.00s)
    --- PASS: TestMarketHandler_GetBulkTickers/fetch_error (0.00s)
=== RUN   TestMarketHandler_GetWorkerStatus_WithCollectorService
--- PASS: TestMarketHandler_GetWorkerStatus_WithCollectorService (0.00s)
=== RUN   TestMarketHandler_GetMarketPrices
=== RUN   TestMarketHandler_GetMarketPrices/nil_database_causes_panic
=== RUN   TestMarketHandler_GetMarketPrices/valid_pagination_parameters
=== RUN   TestMarketHandler_GetMarketPrices/invalid_limit_parameter
=== RUN   TestMarketHandler_GetMarketPrices/with_exchange_filter
=== RUN   TestMarketHandler_GetMarketPrices/with_symbol_filter
--- PASS: TestMarketHandler_GetMarketPrices (0.00s)
    --- PASS: TestMarketHandler_GetMarketPrices/nil_database_causes_panic (0.00s)
    --- PASS: TestMarketHandler_GetMarketPrices/valid_pagination_parameters (0.00s)
    --- PASS: TestMarketHandler_GetMarketPrices/invalid_limit_parameter (0.00s)
    --- PASS: TestMarketHandler_GetMarketPrices/with_exchange_filter (0.00s)
    --- PASS: TestMarketHandler_GetMarketPrices/with_symbol_filter (0.00s)
=== RUN   TestMarketHandler_CacheFunctionality
=== RUN   TestMarketHandler_CacheFunctionality/cache_market_prices_with_nil_redis
=== RUN   TestMarketHandler_CacheFunctionality/get_cached_market_prices_with_nil_redis
=== RUN   TestMarketHandler_CacheFunctionality/cache_ticker_with_nil_redis
=== RUN   TestMarketHandler_CacheFunctionality/get_cached_ticker_with_nil_redis
=== RUN   TestMarketHandler_CacheFunctionality/cache_bulk_tickers_with_nil_redis
=== RUN   TestMarketHandler_CacheFunctionality/get_cached_bulk_tickers_with_nil_redis
=== RUN   TestMarketHandler_CacheFunctionality/cache_order_book_with_nil_redis
=== RUN   TestMarketHandler_CacheFunctionality/get_cached_order_book_with_nil_redis
--- PASS: TestMarketHandler_CacheFunctionality (0.00s)
    --- PASS: TestMarketHandler_CacheFunctionality/cache_market_prices_with_nil_redis (0.00s)
    --- PASS: TestMarketHandler_CacheFunctionality/get_cached_market_prices_with_nil_redis (0.00s)
    --- PASS: TestMarketHandler_CacheFunctionality/cache_ticker_with_nil_redis (0.00s)
    --- PASS: TestMarketHandler_CacheFunctionality/get_cached_ticker_with_nil_redis (0.00s)
    --- PASS: TestMarketHandler_CacheFunctionality/cache_bulk_tickers_with_nil_redis (0.00s)
    --- PASS: TestMarketHandler_CacheFunctionality/get_cached_bulk_tickers_with_nil_redis (0.00s)
    --- PASS: TestMarketHandler_CacheFunctionality/cache_order_book_with_nil_redis (0.00s)
    --- PASS: TestMarketHandler_CacheFunctionality/get_cached_order_book_with_nil_redis (0.00s)
=== RUN   TestMarketHandler_StructValidation
=== RUN   TestMarketHandler_StructValidation/CacheStats_struct
=== RUN   TestMarketHandler_StructValidation/OrderBookResponse_struct
=== RUN   TestMarketHandler_StructValidation/BulkTickerResponse_struct
--- PASS: TestMarketHandler_StructValidation (0.00s)
    --- PASS: TestMarketHandler_StructValidation/CacheStats_struct (0.00s)
    --- PASS: TestMarketHandler_StructValidation/OrderBookResponse_struct (0.00s)
    --- PASS: TestMarketHandler_StructValidation/BulkTickerResponse_struct (0.00s)
=== RUN   TestConvertOrderBookEntries
=== RUN   TestConvertOrderBookEntries/empty_entries
=== RUN   TestConvertOrderBookEntries/single_entry
=== RUN   TestConvertOrderBookEntries/multiple_entries
--- PASS: TestConvertOrderBookEntries (0.00s)
    --- PASS: TestConvertOrderBookEntries/empty_entries (0.00s)
    --- PASS: TestConvertOrderBookEntries/single_entry (0.00s)
    --- PASS: TestConvertOrderBookEntries/multiple_entries (0.00s)
=== RUN   TestTelegramWebhookIntegration
=== RUN   TestTelegramWebhookIntegration/valid_start_command
2025/09/30 23:11:38 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:38 [DEBUG] Telegram config is nil, returning handler with nil bot
2025/09/30 23:11:38 Telegram bot is not initialized, ignoring webhook
=== RUN   TestTelegramWebhookIntegration/valid_opportunities_command
2025/09/30 23:11:38 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:38 [DEBUG] Telegram config is nil, returning handler with nil bot
2025/09/30 23:11:38 Telegram bot is not initialized, ignoring webhook
=== RUN   TestTelegramWebhookIntegration/regular_text_message
2025/09/30 23:11:38 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:38 [DEBUG] Telegram config is nil, returning handler with nil bot
2025/09/30 23:11:38 Telegram bot is not initialized, ignoring webhook
=== RUN   TestTelegramWebhookIntegration/nil_message
2025/09/30 23:11:38 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:38 [DEBUG] Telegram config is nil, returning handler with nil bot
2025/09/30 23:11:38 Telegram bot is not initialized, ignoring webhook
--- PASS: TestTelegramWebhookIntegration (0.02s)
    --- PASS: TestTelegramWebhookIntegration/valid_start_command (0.02s)
    --- PASS: TestTelegramWebhookIntegration/valid_opportunities_command (0.00s)
    --- PASS: TestTelegramWebhookIntegration/regular_text_message (0.00s)
    --- PASS: TestTelegramWebhookIntegration/nil_message (0.00s)
=== RUN   TestTelegramCommandHandling
=== RUN   TestTelegramCommandHandling/start_command
=== RUN   TestTelegramCommandHandling/opportunities_command
=== RUN   TestTelegramCommandHandling/settings_command
=== RUN   TestTelegramCommandHandling/help_command
=== RUN   TestTelegramCommandHandling/upgrade_command
=== RUN   TestTelegramCommandHandling/status_command
=== RUN   TestTelegramCommandHandling/stop_command
=== RUN   TestTelegramCommandHandling/resume_command
=== RUN   TestTelegramCommandHandling/regular_text
=== RUN   TestTelegramCommandHandling/empty_text
=== RUN   TestTelegramCommandHandling/command_with_parameters
--- PASS: TestTelegramCommandHandling (0.00s)
    --- PASS: TestTelegramCommandHandling/start_command (0.00s)
    --- PASS: TestTelegramCommandHandling/opportunities_command (0.00s)
    --- PASS: TestTelegramCommandHandling/settings_command (0.00s)
    --- PASS: TestTelegramCommandHandling/help_command (0.00s)
    --- PASS: TestTelegramCommandHandling/upgrade_command (0.00s)
    --- PASS: TestTelegramCommandHandling/status_command (0.00s)
    --- PASS: TestTelegramCommandHandling/stop_command (0.00s)
    --- PASS: TestTelegramCommandHandling/resume_command (0.00s)
    --- PASS: TestTelegramCommandHandling/regular_text (0.00s)
    --- PASS: TestTelegramCommandHandling/empty_text (0.00s)
    --- PASS: TestTelegramCommandHandling/command_with_parameters (0.00s)
=== RUN   TestTelegramCacheIntegration
    telegram_integration_test.go:213: Redis not available for testing: dial tcp 127.0.0.1:6379: connect: connection refused
--- SKIP: TestTelegramCacheIntegration (0.10s)
=== RUN   TestTelegramErrorHandling
=== RUN   TestTelegramErrorHandling/invalid_JSON
2025/09/30 23:11:38 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:38 [DEBUG] Telegram config is nil, returning handler with nil bot
2025/09/30 23:11:38 Telegram bot is not initialized, ignoring webhook
=== RUN   TestTelegramErrorHandling/empty_body
2025/09/30 23:11:38 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:38 [DEBUG] Telegram config is nil, returning handler with nil bot
2025/09/30 23:11:38 Telegram bot is not initialized, ignoring webhook
=== RUN   TestTelegramErrorHandling/wrong_content_type
2025/09/30 23:11:38 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:38 [DEBUG] Telegram config is nil, returning handler with nil bot
2025/09/30 23:11:38 Telegram bot is not initialized, ignoring webhook
--- PASS: TestTelegramErrorHandling (0.00s)
    --- PASS: TestTelegramErrorHandling/invalid_JSON (0.00s)
    --- PASS: TestTelegramErrorHandling/empty_body (0.00s)
    --- PASS: TestTelegramErrorHandling/wrong_content_type (0.00s)
=== RUN   TestTelegramConfigValidation
=== RUN   TestTelegramConfigValidation/nil_config
2025/09/30 23:11:38 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:38 [DEBUG] Telegram config is nil, returning handler with nil bot
=== RUN   TestTelegramConfigValidation/empty_bot_token
2025/09/30 23:11:38 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:38 [DEBUG] Telegram config: BotToken=<empty>, UsePolling=false
2025/09/30 23:11:38 Failed to create Telegram bot: empty token
2025/09/30 23:11:38 Telegram bot functionality will be disabled
=== RUN   TestTelegramConfigValidation/invalid_bot_token
2025/09/30 23:11:38 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:38 [DEBUG] Telegram config: BotToken=invalid_to..., UsePolling=false
2025/09/30 23:11:39 Failed to create Telegram bot: error call getMe, not found, Not Found
2025/09/30 23:11:39 Telegram bot functionality will be disabled
=== RUN   TestTelegramConfigValidation/valid_config_structure
2025/09/30 23:11:39 [DEBUG] NewTelegramHandler called
2025/09/30 23:11:39 [DEBUG] Telegram config: BotToken=123456:ABC..., UsePolling=false
2025/09/30 23:11:39 Failed to create Telegram bot: error call getMe, unauthorized, Unauthorized
2025/09/30 23:11:39 Telegram bot functionality will be disabled
--- PASS: TestTelegramConfigValidation (0.85s)
    --- PASS: TestTelegramConfigValidation/nil_config (0.00s)
    --- PASS: TestTelegramConfigValidation/empty_bot_token (0.00s)
    --- PASS: TestTelegramConfigValidation/invalid_bot_token (0.67s)
    --- PASS: TestTelegramConfigValidation/valid_config_structure (0.18s)
=== RUN   TestTelegramHandler_ProcessUpdate
=== RUN   TestTelegramHandler_ProcessUpdate/nil_message
=== RUN   TestTelegramHandler_ProcessUpdate/message_with_nil_from
=== RUN   TestTelegramHandler_ProcessUpdate/valid_message_with_command
2025/09/30 23:11:39 Telegram bot is not initialized, cannot send message to chat 456
--- PASS: TestTelegramHandler_ProcessUpdate (0.00s)
    --- PASS: TestTelegramHandler_ProcessUpdate/nil_message (0.00s)
    --- PASS: TestTelegramHandler_ProcessUpdate/message_with_nil_from (0.00s)
    --- PASS: TestTelegramHandler_ProcessUpdate/valid_message_with_command (0.00s)
=== RUN   TestTelegramHandler_HandleStartCommand
=== RUN   TestTelegramHandler_HandleStartCommand/nil_database
    telegram_test.go:62: Skipping test due to nil pointer dereference in database access
--- PASS: TestTelegramHandler_HandleStartCommand (0.00s)
    --- SKIP: TestTelegramHandler_HandleStartCommand/nil_database (0.00s)
=== RUN   TestTelegramHandler_HandleOpportunitiesCommand
=== RUN   TestTelegramHandler_HandleOpportunitiesCommand/basic_test_structure
2025/09/30 23:11:39 SignalAggregator not available
2025/09/30 23:11:39 Telegram bot is not initialized, cannot send message to chat 123
--- PASS: TestTelegramHandler_HandleOpportunitiesCommand (0.00s)
    --- PASS: TestTelegramHandler_HandleOpportunitiesCommand/basic_test_structure (0.00s)
=== RUN   TestTelegramHandler_HandleSettingsCommand
=== RUN   TestTelegramHandler_HandleSettingsCommand/basic_test_structure
2025/09/30 23:11:39 Telegram bot is not initialized, cannot send message to chat 123
--- PASS: TestTelegramHandler_HandleSettingsCommand (0.00s)
    --- PASS: TestTelegramHandler_HandleSettingsCommand/basic_test_structure (0.00s)
=== RUN   TestTelegramHandler_HandleHelpCommand
=== RUN   TestTelegramHandler_HandleHelpCommand/basic_test_structure
2025/09/30 23:11:39 Telegram bot is not initialized, cannot send message to chat 123
--- PASS: TestTelegramHandler_HandleHelpCommand (0.00s)
    --- PASS: TestTelegramHandler_HandleHelpCommand/basic_test_structure (0.00s)
=== RUN   TestTelegramHandler_HandleUpgradeCommand
=== RUN   TestTelegramHandler_HandleUpgradeCommand/basic_test_structure
2025/09/30 23:11:39 Telegram bot is not initialized, cannot send message to chat 123
--- PASS: TestTelegramHandler_HandleUpgradeCommand (0.00s)
    --- PASS: TestTelegramHandler_HandleUpgradeCommand/basic_test_structure (0.00s)
=== RUN   TestTelegramHandler_HandleStatusCommand
=== RUN   TestTelegramHandler_HandleStatusCommand/nil_database
    telegram_test.go:116: Skipping test due to nil pointer dereference in database access
--- PASS: TestTelegramHandler_HandleStatusCommand (0.00s)
    --- SKIP: TestTelegramHandler_HandleStatusCommand/nil_database (0.00s)
=== RUN   TestTelegramHandler_HandleStopCommand
=== RUN   TestTelegramHandler_HandleStopCommand/basic_test_structure
2025/09/30 23:11:39 Telegram bot is not initialized, cannot send message to chat 123
--- PASS: TestTelegramHandler_HandleStopCommand (0.00s)
    --- PASS: TestTelegramHandler_HandleStopCommand/basic_test_structure (0.00s)
=== RUN   TestTelegramHandler_HandleResumeCommand
=== RUN   TestTelegramHandler_HandleResumeCommand/basic_test_structure
2025/09/30 23:11:39 Telegram bot is not initialized, cannot send message to chat 123
--- PASS: TestTelegramHandler_HandleResumeCommand (0.00s)
    --- PASS: TestTelegramHandler_HandleResumeCommand/basic_test_structure (0.00s)
=== RUN   TestTelegramHandler_HandleTextMessage
=== RUN   TestTelegramHandler_HandleTextMessage/basic_test_structure
2025/09/30 23:11:39 Telegram bot is not initialized, cannot send message to chat 456
--- PASS: TestTelegramHandler_HandleTextMessage (0.00s)
    --- PASS: TestTelegramHandler_HandleTextMessage/basic_test_structure (0.00s)
=== RUN   TestTelegramHandler_SendMessage
=== RUN   TestTelegramHandler_SendMessage/bot_not_initialized
2025/09/30 23:11:39 Telegram bot is not initialized, cannot send message to chat 123
--- PASS: TestTelegramHandler_SendMessage (0.00s)
    --- PASS: TestTelegramHandler_SendMessage/bot_not_initialized (0.00s)
=== RUN   TestTelegramHandler_StartPolling
=== RUN   TestTelegramHandler_StartPolling/bot_not_initialized
2025/09/30 23:11:39 Cannot start polling: Telegram bot is not initialized
=== RUN   TestTelegramHandler_StartPolling/bot_already_polling
2025/09/30 23:11:39 Cannot start polling: Telegram bot is not initialized
=== RUN   TestTelegramHandler_StartPolling/start_polling_successfully
2025/09/30 23:11:39 Cannot start polling: Telegram bot is not initialized
--- PASS: TestTelegramHandler_StartPolling (0.00s)
    --- PASS: TestTelegramHandler_StartPolling/bot_not_initialized (0.00s)
    --- PASS: TestTelegramHandler_StartPolling/bot_already_polling (0.00s)
    --- PASS: TestTelegramHandler_StartPolling/start_polling_successfully (0.00s)
=== RUN   TestTelegramHandler_StopPolling
=== RUN   TestTelegramHandler_StopPolling/polling_not_active
2025/09/30 23:11:39 Polling is not active
=== RUN   TestTelegramHandler_StopPolling/stop_active_polling
2025/09/30 23:11:39 Stopping Telegram bot polling...
--- PASS: TestTelegramHandler_StopPolling (0.00s)
    --- PASS: TestTelegramHandler_StopPolling/polling_not_active (0.00s)
    --- PASS: TestTelegramHandler_StopPolling/stop_active_polling (0.00s)
=== RUN   TestTelegramHandler_CacheAggregatedSignals
=== RUN   TestTelegramHandler_CacheAggregatedSignals/redis_not_available
--- PASS: TestTelegramHandler_CacheAggregatedSignals (0.00s)
    --- PASS: TestTelegramHandler_CacheAggregatedSignals/redis_not_available (0.00s)
=== RUN   TestTelegramHandler_GetCachedAggregatedSignals
=== RUN   TestTelegramHandler_GetCachedAggregatedSignals/redis_not_available
--- PASS: TestTelegramHandler_GetCachedAggregatedSignals (0.00s)
    --- PASS: TestTelegramHandler_GetCachedAggregatedSignals/redis_not_available (0.00s)
=== RUN   TestTelegramHandler_GetCachedTelegramOpportunities
=== RUN   TestTelegramHandler_GetCachedTelegramOpportunities/redis_not_available
--- PASS: TestTelegramHandler_GetCachedTelegramOpportunities (0.00s)
    --- PASS: TestTelegramHandler_GetCachedTelegramOpportunities/redis_not_available (0.00s)
=== RUN   TestTelegramHandler_SendAggregatedSignalsMessage
=== RUN   TestTelegramHandler_SendAggregatedSignalsMessage/empty_signals
2025/09/30 23:11:39 Telegram bot is not initialized, cannot send message to chat 123
=== RUN   TestTelegramHandler_SendAggregatedSignalsMessage/nil_bot
2025/09/30 23:11:39 Telegram bot is not initialized, cannot send message to chat 123
--- PASS: TestTelegramHandler_SendAggregatedSignalsMessage (0.00s)
    --- PASS: TestTelegramHandler_SendAggregatedSignalsMessage/empty_signals (0.00s)
    --- PASS: TestTelegramHandler_SendAggregatedSignalsMessage/nil_bot (0.00s)
=== RUN   TestTelegramWebhookEndpoint
=== RUN   TestTelegramWebhookEndpoint/valid_webhook_post
2025/09/30 23:11:39 Telegram bot is not initialized, ignoring webhook
=== RUN   TestTelegramWebhookEndpoint/invalid_method_get
=== RUN   TestTelegramWebhookEndpoint/invalid_content_type
2025/09/30 23:11:39 Telegram bot is not initialized, ignoring webhook
=== RUN   TestTelegramWebhookEndpoint/empty_body
2025/09/30 23:11:39 Telegram bot is not initialized, ignoring webhook
=== RUN   TestTelegramWebhookEndpoint/invalid_json
2025/09/30 23:11:39 Telegram bot is not initialized, ignoring webhook
--- PASS: TestTelegramWebhookEndpoint (0.00s)
    --- PASS: TestTelegramWebhookEndpoint/valid_webhook_post (0.00s)
    --- PASS: TestTelegramWebhookEndpoint/invalid_method_get (0.00s)
    --- PASS: TestTelegramWebhookEndpoint/invalid_content_type (0.00s)
    --- PASS: TestTelegramWebhookEndpoint/empty_body (0.00s)
    --- PASS: TestTelegramWebhookEndpoint/invalid_json (0.00s)
=== RUN   TestTelegramCommandProcessing
=== RUN   TestTelegramCommandProcessing/start_command
    telegram_webhook_test.go:248: Command processing requires database access and proper mocking
=== RUN   TestTelegramCommandProcessing/help_command
    telegram_webhook_test.go:252: Command processing requires database access and proper mocking
=== RUN   TestTelegramCommandProcessing/opportunities_command
    telegram_webhook_test.go:256: Command processing requires database access and proper mocking
=== RUN   TestTelegramCommandProcessing/status_command
    telegram_webhook_test.go:260: Command processing requires database access and proper mocking
=== RUN   TestTelegramCommandProcessing/unknown_command
    telegram_webhook_test.go:264: Command processing requires database access and proper mocking
--- PASS: TestTelegramCommandProcessing (0.00s)
    --- SKIP: TestTelegramCommandProcessing/start_command (0.00s)
    --- SKIP: TestTelegramCommandProcessing/help_command (0.00s)
    --- SKIP: TestTelegramCommandProcessing/opportunities_command (0.00s)
    --- SKIP: TestTelegramCommandProcessing/status_command (0.00s)
    --- SKIP: TestTelegramCommandProcessing/unknown_command (0.00s)
=== RUN   TestTelegramCacheOperations
=== RUN   TestTelegramCacheOperations/cache_opportunities
    telegram_webhook_test.go:277: cacheTelegramOpportunities method not implemented in TelegramHandler
=== RUN   TestTelegramCacheOperations/retrieve_cached_opportunities
=== RUN   TestTelegramCacheOperations/cache_miss
--- PASS: TestTelegramCacheOperations (0.00s)
    --- SKIP: TestTelegramCacheOperations/cache_opportunities (0.00s)
    --- PASS: TestTelegramCacheOperations/retrieve_cached_opportunities (0.00s)
    --- PASS: TestTelegramCacheOperations/cache_miss (0.00s)
=== RUN   TestTelegramMessageFormatting
=== RUN   TestTelegramMessageFormatting/format_opportunity_message
    telegram_webhook_test.go:327: formatOpportunityMessage method not implemented in TelegramHandler
=== RUN   TestTelegramMessageFormatting/format_opportunities_list
    telegram_webhook_test.go:340: formatOpportunitiesList method not implemented in TelegramHandler
=== RUN   TestTelegramMessageFormatting/format_empty_opportunities_list
    telegram_webhook_test.go:351: formatOpportunitiesList method not implemented in TelegramHandler
--- PASS: TestTelegramMessageFormatting (0.00s)
    --- SKIP: TestTelegramMessageFormatting/format_opportunity_message (0.00s)
    --- SKIP: TestTelegramMessageFormatting/format_opportunities_list (0.00s)
    --- SKIP: TestTelegramMessageFormatting/format_empty_opportunities_list (0.00s)
=== RUN   TestTelegramUserManagement
=== RUN   TestTelegramUserManagement/register_new_user
    telegram_webhook_test.go:359: registerUser method not implemented in TelegramHandler
=== RUN   TestTelegramUserManagement/get_user_preferences
    telegram_webhook_test.go:364: getUserPreferences method not implemented in TelegramHandler
--- PASS: TestTelegramUserManagement (0.00s)
    --- SKIP: TestTelegramUserManagement/register_new_user (0.00s)
    --- SKIP: TestTelegramUserManagement/get_user_preferences (0.00s)
=== RUN   TestTelegramWebhookErrorHandling
=== RUN   TestTelegramWebhookErrorHandling/bot_send_error
    telegram_webhook_test.go:372: telegram API error
=== RUN   TestTelegramWebhookErrorHandling/redis_error
--- PASS: TestTelegramWebhookErrorHandling (0.00s)
    --- SKIP: TestTelegramWebhookErrorHandling/bot_send_error (0.00s)
    --- PASS: TestTelegramWebhookErrorHandling/redis_error (0.00s)
=== RUN   TestTelegramHandlerInitialization
=== RUN   TestTelegramHandlerInitialization/valid_initialization
=== RUN   TestTelegramHandlerInitialization/nil_config
--- PASS: TestTelegramHandlerInitialization (0.00s)
    --- PASS: TestTelegramHandlerInitialization/valid_initialization (0.00s)
    --- PASS: TestTelegramHandlerInitialization/nil_config (0.00s)
=== RUN   TestUserAuthFlow_CompleteFlow
=== RUN   TestUserAuthFlow_CompleteFlow/successful_registration_and_profile_access
=== RUN   TestUserAuthFlow_CompleteFlow/successful_login_and_profile_update
=== RUN   TestUserAuthFlow_CompleteFlow/login_with_invalid_credentials
=== RUN   TestUserAuthFlow_CompleteFlow/access_protected_route_without_token
=== RUN   TestUserAuthFlow_CompleteFlow/access_protected_route_with_expired_token
--- PASS: TestUserAuthFlow_CompleteFlow (0.00s)
    --- PASS: TestUserAuthFlow_CompleteFlow/successful_registration_and_profile_access (0.00s)
    --- PASS: TestUserAuthFlow_CompleteFlow/successful_login_and_profile_update (0.00s)
    --- PASS: TestUserAuthFlow_CompleteFlow/login_with_invalid_credentials (0.00s)
    --- PASS: TestUserAuthFlow_CompleteFlow/access_protected_route_without_token (0.00s)
    --- PASS: TestUserAuthFlow_CompleteFlow/access_protected_route_with_expired_token (0.00s)
=== RUN   TestUserAuthFlow_TokenValidation
=== RUN   TestUserAuthFlow_TokenValidation/valid_token_with_different_user_IDs
=== RUN   TestUserAuthFlow_TokenValidation/valid_token_with_different_user_IDs/user_user1
=== RUN   TestUserAuthFlow_TokenValidation/valid_token_with_different_user_IDs/user_admin_user
=== RUN   TestUserAuthFlow_TokenValidation/valid_token_with_different_user_IDs/user_test_123
=== RUN   TestUserAuthFlow_TokenValidation/token_with_different_expiration_times
=== RUN   TestUserAuthFlow_TokenValidation/malformed_tokens
=== RUN   TestUserAuthFlow_TokenValidation/malformed_tokens/malformed_1
=== RUN   TestUserAuthFlow_TokenValidation/malformed_tokens/malformed_2
=== RUN   TestUserAuthFlow_TokenValidation/malformed_tokens/malformed_3
=== RUN   TestUserAuthFlow_TokenValidation/malformed_tokens/malformed_4
--- PASS: TestUserAuthFlow_TokenValidation (0.00s)
    --- PASS: TestUserAuthFlow_TokenValidation/valid_token_with_different_user_IDs (0.00s)
        --- PASS: TestUserAuthFlow_TokenValidation/valid_token_with_different_user_IDs/user_user1 (0.00s)
        --- PASS: TestUserAuthFlow_TokenValidation/valid_token_with_different_user_IDs/user_admin_user (0.00s)
        --- PASS: TestUserAuthFlow_TokenValidation/valid_token_with_different_user_IDs/user_test_123 (0.00s)
    --- PASS: TestUserAuthFlow_TokenValidation/token_with_different_expiration_times (0.00s)
    --- PASS: TestUserAuthFlow_TokenValidation/malformed_tokens (0.00s)
        --- PASS: TestUserAuthFlow_TokenValidation/malformed_tokens/malformed_1 (0.00s)
        --- PASS: TestUserAuthFlow_TokenValidation/malformed_tokens/malformed_2 (0.00s)
        --- PASS: TestUserAuthFlow_TokenValidation/malformed_tokens/malformed_3 (0.00s)
        --- PASS: TestUserAuthFlow_TokenValidation/malformed_tokens/malformed_4 (0.00s)
=== RUN   TestNewUserHandler
--- PASS: TestNewUserHandler (0.00s)
=== RUN   TestUserHandler_RegisterUser
=== RUN   TestUserHandler_RegisterUser/invalid_JSON_body
=== RUN   TestUserHandler_RegisterUser/missing_email
=== RUN   TestUserHandler_RegisterUser/missing_password
=== RUN   TestUserHandler_RegisterUser/password_too_short
=== RUN   TestUserHandler_RegisterUser/invalid_email_format
=== RUN   TestUserHandler_RegisterUser/successful_registration
=== RUN   TestUserHandler_RegisterUser/user_already_exists
=== RUN   TestUserHandler_RegisterUser/database_error_during_user_existence_check
=== RUN   TestUserHandler_RegisterUser/database_error_during_user_insertion
=== RUN   TestUserHandler_RegisterUser/successful_registration_with_telegram_chat_ID
--- PASS: TestUserHandler_RegisterUser (2.28s)
    --- PASS: TestUserHandler_RegisterUser/invalid_JSON_body (0.00s)
    --- PASS: TestUserHandler_RegisterUser/missing_email (0.00s)
    --- PASS: TestUserHandler_RegisterUser/missing_password (0.00s)
    --- PASS: TestUserHandler_RegisterUser/password_too_short (0.00s)
    --- PASS: TestUserHandler_RegisterUser/invalid_email_format (0.00s)
    --- PASS: TestUserHandler_RegisterUser/successful_registration (0.80s)
    --- PASS: TestUserHandler_RegisterUser/user_already_exists (0.00s)
    --- PASS: TestUserHandler_RegisterUser/database_error_during_user_existence_check (0.00s)
    --- PASS: TestUserHandler_RegisterUser/database_error_during_user_insertion (0.74s)
    --- PASS: TestUserHandler_RegisterUser/successful_registration_with_telegram_chat_ID (0.74s)
=== RUN   TestUserHandler_LoginUser
=== RUN   TestUserHandler_LoginUser/invalid_JSON_body
=== RUN   TestUserHandler_LoginUser/missing_email
=== RUN   TestUserHandler_LoginUser/missing_password
=== RUN   TestUserHandler_LoginUser/database_error_during_user_existence_check
=== RUN   TestUserHandler_LoginUser/empty_email
=== RUN   TestUserHandler_LoginUser/empty_password
=== RUN   TestUserHandler_LoginUser/successful_login
=== RUN   TestUserHandler_LoginUser/user_not_found
=== RUN   TestUserHandler_LoginUser/invalid_password
=== RUN   TestUserHandler_LoginUser/database_error_during_user_lookup
=== RUN   TestUserHandler_LoginUser/successful_login_with_telegram_chat_ID
--- PASS: TestUserHandler_LoginUser (5.68s)
    --- PASS: TestUserHandler_LoginUser/invalid_JSON_body (0.00s)
    --- PASS: TestUserHandler_LoginUser/missing_email (0.00s)
    --- PASS: TestUserHandler_LoginUser/missing_password (0.00s)
    --- PASS: TestUserHandler_LoginUser/database_error_during_user_existence_check (0.00s)
    --- PASS: TestUserHandler_LoginUser/empty_email (0.00s)
    --- PASS: TestUserHandler_LoginUser/empty_password (0.00s)
    --- PASS: TestUserHandler_LoginUser/successful_login (1.79s)
    --- PASS: TestUserHandler_LoginUser/user_not_found (0.00s)
    --- PASS: TestUserHandler_LoginUser/invalid_password (2.02s)
    --- PASS: TestUserHandler_LoginUser/database_error_during_user_lookup (0.00s)
    --- PASS: TestUserHandler_LoginUser/successful_login_with_telegram_chat_ID (1.86s)
=== RUN   TestUserHandler_GetUserProfile
=== RUN   TestUserHandler_GetUserProfile/missing_user_ID
=== RUN   TestUserHandler_GetUserProfile/user_ID_in_header
=== RUN   TestUserHandler_GetUserProfile/user_ID_in_query
--- PASS: TestUserHandler_GetUserProfile (0.00s)
    --- PASS: TestUserHandler_GetUserProfile/missing_user_ID (0.00s)
    --- PASS: TestUserHandler_GetUserProfile/user_ID_in_header (0.00s)
    --- PASS: TestUserHandler_GetUserProfile/user_ID_in_query (0.00s)
=== RUN   TestUserHandler_UpdateUserProfile
=== RUN   TestUserHandler_UpdateUserProfile/missing_user_ID
=== RUN   TestUserHandler_UpdateUserProfile/invalid_JSON_body
=== RUN   TestUserHandler_UpdateUserProfile/user_ID_from_query_parameter
2025/09/30 23:11:47 Warning: Could not get old user data for cache invalidation: database not available
=== RUN   TestUserHandler_UpdateUserProfile/empty_telegram_chat_ID
2025/09/30 23:11:47 Warning: Could not get old user data for cache invalidation: database not available
--- PASS: TestUserHandler_UpdateUserProfile (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile/missing_user_ID (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile/invalid_JSON_body (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile/user_ID_from_query_parameter (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile/empty_telegram_chat_ID (0.00s)
=== RUN   TestRegisterRequest_Struct
--- PASS: TestRegisterRequest_Struct (0.00s)
=== RUN   TestLoginRequest_Struct
--- PASS: TestLoginRequest_Struct (0.00s)
=== RUN   TestUserResponse_Struct
--- PASS: TestUserResponse_Struct (0.00s)
=== RUN   TestLoginResponse_Struct
--- PASS: TestLoginResponse_Struct (0.00s)
=== RUN   TestUpdateProfileRequest_Struct
--- PASS: TestUpdateProfileRequest_Struct (0.00s)
=== RUN   TestUserHandler_RegisterUser_InvalidJSON
--- PASS: TestUserHandler_RegisterUser_InvalidJSON (0.00s)
=== RUN   TestUserHandler_RegisterUser_MissingEmail
--- PASS: TestUserHandler_RegisterUser_MissingEmail (0.00s)
=== RUN   TestUserHandler_RegisterUser_WithMocks
=== RUN   TestUserHandler_RegisterUser_WithMocks/successful_registration
=== RUN   TestUserHandler_RegisterUser_WithMocks/user_already_exists
=== RUN   TestUserHandler_RegisterUser_WithMocks/database_error_on_user_check
=== RUN   TestUserHandler_RegisterUser_WithMocks/database_error_on_user_insertion
--- PASS: TestUserHandler_RegisterUser_WithMocks (1.94s)
    --- PASS: TestUserHandler_RegisterUser_WithMocks/successful_registration (1.01s)
    --- PASS: TestUserHandler_RegisterUser_WithMocks/user_already_exists (0.00s)
    --- PASS: TestUserHandler_RegisterUser_WithMocks/database_error_on_user_check (0.00s)
    --- PASS: TestUserHandler_RegisterUser_WithMocks/database_error_on_user_insertion (0.93s)
=== RUN   TestUserHandler_LoginUser_InvalidJSON
--- PASS: TestUserHandler_LoginUser_InvalidJSON (0.00s)
=== RUN   TestUserHandler_LoginUser_WithMocks
=== RUN   TestUserHandler_LoginUser_WithMocks/successful_login
=== RUN   TestUserHandler_LoginUser_WithMocks/user_not_found
=== RUN   TestUserHandler_LoginUser_WithMocks/invalid_password
--- PASS: TestUserHandler_LoginUser_WithMocks (3.43s)
    --- PASS: TestUserHandler_LoginUser_WithMocks/successful_login (1.69s)
    --- PASS: TestUserHandler_LoginUser_WithMocks/user_not_found (0.00s)
    --- PASS: TestUserHandler_LoginUser_WithMocks/invalid_password (1.74s)
=== RUN   TestUserHandler_GetUserProfile_MissingUserID
--- PASS: TestUserHandler_GetUserProfile_MissingUserID (0.00s)
=== RUN   TestUserHandler_UpdateUserProfile_MissingUserID
--- PASS: TestUserHandler_UpdateUserProfile_MissingUserID (0.00s)
=== RUN   TestUserHandler_UpdateUserProfile_WithMocks
=== RUN   TestUserHandler_UpdateUserProfile_WithMocks/successful_update
2025/09/30 23:11:52 Warning: Could not get old user data for cache invalidation: call to method Query(), was not expected, next expectation is: ExpectedExec => expecting call to Exec():
	- matches sql: 'UPDATE users SET telegram_chat_id = \$2, updated_at = \$3 WHERE id = \$1'
	- is with arguments:
		0 - user-123
		1 - <nil>
		2 - {}
	- returns result: UPDATE 1
=== RUN   TestUserHandler_UpdateUserProfile_WithMocks/update_error
2025/09/30 23:11:52 Warning: Could not get old user data for cache invalidation: call to method Query(), was not expected, next expectation is: ExpectedExec => expecting call to Exec():
	- matches sql: 'UPDATE users SET telegram_chat_id = \$2, updated_at = \$3 WHERE id = \$1'
	- is with arguments:
		0 - user-123
		1 - <nil>
		2 - {}
	- returns error: assert.AnError general error for testing
=== RUN   TestUserHandler_UpdateUserProfile_WithMocks/fetch_updated_user_error
2025/09/30 23:11:52 Warning: Could not get old user data for cache invalidation: call to method Query(), was not expected, next expectation is: ExpectedExec => expecting call to Exec():
	- matches sql: 'UPDATE users SET telegram_chat_id = \$2, updated_at = \$3 WHERE id = \$1'
	- is with arguments:
		0 - user-123
		1 - <nil>
		2 - {}
	- returns result: UPDATE 1
--- PASS: TestUserHandler_UpdateUserProfile_WithMocks (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile_WithMocks/successful_update (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile_WithMocks/update_error (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile_WithMocks/fetch_updated_user_error (0.00s)
=== RUN   TestUserHandler_UpdateUserProfile_InvalidJSON
--- PASS: TestUserHandler_UpdateUserProfile_InvalidJSON (0.00s)
=== RUN   TestUserHandler_UpdateUserProfile_Comprehensive
=== RUN   TestUserHandler_UpdateUserProfile_Comprehensive/successful_update_with_telegram_chat_ID
2025/09/30 23:11:52 Warning: Could not get old user data for cache invalidation: call to method Query(), was not expected, next expectation is: ExpectedExec => expecting call to Exec():
	- matches sql: 'UPDATE users SET telegram_chat_id = \$2, updated_at = \$3 WHERE id = \$1'
	- is with arguments:
		0 - user-123
		1 - 0xc0002c10f0
		2 - {}
	- returns result: UPDATE 1
=== RUN   TestUserHandler_UpdateUserProfile_Comprehensive/user_ID_from_header
2025/09/30 23:11:52 Warning: Could not get old user data for cache invalidation: call to method Query(), was not expected, next expectation is: ExpectedExec => expecting call to Exec():
	- matches sql: 'UPDATE users SET telegram_chat_id = \$2, updated_at = \$3 WHERE id = \$1'
	- is with arguments:
		0 - header-user-123
		1 - <nil>
		2 - {}
	- returns result: UPDATE 1
=== RUN   TestUserHandler_UpdateUserProfile_Comprehensive/missing_user_ID
=== RUN   TestUserHandler_UpdateUserProfile_Comprehensive/database_not_available
2025/09/30 23:11:52 Warning: Could not get old user data for cache invalidation: database not available
=== RUN   TestUserHandler_UpdateUserProfile_Comprehensive/empty_request_body
2025/09/30 23:11:52 Warning: Could not get old user data for cache invalidation: call to method Query(), was not expected, next expectation is: ExpectedExec => expecting call to Exec():
	- matches sql: 'UPDATE users SET telegram_chat_id = \$2, updated_at = \$3 WHERE id = \$1'
	- is with arguments:
		0 - user-123
		1 - <nil>
		2 - {}
	- returns result: UPDATE 1
=== RUN   TestUserHandler_UpdateUserProfile_Comprehensive/update_affects_no_rows
2025/09/30 23:11:52 Warning: Could not get old user data for cache invalidation: call to method Query(), was not expected, next expectation is: ExpectedExec => expecting call to Exec():
	- matches sql: 'UPDATE users SET telegram_chat_id = \$2, updated_at = \$3 WHERE id = \$1'
	- is with arguments:
		0 - nonexistent-user
		1 - <nil>
		2 - {}
	- returns result: UPDATE 0
=== RUN   TestUserHandler_UpdateUserProfile_Comprehensive/database_exec_error_during_update
2025/09/30 23:11:52 Warning: Could not get old user data for cache invalidation: call to method Query(), was not expected, next expectation is: ExpectedExec => expecting call to Exec():
	- matches sql: 'UPDATE users SET telegram_chat_id = \$2, updated_at = \$3 WHERE id = \$1'
	- is with arguments:
		0 - user-123
		1 - <nil>
		2 - {}
	- returns error: assert.AnError general error for testing
=== RUN   TestUserHandler_UpdateUserProfile_Comprehensive/getUserByID_error_after_successful_update
2025/09/30 23:11:52 Warning: Could not get old user data for cache invalidation: call to method Query(), was not expected, next expectation is: ExpectedExec => expecting call to Exec():
	- matches sql: 'UPDATE users SET telegram_chat_id = \$2, updated_at = \$3 WHERE id = \$1'
	- is with arguments:
		0 - user-123
		1 - 0xc000424000
		2 - {}
	- returns result: UPDATE 1
=== RUN   TestUserHandler_UpdateUserProfile_Comprehensive/invalid_JSON_body
--- PASS: TestUserHandler_UpdateUserProfile_Comprehensive (0.01s)
    --- PASS: TestUserHandler_UpdateUserProfile_Comprehensive/successful_update_with_telegram_chat_ID (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile_Comprehensive/user_ID_from_header (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile_Comprehensive/missing_user_ID (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile_Comprehensive/database_not_available (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile_Comprehensive/empty_request_body (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile_Comprehensive/update_affects_no_rows (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile_Comprehensive/database_exec_error_during_update (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile_Comprehensive/getUserByID_error_after_successful_update (0.00s)
    --- PASS: TestUserHandler_UpdateUserProfile_Comprehensive/invalid_JSON_body (0.00s)
=== RUN   TestUserHandler_userExists
=== RUN   TestUserHandler_userExists/user_exists
=== RUN   TestUserHandler_userExists/user_does_not_exist
=== RUN   TestUserHandler_userExists/database_error
=== RUN   TestUserHandler_userExists/database_not_available
--- PASS: TestUserHandler_userExists (0.00s)
    --- PASS: TestUserHandler_userExists/user_exists (0.00s)
    --- PASS: TestUserHandler_userExists/user_does_not_exist (0.00s)
    --- PASS: TestUserHandler_userExists/database_error (0.00s)
    --- PASS: TestUserHandler_userExists/database_not_available (0.00s)
=== RUN   TestUserHandler_getUserByEmail
=== RUN   TestUserHandler_getUserByEmail/successful_retrieval
=== RUN   TestUserHandler_getUserByEmail/user_not_found
=== RUN   TestUserHandler_getUserByEmail/database_error
=== RUN   TestUserHandler_getUserByEmail/database_not_available
--- PASS: TestUserHandler_getUserByEmail (0.00s)
    --- PASS: TestUserHandler_getUserByEmail/successful_retrieval (0.00s)
    --- PASS: TestUserHandler_getUserByEmail/user_not_found (0.00s)
    --- PASS: TestUserHandler_getUserByEmail/database_error (0.00s)
    --- PASS: TestUserHandler_getUserByEmail/database_not_available (0.00s)
=== RUN   TestUserHandler_getUserByID
=== RUN   TestUserHandler_getUserByID/successful_retrieval_from_database_with_querier
=== RUN   TestUserHandler_getUserByID/successful_retrieval_from_Redis_cache
    user_test.go:36: Redis not available for testing: dial tcp 127.0.0.1:6379: connect: connection refused
=== RUN   TestUserHandler_getUserByID/user_not_found
=== RUN   TestUserHandler_getUserByID/database_error
=== RUN   TestUserHandler_getUserByID/database_not_available
--- PASS: TestUserHandler_getUserByID (0.10s)
    --- PASS: TestUserHandler_getUserByID/successful_retrieval_from_database_with_querier (0.00s)
    --- SKIP: TestUserHandler_getUserByID/successful_retrieval_from_Redis_cache (0.10s)
    --- PASS: TestUserHandler_getUserByID/user_not_found (0.00s)
    --- PASS: TestUserHandler_getUserByID/database_error (0.00s)
    --- PASS: TestUserHandler_getUserByID/database_not_available (0.00s)
=== RUN   TestUserHandler_GetUserByTelegramChatID
=== RUN   TestUserHandler_GetUserByTelegramChatID/successful_retrieval_with_querier
=== RUN   TestUserHandler_GetUserByTelegramChatID/successful_retrieval_from_Redis_cache
    user_test.go:36: Redis not available for testing: dial tcp 127.0.0.1:6379: connect: connection refused
=== RUN   TestUserHandler_GetUserByTelegramChatID/user_not_found
=== RUN   TestUserHandler_GetUserByTelegramChatID/database_error
=== RUN   TestUserHandler_GetUserByTelegramChatID/database_not_available
--- PASS: TestUserHandler_GetUserByTelegramChatID (0.10s)
    --- PASS: TestUserHandler_GetUserByTelegramChatID/successful_retrieval_with_querier (0.00s)
    --- SKIP: TestUserHandler_GetUserByTelegramChatID/successful_retrieval_from_Redis_cache (0.10s)
    --- PASS: TestUserHandler_GetUserByTelegramChatID/user_not_found (0.00s)
    --- PASS: TestUserHandler_GetUserByTelegramChatID/database_error (0.00s)
    --- PASS: TestUserHandler_GetUserByTelegramChatID/database_not_available (0.00s)
=== RUN   TestUserHandler_CreateTelegramUser
=== RUN   TestUserHandler_CreateTelegramUser/successful_creation
=== RUN   TestUserHandler_CreateTelegramUser/empty_chat_ID
=== RUN   TestUserHandler_CreateTelegramUser/database_error
=== RUN   TestUserHandler_CreateTelegramUser/database_not_available
--- PASS: TestUserHandler_CreateTelegramUser (0.00s)
    --- PASS: TestUserHandler_CreateTelegramUser/successful_creation (0.00s)
    --- PASS: TestUserHandler_CreateTelegramUser/empty_chat_ID (0.00s)
    --- PASS: TestUserHandler_CreateTelegramUser/database_error (0.00s)
    --- PASS: TestUserHandler_CreateTelegramUser/database_not_available (0.00s)
=== RUN   TestUserHandler_generateSimpleToken
=== RUN   TestUserHandler_generateSimpleToken/generates_valid_token
=== RUN   TestUserHandler_generateSimpleToken/generates_different_tokens_for_different_users
=== RUN   TestUserHandler_generateSimpleToken/generates_consistent_tokens_for_same_user
=== RUN   TestUserHandler_generateSimpleToken/handles_empty_user_ID
--- PASS: TestUserHandler_generateSimpleToken (0.00s)
    --- PASS: TestUserHandler_generateSimpleToken/generates_valid_token (0.00s)
    --- PASS: TestUserHandler_generateSimpleToken/generates_different_tokens_for_different_users (0.00s)
    --- PASS: TestUserHandler_generateSimpleToken/generates_consistent_tokens_for_same_user (0.00s)
    --- PASS: TestUserHandler_generateSimpleToken/handles_empty_user_ID (0.00s)
PASS
coverage: 50.8% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/api/handlers	(cached)	coverage: 50.8% of statements
# github.com/irfandi/celebrum-ai-go/internal/services.test
ld: warning: '/private/var/folders/_s/x4kzj7hj3611_2_wjj3nhn640000gn/T/go-link-4188867107/000016.o' has malformed LC_DYSYMTAB, expected 98 undefined symbols to start at index 1626, found 95 undefined symbols starting at index 1626
	github.com/irfandi/celebrum-ai-go/internal/api/handlers/testmocks		coverage: 0.0% of statements
=== RUN   TestInMemoryBlacklistCache
2025/09/30 23:13:46 Blacklisted symbol binance for test blacklist (TTL: 1h0m0s)
2025/09/30 23:13:46 Removed symbol binance from blacklist
2025/09/30 23:13:46 Blacklisted symbol binance for test1 (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklisted symbol coinbase for test2 (TTL: 1h0m0s)
2025/09/30 23:13:46 Cleared 2 blacklisted symbols
--- PASS: TestInMemoryBlacklistCache (0.00s)
=== RUN   TestBlacklistCacheExpiration
2025/09/30 23:13:46 Blacklisted symbol binance for test blacklist (TTL: 10ms)
--- PASS: TestBlacklistCacheExpiration (0.02s)
=== RUN   TestBlacklistCacheStats
2025/09/30 23:13:46 Blacklisted symbol binance for test1 (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklisted symbol coinbase for test2 (TTL: 1h0m0s)
--- PASS: TestBlacklistCacheStats (0.00s)
=== RUN   TestBlacklistPersistenceInterface
2025/09/30 23:13:46 Blacklisted symbol test for reason (TTL: 1h0m0s)
--- PASS: TestBlacklistPersistenceInterface (0.00s)
=== RUN   TestDatabasePersistenceFlow
2025/09/30 23:13:46 Blacklisted symbol binance for Manual blacklist via API (TTL: 0s)
2025/09/30 23:13:46 Removed symbol binance from blacklist
--- PASS: TestDatabasePersistenceFlow (0.00s)
=== RUN   TestRedisBlacklistCache_NewRedisBlacklistCache
--- PASS: TestRedisBlacklistCache_NewRedisBlacklistCache (0.00s)
=== RUN   TestRedisBlacklistCache_IsBlacklisted
2025/09/30 23:13:46 Blacklisted symbol test-symbol for test reason (TTL: 1h0m0s)
--- PASS: TestRedisBlacklistCache_IsBlacklisted (0.00s)
=== RUN   TestRedisBlacklistCache_IsBlacklisted_Expired
2025/09/30 23:13:46 Blacklisted symbol expired-symbol for test reason (TTL: 10ms)
--- PASS: TestRedisBlacklistCache_IsBlacklisted_Expired (0.02s)
=== RUN   TestRedisBlacklistCache_Add
2025/09/30 23:13:46 Blacklisted symbol test-symbol for test reason (TTL: 1h0m0s)
--- PASS: TestRedisBlacklistCache_Add (0.00s)
=== RUN   TestRedisBlacklistCache_Add_NoTTL
2025/09/30 23:13:46 Blacklisted symbol permanent-symbol for permanent reason (TTL: 0s)
--- PASS: TestRedisBlacklistCache_Add_NoTTL (0.00s)
=== RUN   TestRedisBlacklistCache_Remove
2025/09/30 23:13:46 Blacklisted symbol test-symbol for test reason (TTL: 1h0m0s)
2025/09/30 23:13:46 Removed symbol test-symbol from blacklist
--- PASS: TestRedisBlacklistCache_Remove (0.00s)
=== RUN   TestRedisBlacklistCache_Remove_NonExistent
--- PASS: TestRedisBlacklistCache_Remove_NonExistent (0.00s)
=== RUN   TestRedisBlacklistCache_Clear
2025/09/30 23:13:46 Blacklisted symbol symbol1 for reason1 (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklisted symbol symbol2 for reason2 (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklisted symbol symbol3 for reason3 (TTL: 1h0m0s)
2025/09/30 23:13:46 Cleared 3 blacklisted symbols
--- PASS: TestRedisBlacklistCache_Clear (0.00s)
=== RUN   TestRedisBlacklistCache_Clear_Empty
--- PASS: TestRedisBlacklistCache_Clear_Empty (0.00s)
=== RUN   TestRedisBlacklistCache_GetStats
2025/09/30 23:13:46 Blacklisted symbol symbol1 for reason1 (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklisted symbol symbol2 for reason2 (TTL: 1h0m0s)
--- PASS: TestRedisBlacklistCache_GetStats (0.00s)
=== RUN   TestRedisBlacklistCache_LogStats
2025/09/30 23:13:46 Blacklisted symbol test-symbol for test reason (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklist Cache Stats - Total: 1, Hits: 1, Misses: 1, Adds: 1, Expired: 0
--- PASS: TestRedisBlacklistCache_LogStats (0.00s)
=== RUN   TestRedisBlacklistCache_Close
2025/09/30 23:13:46 Blacklisted symbol test-symbol for test reason (TTL: 1h0m0s)
--- PASS: TestRedisBlacklistCache_Close (0.00s)
=== RUN   TestRedisBlacklistCache_GetBlacklistedSymbols
2025/09/30 23:13:46 Blacklisted symbol symbol1 for reason1 (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklisted symbol symbol2 for reason2 (TTL: 2h0m0s)
--- PASS: TestRedisBlacklistCache_GetBlacklistedSymbols (0.00s)
=== RUN   TestRedisBlacklistCache_GetBlacklistedSymbols_Empty
--- PASS: TestRedisBlacklistCache_GetBlacklistedSymbols_Empty (0.00s)
=== RUN   TestRedisBlacklistCache_GetBlacklistedSymbols_WithExpired
2025/09/30 23:13:46 Blacklisted symbol active-symbol for active reason (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklisted symbol expired-symbol for expired reason (TTL: 10ms)
--- PASS: TestRedisBlacklistCache_GetBlacklistedSymbols_WithExpired (0.02s)
=== RUN   TestRedisBlacklistCache_CleanupExpired
2025/09/30 23:13:46 Blacklisted symbol active1 for reason1 (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklisted symbol active2 for reason2 (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklisted symbol expired1 for expired1 (TTL: 10ms)
2025/09/30 23:13:46 Blacklisted symbol expired2 for expired2 (TTL: 10ms)
2025/09/30 23:13:46 Cleaned up 2 expired blacklist entries
--- PASS: TestRedisBlacklistCache_CleanupExpired (0.02s)
=== RUN   TestRedisBlacklistCache_CleanupExpired_NoExpired
2025/09/30 23:13:46 Blacklisted symbol active1 for reason1 (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklisted symbol active2 for reason2 (TTL: 1h0m0s)
--- PASS: TestRedisBlacklistCache_CleanupExpired_NoExpired (0.00s)
=== RUN   TestRedisBlacklistCache_LoadFromDatabase
2025/09/30 23:13:46 Loaded 3 blacklist entries from database to cache
--- PASS: TestRedisBlacklistCache_LoadFromDatabase (0.00s)
=== RUN   TestRedisBlacklistCache_LoadFromDatabase_Empty
2025/09/30 23:13:46 Loaded 0 blacklist entries from database to cache
--- PASS: TestRedisBlacklistCache_LoadFromDatabase_Empty (0.00s)
=== RUN   TestRedisBlacklistCache_LoadFromDatabase_Error
--- PASS: TestRedisBlacklistCache_LoadFromDatabase_Error (0.00s)
=== RUN   TestRedisBlacklistCache_LoadFromDatabase_WithExpired
2025/09/30 23:13:46 Loaded 2 blacklist entries from database to cache
--- PASS: TestRedisBlacklistCache_LoadFromDatabase_WithExpired (0.00s)
=== RUN   TestInMemoryBlacklistCache_LogStats
2025/09/30 23:13:46 Blacklisted symbol binance for test reason (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklisted symbol coinbase for test reason (TTL: 1h0m0s)
2025/09/30 23:13:46 Blacklist Cache Stats - Total: 2, Hits: 0, Misses: 0, Adds: 2, Expired: 0
--- PASS: TestInMemoryBlacklistCache_LogStats (0.00s)
=== RUN   TestInMemoryBlacklistCache_Close
2025/09/30 23:13:46 Blacklisted symbol binance for test reason (TTL: 1h0m0s)
--- PASS: TestInMemoryBlacklistCache_Close (0.00s)
=== RUN   TestBlacklistRepositoryInterface
--- PASS: TestBlacklistRepositoryInterface (0.00s)
=== RUN   TestNewRedisSymbolCache
--- PASS: TestNewRedisSymbolCache (0.00s)
=== RUN   TestRedisSymbolCache_Get_Success
2025/09/30 23:13:46 Cached 3 symbols for binance (TTL: 5m0s)
--- PASS: TestRedisSymbolCache_Get_Success (0.00s)
=== RUN   TestRedisSymbolCache_Get_Miss
--- PASS: TestRedisSymbolCache_Get_Miss (0.00s)
=== RUN   TestRedisSymbolCache_Get_InvalidJSON
2025/09/30 23:13:46 Error deserializing cached symbols for test: invalid character 'i' looking for beginning of value
--- PASS: TestRedisSymbolCache_Get_InvalidJSON (0.00s)
=== RUN   TestRedisSymbolCache_Get_ExpiredEntry
2025/09/30 23:13:46 Cached symbols for expired expired but returning to prevent API calls
--- PASS: TestRedisSymbolCache_Get_ExpiredEntry (0.00s)
=== RUN   TestRedisSymbolCache_Set
2025/09/30 23:13:46 Cached 3 symbols for binance (TTL: 5m0s)
--- PASS: TestRedisSymbolCache_Set (0.00s)
=== RUN   TestRedisSymbolCache_GetStats
2025/09/30 23:13:46 Cached 1 symbols for binance (TTL: 5m0s)
--- PASS: TestRedisSymbolCache_GetStats (0.00s)
=== RUN   TestRedisSymbolCache_LogStats
2025/09/30 23:13:46 Redis Symbol Cache Stats - Hits: 0, Misses: 0, Sets: 0, Hit Rate: 0.00%
2025/09/30 23:13:46 Cached 1 symbols for binance (TTL: 5m0s)
2025/09/30 23:13:46 Redis Symbol Cache Stats - Hits: 1, Misses: 0, Sets: 1, Hit Rate: 100.00%
--- PASS: TestRedisSymbolCache_LogStats (0.00s)
=== RUN   TestRedisSymbolCache_Clear_Success
2025/09/30 23:13:46 Cached 1 symbols for binance (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for coinbase (TTL: 5m0s)
2025/09/30 23:13:46 Cleared 2 symbol cache entries
--- PASS: TestRedisSymbolCache_Clear_Success (0.00s)
=== RUN   TestRedisSymbolCache_Clear_NoKeys
--- PASS: TestRedisSymbolCache_Clear_NoKeys (0.00s)
=== RUN   TestRedisSymbolCache_GetCachedExchanges_Success
2025/09/30 23:13:46 Cached 1 symbols for binance (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for coinbase (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for kraken (TTL: 5m0s)
--- PASS: TestRedisSymbolCache_GetCachedExchanges_Success (0.00s)
=== RUN   TestRedisSymbolCache_GetCachedExchanges_Empty
--- PASS: TestRedisSymbolCache_GetCachedExchanges_Empty (0.00s)
=== RUN   TestRedisSymbolCache_WarmCache_Success
2025/09/30 23:13:46 Warming symbol cache for 2 exchanges...
2025/09/30 23:13:46 Cached 2 symbols for binance (TTL: 5m0s)
2025/09/30 23:13:46 Warmed cache for binance with 2 symbols
2025/09/30 23:13:46 Cached 2 symbols for coinbase (TTL: 5m0s)
2025/09/30 23:13:46 Warmed cache for coinbase with 2 symbols
2025/09/30 23:13:46 Symbol cache warming completed
--- PASS: TestRedisSymbolCache_WarmCache_Success (0.00s)
=== RUN   TestRedisSymbolCache_WarmCache_AlreadyCached
2025/09/30 23:13:46 Cached 1 symbols for binance (TTL: 5m0s)
2025/09/30 23:13:46 Warming symbol cache for 2 exchanges...
2025/09/30 23:13:46 Symbols for binance already cached, skipping
2025/09/30 23:13:46 Cached 1 symbols for coinbase (TTL: 5m0s)
2025/09/30 23:13:46 Warmed cache for coinbase with 1 symbols
2025/09/30 23:13:46 Symbol cache warming completed
--- PASS: TestRedisSymbolCache_WarmCache_AlreadyCached (0.00s)
=== RUN   TestRedisSymbolCache_WarmCache_FetcherError
2025/09/30 23:13:46 Warming symbol cache for 1 exchanges...
2025/09/30 23:13:46 Warning: Failed to warm cache for binance: assert.AnError general error for testing
2025/09/30 23:13:46 Symbol cache warming completed
--- PASS: TestRedisSymbolCache_WarmCache_FetcherError (0.00s)
=== RUN   TestSymbolCacheStats_ThreadSafety
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
2025/09/30 23:13:46 Cached 1 symbols for test (TTL: 5m0s)
--- PASS: TestSymbolCacheStats_ThreadSafety (0.08s)
=== RUN   TestRedisSymbolCache_EmptySymbols
2025/09/30 23:13:46 Cached 0 symbols for empty (TTL: 5m0s)
--- PASS: TestRedisSymbolCache_EmptySymbols (0.00s)
=== RUN   TestRedisSymbolCache_LargeSymbolsList
2025/09/30 23:13:46 Cached 1000 symbols for large (TTL: 5m0s)
--- PASS: TestRedisSymbolCache_LargeSymbolsList (0.01s)
PASS
coverage: 86.5% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/cache	(cached)	coverage: 86.5% of statements
=== RUN   TestUnixTimestamp_UnmarshalJSON
--- PASS: TestUnixTimestamp_UnmarshalJSON (0.00s)
=== RUN   TestUnixTimestamp_UnmarshalJSON_InvalidData
--- PASS: TestUnixTimestamp_UnmarshalJSON_InvalidData (0.00s)
=== RUN   TestUnixTimestamp_MarshalJSON
--- PASS: TestUnixTimestamp_MarshalJSON (0.00s)
=== RUN   TestUnixTimestamp_Time
--- PASS: TestUnixTimestamp_Time (0.00s)
=== RUN   TestHealthResponse_Struct
--- PASS: TestHealthResponse_Struct (0.00s)
=== RUN   TestHealthResponse_JSONMarshaling
--- PASS: TestHealthResponse_JSONMarshaling (0.00s)
=== RUN   TestExchangeInfo_Struct
--- PASS: TestExchangeInfo_Struct (0.00s)
=== RUN   TestExchangeInfo_JSONMarshaling
--- PASS: TestExchangeInfo_JSONMarshaling (0.00s)
=== RUN   TestExchangesResponse_Struct
--- PASS: TestExchangesResponse_Struct (0.00s)
=== RUN   TestTicker_Struct
--- PASS: TestTicker_Struct (0.00s)
=== RUN   TestTicker_JSONMarshaling
--- PASS: TestTicker_JSONMarshaling (0.00s)
=== RUN   TestTickerResponse_Struct
--- PASS: TestTickerResponse_Struct (0.00s)
=== RUN   TestTickerData_Struct
--- PASS: TestTickerData_Struct (0.00s)
=== RUN   TestTickersRequest_Struct
--- PASS: TestTickersRequest_Struct (0.00s)
=== RUN   TestTickersRequest_JSONMarshaling
--- PASS: TestTickersRequest_JSONMarshaling (0.00s)
=== RUN   TestTickersResponse_Struct
--- PASS: TestTickersResponse_Struct (0.00s)
=== RUN   TestOrderBookEntry_Struct
--- PASS: TestOrderBookEntry_Struct (0.00s)
=== RUN   TestOrderBookEntry_JSONMarshaling
--- PASS: TestOrderBookEntry_JSONMarshaling (0.00s)
=== RUN   TestOrderBook_Struct
--- PASS: TestOrderBook_Struct (0.00s)
=== RUN   TestOrderBookResponse_Struct
--- PASS: TestOrderBookResponse_Struct (0.00s)
=== RUN   TestOHLCV_Struct
--- PASS: TestOHLCV_Struct (0.00s)
=== RUN   TestOHLCV_JSONMarshaling
--- PASS: TestOHLCV_JSONMarshaling (0.00s)
=== RUN   TestOHLCVResponse_Struct
--- PASS: TestOHLCVResponse_Struct (0.00s)
=== RUN   TestTrade_Struct
--- PASS: TestTrade_Struct (0.00s)
=== RUN   TestTrade_JSONMarshaling
--- PASS: TestTrade_JSONMarshaling (0.00s)
=== RUN   TestTradesResponse_Struct
--- PASS: TestTradesResponse_Struct (0.00s)
=== RUN   TestMarketsResponse_Struct
--- PASS: TestMarketsResponse_Struct (0.00s)
=== RUN   TestMarketsResponse_JSONMarshaling
--- PASS: TestMarketsResponse_JSONMarshaling (0.00s)
=== RUN   TestErrorResponse_Struct
--- PASS: TestErrorResponse_Struct (0.00s)
=== RUN   TestErrorResponse_JSONMarshaling
--- PASS: TestErrorResponse_JSONMarshaling (0.00s)
=== RUN   TestUnixTimestamp_EdgeCases
--- PASS: TestUnixTimestamp_EdgeCases (0.00s)
=== RUN   TestTicker_EmptyValues
--- PASS: TestTicker_EmptyValues (0.00s)
=== RUN   TestOrderBook_EmptyOrderBook
--- PASS: TestOrderBook_EmptyOrderBook (0.00s)
=== RUN   TestTrade_SideValidation
--- PASS: TestTrade_SideValidation (0.00s)
=== RUN   TestNewService
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestNewService (0.00s)
=== RUN   TestService_Initialize
    service_test.go:31: Skipping integration test - requires running CCXT service
--- SKIP: TestService_Initialize (0.00s)
=== RUN   TestService_GetSupportedExchanges
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_GetSupportedExchanges (0.00s)
=== RUN   TestService_FetchSingleTicker
    service_test.go:68: Skipping integration test - requires running CCXT service
--- SKIP: TestService_FetchSingleTicker (0.00s)
=== RUN   TestService_FetchMarketData
    service_test.go:99: Skipping integration test - requires running CCXT service
--- SKIP: TestService_FetchMarketData (0.00s)
=== RUN   TestService_FetchMarketData_EmptyExchanges
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_FetchMarketData_EmptyExchanges (0.00s)
=== RUN   TestService_FetchMarketData_EmptySymbols
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_FetchMarketData_EmptySymbols (0.00s)
=== RUN   TestService_GetExchangeInfo_Exists
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_GetExchangeInfo_Exists (0.00s)
=== RUN   TestService_GetExchangeInfo_NotExists
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_GetExchangeInfo_NotExists (0.00s)
=== RUN   TestService_ConcurrentAccess
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_ConcurrentAccess (0.00s)
=== RUN   TestService_LastUpdate
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_LastUpdate (0.00s)
=== RUN   TestService_DifferentConfigs
=== RUN   TestService_DifferentConfigs/valid_config
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
=== RUN   TestService_DifferentConfigs/different_URL
2025/09/30 23:11:35 CCXT Service URL from config: http://example.com:8080
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://example.com:8080
=== RUN   TestService_DifferentConfigs/zero_timeout
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_DifferentConfigs (0.00s)
    --- PASS: TestService_DifferentConfigs/valid_config (0.00s)
    --- PASS: TestService_DifferentConfigs/different_URL (0.00s)
    --- PASS: TestService_DifferentConfigs/zero_timeout (0.00s)
=== RUN   TestService_SupportedExchangesOperations
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_SupportedExchangesOperations (0.00s)
=== RUN   TestService_EdgeCases
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_EdgeCases (0.00s)
=== RUN   TestService_InitializationState
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_InitializationState (0.00s)
=== RUN   TestService_GetServiceURL
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_GetServiceURL (0.00s)
=== RUN   TestService_Close
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_Close (0.00s)
=== RUN   TestService_Struct
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_Struct (0.00s)
=== RUN   TestService_GetSupportedExchanges_Empty
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_GetSupportedExchanges_Empty (0.00s)
=== RUN   TestService_GetSupportedExchanges_Populated
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_GetSupportedExchanges_Populated (0.00s)
=== RUN   TestService_Initialize_Success
time="2025-09-30T23:11:35+07:00" level=info msg="Initialized CCXT service with 2 supported exchanges"
time="2025-09-30T23:11:35+07:00" level=info msg="Successfully loaded blacklist from database"
--- PASS: TestService_Initialize_Success (0.00s)
=== RUN   TestService_Initialize_ClientError
--- PASS: TestService_Initialize_ClientError (0.00s)
=== RUN   TestService_Initialize_BlacklistCacheError
time="2025-09-30T23:11:35+07:00" level=info msg="Initialized CCXT service with 1 supported exchanges"
time="2025-09-30T23:11:35+07:00" level=warning msg="Failed to load blacklist from database" error="assert.AnError general error for testing"
--- PASS: TestService_Initialize_BlacklistCacheError (0.00s)
=== RUN   TestService_IsHealthy_Healthy
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_IsHealthy_Healthy (0.00s)
=== RUN   TestService_IsHealthy_Unhealthy
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestService_IsHealthy_Unhealthy (0.00s)
=== RUN   TestService_FetchSingleTicker_Success
--- PASS: TestService_FetchSingleTicker_Success (0.00s)
=== RUN   TestService_FetchSingleTicker_ClientError
--- PASS: TestService_FetchSingleTicker_ClientError (0.00s)
=== RUN   TestService_FetchOrderBook_Success
--- PASS: TestService_FetchOrderBook_Success (0.00s)
=== RUN   TestService_FetchOrderBook_ClientError
--- PASS: TestService_FetchOrderBook_ClientError (0.00s)
=== RUN   TestService_FetchOHLCV_Success
--- PASS: TestService_FetchOHLCV_Success (0.00s)
=== RUN   TestService_FetchOHLCV_ClientError
--- PASS: TestService_FetchOHLCV_ClientError (0.00s)
=== RUN   TestService_FetchTrades_Success
--- PASS: TestService_FetchTrades_Success (0.00s)
=== RUN   TestService_FetchTrades_ClientError
--- PASS: TestService_FetchTrades_ClientError (0.00s)
=== RUN   TestService_FetchMarkets_Success
--- PASS: TestService_FetchMarkets_Success (0.00s)
=== RUN   TestService_FetchMarkets_ClientError
--- PASS: TestService_FetchMarkets_ClientError (0.00s)
=== RUN   TestService_CalculateArbitrageOpportunities_Success
--- PASS: TestService_CalculateArbitrageOpportunities_Success (0.00s)
=== RUN   TestService_CalculateArbitrageOpportunities_InsufficientProfit
--- PASS: TestService_CalculateArbitrageOpportunities_InsufficientProfit (0.00s)
=== RUN   TestService_CalculateArbitrageOpportunities_ClientError
--- PASS: TestService_CalculateArbitrageOpportunities_ClientError (0.00s)
=== RUN   TestService_CalculateArbitrageOpportunities_EmptyExchanges
--- PASS: TestService_CalculateArbitrageOpportunities_EmptyExchanges (0.00s)
=== RUN   TestService_FetchFundingRate
--- PASS: TestService_FetchFundingRate (0.00s)
=== RUN   TestService_FetchFundingRate_Error
--- PASS: TestService_FetchFundingRate_Error (0.00s)
=== RUN   TestService_FetchFundingRates
--- PASS: TestService_FetchFundingRates (0.00s)
=== RUN   TestService_FetchFundingRates_EmptySymbols
--- PASS: TestService_FetchFundingRates_EmptySymbols (0.00s)
=== RUN   TestService_FetchFundingRates_Error
--- PASS: TestService_FetchFundingRates_Error (0.00s)
=== RUN   TestService_FetchAllFundingRates
--- PASS: TestService_FetchAllFundingRates (0.00s)
=== RUN   TestService_FetchAllFundingRates_Error
--- PASS: TestService_FetchAllFundingRates_Error (0.00s)
=== RUN   TestService_CalculateFundingRateArbitrage
--- PASS: TestService_CalculateFundingRateArbitrage (0.00s)
=== RUN   TestService_CalculateFundingRateArbitrage_InsufficientProfit
--- PASS: TestService_CalculateFundingRateArbitrage_InsufficientProfit (0.00s)
=== RUN   TestService_CalculateFundingRateArbitrage_PriceDifferenceRisk
--- PASS: TestService_CalculateFundingRateArbitrage_PriceDifferenceRisk (0.00s)
=== RUN   TestService_CalculateFundingRateArbitrage_InsufficientExchanges
--- PASS: TestService_CalculateFundingRateArbitrage_InsufficientExchanges (0.00s)
=== RUN   TestService_CalculateFundingRateArbitrage_ClientError
--- PASS: TestService_CalculateFundingRateArbitrage_ClientError (0.00s)
=== RUN   TestService_GetExchangeConfig
--- PASS: TestService_GetExchangeConfig (0.00s)
=== RUN   TestService_GetExchangeConfig_Error
--- PASS: TestService_GetExchangeConfig_Error (0.00s)
=== RUN   TestService_AddExchangeToBlacklist
2025/09/30 23:11:35 Blacklisted symbol problematic_exchange for Manual blacklist via API (TTL: 0s)
--- PASS: TestService_AddExchangeToBlacklist (0.00s)
=== RUN   TestService_AddExchangeToBlacklist_Error
2025/09/30 23:11:35 Blacklisted symbol nonexistent_exchange for Manual blacklist via API (TTL: 0s)
--- PASS: TestService_AddExchangeToBlacklist_Error (0.00s)
=== RUN   TestService_RemoveExchangeFromBlacklist
2025/09/30 23:11:35 Blacklisted symbol problematic_exchange for Manual blacklist (TTL: 0s)
2025/09/30 23:11:35 Removed symbol problematic_exchange from blacklist
--- PASS: TestService_RemoveExchangeFromBlacklist (0.00s)
=== RUN   TestService_RemoveExchangeFromBlacklist_Error
--- PASS: TestService_RemoveExchangeFromBlacklist_Error (0.00s)
=== RUN   TestService_RefreshExchanges
--- PASS: TestService_RefreshExchanges (0.00s)
=== RUN   TestService_RefreshExchanges_Error
--- PASS: TestService_RefreshExchanges_Error (0.00s)
=== RUN   TestService_AddExchange
--- PASS: TestService_AddExchange (0.00s)
=== RUN   TestService_FetchMarketData_Error
--- PASS: TestService_FetchMarketData_Error (0.00s)
=== RUN   TestService_AddExchange_Error
--- PASS: TestService_AddExchange_Error (0.00s)
=== RUN   TestNewClient
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestNewClient (0.00s)
=== RUN   TestClient_HealthCheck
=== RUN   TestClient_HealthCheck/successful_health_check
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50172
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50172
=== RUN   TestClient_HealthCheck/server_error
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50174
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50174
--- PASS: TestClient_HealthCheck (0.00s)
    --- PASS: TestClient_HealthCheck/successful_health_check (0.00s)
    --- PASS: TestClient_HealthCheck/server_error (0.00s)
=== RUN   TestClient_GetExchanges
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50176
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50176
--- PASS: TestClient_GetExchanges (0.00s)
=== RUN   TestClient_GetTicker
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50178
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50178
--- PASS: TestClient_GetTicker (0.00s)
=== RUN   TestClient_GetTickers
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50180
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50180
--- PASS: TestClient_GetTickers (0.00s)
=== RUN   TestClient_GetOrderBook
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50182
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50182
--- PASS: TestClient_GetOrderBook (0.00s)
=== RUN   TestClient_GetTrades
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50184
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50184
--- PASS: TestClient_GetTrades (0.00s)
=== RUN   TestClient_GetOHLCV
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50186
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50186
--- PASS: TestClient_GetOHLCV (0.00s)
=== RUN   TestClient_GetMarkets
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50188
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50188
--- PASS: TestClient_GetMarkets (0.00s)
=== RUN   TestClient_GetFundingRate
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50190
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50190
--- PASS: TestClient_GetFundingRate (0.00s)
=== RUN   TestClient_GetFundingRates
=== RUN   TestClient_GetFundingRates/with_symbols
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50192
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50192
=== RUN   TestClient_GetFundingRates/empty_symbols
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestClient_GetFundingRates (0.00s)
    --- PASS: TestClient_GetFundingRates/with_symbols (0.00s)
    --- PASS: TestClient_GetFundingRates/empty_symbols (0.00s)
=== RUN   TestClient_GetAllFundingRates
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50194
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50194
--- PASS: TestClient_GetAllFundingRates (0.00s)
=== RUN   TestClient_GetExchangeConfig
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50196
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50196
--- PASS: TestClient_GetExchangeConfig (0.00s)
=== RUN   TestClient_AddExchangeToBlacklist
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50198
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50198
--- PASS: TestClient_AddExchangeToBlacklist (0.00s)
=== RUN   TestClient_RemoveExchangeFromBlacklist
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50200
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50200
--- PASS: TestClient_RemoveExchangeFromBlacklist (0.00s)
=== RUN   TestClient_RefreshExchanges
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50202
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50202
--- PASS: TestClient_RefreshExchanges (0.00s)
=== RUN   TestClient_AddExchange
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50204
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50204
--- PASS: TestClient_AddExchange (0.00s)
=== RUN   TestClient_FormatSymbolForExchange
=== RUN   TestClient_FormatSymbolForExchange/binance
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50206
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50206
=== RUN   TestClient_FormatSymbolForExchange/coinbase
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50208
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50208
=== RUN   TestClient_FormatSymbolForExchange/coinbasepro
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50210
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50210
=== RUN   TestClient_FormatSymbolForExchange/kraken
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50212
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50212
=== RUN   TestClient_FormatSymbolForExchange/okx
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50214
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50214
=== RUN   TestClient_FormatSymbolForExchange/unknown
2025/09/30 23:11:35 CCXT Service URL from config: http://127.0.0.1:50216
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://127.0.0.1:50216
--- PASS: TestClient_FormatSymbolForExchange (0.00s)
    --- PASS: TestClient_FormatSymbolForExchange/binance (0.00s)
    --- PASS: TestClient_FormatSymbolForExchange/coinbase (0.00s)
    --- PASS: TestClient_FormatSymbolForExchange/coinbasepro (0.00s)
    --- PASS: TestClient_FormatSymbolForExchange/kraken (0.00s)
    --- PASS: TestClient_FormatSymbolForExchange/okx (0.00s)
    --- PASS: TestClient_FormatSymbolForExchange/unknown (0.00s)
=== RUN   TestClient_Close
2025/09/30 23:11:35 CCXT Service URL from config: http://localhost:3000
2025/09/30 23:11:35 DEBUG: CCXT Client initialized with BaseURL: http://localhost:3000
--- PASS: TestClient_Close (0.00s)
PASS
coverage: 92.0% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/ccxt	(cached)	coverage: 92.0% of statements
=== RUN   TestServerConfiguration
--- PASS: TestServerConfiguration (0.00s)
=== RUN   TestHTTPServerCreation
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

--- PASS: TestHTTPServerCreation (0.00s)
=== RUN   TestContextWithTimeout
--- PASS: TestContextWithTimeout (0.00s)
=== RUN   TestSignalHandling
--- PASS: TestSignalHandling (0.00s)
=== RUN   TestGinRouterSetup
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

--- PASS: TestGinRouterSetup (0.00s)
=== RUN   TestMiddlewareSetup
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

--- PASS: TestMiddlewareSetup (0.00s)
=== RUN   TestHTTPServerTimeouts
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

--- PASS: TestHTTPServerTimeouts (0.00s)
=== RUN   TestConfigurationLoading
--- PASS: TestConfigurationLoading (0.00s)
=== RUN   TestRedisConnectionMock
--- PASS: TestRedisConnectionMock (0.00s)
=== RUN   TestDatabaseMock
--- PASS: TestDatabaseMock (0.00s)
=== RUN   TestLoggerSetup
--- PASS: TestLoggerSetup (0.00s)
=== RUN   TestGracefulShutdown
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

--- PASS: TestGracefulShutdown (0.00s)
=== RUN   TestErrorHandling
--- PASS: TestErrorHandling (0.00s)
=== RUN   TestMemoryMonitoring
--- PASS: TestMemoryMonitoring (0.00s)
=== RUN   TestConfigurationValidation
--- PASS: TestConfigurationValidation (0.00s)
=== RUN   TestHTTPMethodsAndRoutes
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /test                     --> github.com/irfandi/celebrum-ai-go/internal/cmd/server.TestHTTPMethodsAndRoutes.func1 (1 handlers)
[GIN-debug] POST   /test                     --> github.com/irfandi/celebrum-ai-go/internal/cmd/server.TestHTTPMethodsAndRoutes.func2 (1 handlers)
--- PASS: TestHTTPMethodsAndRoutes (0.00s)
=== RUN   TestMiddlewareChain
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

--- PASS: TestMiddlewareChain (0.00s)
=== RUN   TestContextManagement
--- PASS: TestContextManagement (0.00s)
=== RUN   TestServerLifecycle
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

--- PASS: TestServerLifecycle (0.00s)
=== RUN   TestErrorScenarios
--- PASS: TestErrorScenarios (0.00s)
=== RUN   TestConfigurationScenarios
--- PASS: TestConfigurationScenarios (0.00s)
=== RUN   TestSignalHandlingScenarios
--- PASS: TestSignalHandlingScenarios (0.00s)
=== RUN   TestTimeoutScenarios
--- PASS: TestTimeoutScenarios (0.00s)
=== RUN   TestMainFunctionErrorHandling
--- PASS: TestMainFunctionErrorHandling (0.00s)
PASS
coverage: 0.0% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/cmd/server	(cached)	coverage: 0.0% of statements
=== RUN   TestConfig_Struct
--- PASS: TestConfig_Struct (0.00s)
=== RUN   TestServerConfig_Struct
--- PASS: TestServerConfig_Struct (0.00s)
=== RUN   TestDatabaseConfig_Struct
--- PASS: TestDatabaseConfig_Struct (0.00s)
=== RUN   TestRedisConfig_Struct
--- PASS: TestRedisConfig_Struct (0.00s)
=== RUN   TestCCXTConfig_Struct
--- PASS: TestCCXTConfig_Struct (0.00s)
=== RUN   TestTelegramConfig_Struct
--- PASS: TestTelegramConfig_Struct (0.00s)
=== RUN   TestLoad_WithDefaults
--- PASS: TestLoad_WithDefaults (0.00s)
=== RUN   TestLoad_WithEnvironmentVariables
--- PASS: TestLoad_WithEnvironmentVariables (0.00s)
=== RUN   TestCCXTConfig_GetServiceURL
--- PASS: TestCCXTConfig_GetServiceURL (0.00s)
=== RUN   TestCCXTConfig_GetTimeout
--- PASS: TestCCXTConfig_GetTimeout (0.00s)
=== RUN   TestCCXTConfig_GetServiceURL_Empty
--- PASS: TestCCXTConfig_GetServiceURL_Empty (0.00s)
=== RUN   TestCCXTConfig_GetTimeout_Zero
--- PASS: TestCCXTConfig_GetTimeout_Zero (0.00s)
PASS
coverage: 97.5% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/config	(cached)	coverage: 97.5% of statements
=== RUN   TestBlacklistRepository_ExchangeBlacklistEntry
--- PASS: TestBlacklistRepository_ExchangeBlacklistEntry (0.00s)
=== RUN   TestBlacklistRepository_ExchangeBlacklistEntry_WithExpiration
--- PASS: TestBlacklistRepository_ExchangeBlacklistEntry_WithExpiration (0.00s)
=== RUN   TestBlacklistRepository_ConcurrentAccess
--- PASS: TestBlacklistRepository_ConcurrentAccess (0.00s)
=== RUN   TestBlacklistRepository_DataValidation
=== RUN   TestBlacklistRepository_DataValidation/valid_entry
=== RUN   TestBlacklistRepository_DataValidation/empty_exchange_name
=== RUN   TestBlacklistRepository_DataValidation/empty_reason
--- PASS: TestBlacklistRepository_DataValidation (0.00s)
    --- PASS: TestBlacklistRepository_DataValidation/valid_entry (0.00s)
    --- PASS: TestBlacklistRepository_DataValidation/empty_exchange_name (0.00s)
    --- PASS: TestBlacklistRepository_DataValidation/empty_reason (0.00s)
=== RUN   TestBlacklistRepository_TimeScenarios
=== RUN   TestBlacklistRepository_TimeScenarios/entry_without_expiration
=== RUN   TestBlacklistRepository_TimeScenarios/entry_with_future_expiration
=== RUN   TestBlacklistRepository_TimeScenarios/entry_with_past_expiration
--- PASS: TestBlacklistRepository_TimeScenarios (0.00s)
    --- PASS: TestBlacklistRepository_TimeScenarios/entry_without_expiration (0.00s)
    --- PASS: TestBlacklistRepository_TimeScenarios/entry_with_future_expiration (0.00s)
    --- PASS: TestBlacklistRepository_TimeScenarios/entry_with_past_expiration (0.00s)
=== RUN   TestBlacklistRepository_ErrorScenarios
--- PASS: TestBlacklistRepository_ErrorScenarios (0.00s)
=== RUN   TestBlacklistRepository_RepositoryMock
--- PASS: TestBlacklistRepository_RepositoryMock (0.00s)
=== RUN   TestBlacklistRepository_SQLInjection
=== RUN   TestBlacklistRepository_SQLInjection/malicious_input_test';_DRO
=== RUN   TestBlacklistRepository_SQLInjection/malicious_input_test';_INS
=== RUN   TestBlacklistRepository_SQLInjection/malicious_input_test'_OR_'
=== RUN   TestBlacklistRepository_SQLInjection/malicious_input_test';_SEL
=== RUN   TestBlacklistRepository_SQLInjection/malicious_input_admin');--
--- PASS: TestBlacklistRepository_SQLInjection (0.00s)
    --- PASS: TestBlacklistRepository_SQLInjection/malicious_input_test';_DRO (0.00s)
    --- PASS: TestBlacklistRepository_SQLInjection/malicious_input_test';_INS (0.00s)
    --- PASS: TestBlacklistRepository_SQLInjection/malicious_input_test'_OR_' (0.00s)
    --- PASS: TestBlacklistRepository_SQLInjection/malicious_input_test';_SEL (0.00s)
    --- PASS: TestBlacklistRepository_SQLInjection/malicious_input_admin');-- (0.00s)
=== RUN   TestBlacklistRepository_ConstraintValidation
=== RUN   TestBlacklistRepository_ConstraintValidation/valid_entry
=== RUN   TestBlacklistRepository_ConstraintValidation/very_long_exchange_name
=== RUN   TestBlacklistRepository_ConstraintValidation/very_long_reason
--- PASS: TestBlacklistRepository_ConstraintValidation (0.00s)
    --- PASS: TestBlacklistRepository_ConstraintValidation/valid_entry (0.00s)
    --- PASS: TestBlacklistRepository_ConstraintValidation/very_long_exchange_name (0.00s)
    --- PASS: TestBlacklistRepository_ConstraintValidation/very_long_reason (0.00s)
=== RUN   TestBlacklistRepository_BusinessLogic
--- PASS: TestBlacklistRepository_BusinessLogic (0.00s)
=== RUN   TestBlacklistRepository_NewBlacklistRepository
--- PASS: TestBlacklistRepository_NewBlacklistRepository (0.00s)
=== RUN   TestBlacklistRepository_AddExchange_Success
--- PASS: TestBlacklistRepository_AddExchange_Success (0.00s)
=== RUN   TestBlacklistRepository_RemoveExchange_Success
--- PASS: TestBlacklistRepository_RemoveExchange_Success (0.00s)
=== RUN   TestBlacklistRepository_RemoveExchange_NotFound
--- PASS: TestBlacklistRepository_RemoveExchange_NotFound (0.00s)
=== RUN   TestBlacklistRepository_IsBlacklisted_True
--- PASS: TestBlacklistRepository_IsBlacklisted_True (0.00s)
=== RUN   TestBlacklistRepository_IsBlacklisted_False
--- PASS: TestBlacklistRepository_IsBlacklisted_False (0.00s)
=== RUN   TestBlacklistRepository_GetAllBlacklisted_Success
--- PASS: TestBlacklistRepository_GetAllBlacklisted_Success (0.00s)
=== RUN   TestBlacklistRepository_CleanupExpired_Success
--- PASS: TestBlacklistRepository_CleanupExpired_Success (0.00s)
=== RUN   TestBlacklistRepository_ClearAll_Success
--- PASS: TestBlacklistRepository_ClearAll_Success (0.00s)
=== RUN   TestBlacklistRepository_GetBlacklistHistory_Success
--- PASS: TestBlacklistRepository_GetBlacklistHistory_Success (0.00s)
=== RUN   TestPostgresDB_Struct
--- PASS: TestPostgresDB_Struct (0.00s)
=== RUN   TestPostgresDB_Close_NilPool
--- PASS: TestPostgresDB_Close_NilPool (0.00s)
=== RUN   TestPostgresDB_Close_WithPool
--- PASS: TestPostgresDB_Close_WithPool (0.00s)
=== RUN   TestPostgresDB_HealthCheck_NilPool
--- PASS: TestPostgresDB_HealthCheck_NilPool (0.00s)
=== RUN   TestRedisClient_Struct
--- PASS: TestRedisClient_Struct (0.00s)
=== RUN   TestRedisClient_Close_NilClient
--- PASS: TestRedisClient_Close_NilClient (0.00s)
=== RUN   TestRedisClient_HealthCheck_NilClient
--- PASS: TestRedisClient_HealthCheck_NilClient (0.00s)
=== RUN   TestRedisClient_Set_NilClient
--- PASS: TestRedisClient_Set_NilClient (0.00s)
=== RUN   TestRedisClient_Get_NilClient
--- PASS: TestRedisClient_Get_NilClient (0.00s)
=== RUN   TestRedisClient_Delete_NilClient
--- PASS: TestRedisClient_Delete_NilClient (0.00s)
=== RUN   TestRedisClient_Exists_NilClient
--- PASS: TestRedisClient_Exists_NilClient (0.00s)
=== RUN   TestNewPostgresConnection_InvalidConfig
--- PASS: TestNewPostgresConnection_InvalidConfig (0.01s)
=== RUN   TestNewPostgresConnection_TestEnvironment
--- PASS: TestNewPostgresConnection_TestEnvironment (0.00s)
=== RUN   TestNewPostgresConnection_InvalidDurationConfig
--- PASS: TestNewPostgresConnection_InvalidDurationConfig (0.00s)
=== RUN   TestBuildPGXPoolConfig_BuildsFromComponents
--- PASS: TestBuildPGXPoolConfig_BuildsFromComponents (0.00s)
=== RUN   TestNewRedisConnection_InvalidConfig
--- PASS: TestNewRedisConnection_InvalidConfig (0.08s)
=== RUN   TestDatabaseConfig_Validation
--- PASS: TestDatabaseConfig_Validation (0.00s)
=== RUN   TestDurationParsing
--- PASS: TestDurationParsing (0.00s)
=== RUN   TestContextOperations
--- PASS: TestContextOperations (0.00s)
=== RUN   TestErrorHandling
--- PASS: TestErrorHandling (0.00s)
=== RUN   TestRedisClient_Close_WithLogger
--- PASS: TestRedisClient_Close_WithLogger (0.00s)
=== RUN   TestRedisClient_Close_Success
--- PASS: TestRedisClient_Close_Success (0.00s)
=== RUN   TestNewRedisConnectionWithRetry_WithErrorRecovery
--- PASS: TestNewRedisConnectionWithRetry_WithErrorRecovery (0.00s)
=== RUN   TestNewRedisConnectionWithRetry_NonExistentHost
--- PASS: TestNewRedisConnectionWithRetry_NonExistentHost (0.00s)
=== RUN   TestRedisClient_CacheOperations
--- PASS: TestRedisClient_CacheOperations (0.00s)
=== RUN   TestRedisClient_Close_Error
--- PASS: TestRedisClient_Close_Error (0.00s)
=== RUN   TestRedisClient_Close_LoggerOnly
--- PASS: TestRedisClient_Close_LoggerOnly (0.00s)
=== RUN   TestRedisClient_OperationScenarios
--- PASS: TestRedisClient_OperationScenarios (0.00s)
=== RUN   TestRedisClient_HealthCheck_Success
--- PASS: TestRedisClient_HealthCheck_Success (0.00s)
=== RUN   TestTracedDB_Struct
--- PASS: TestTracedDB_Struct (0.00s)
=== RUN   TestNewTracedDB_NilPool
--- PASS: TestNewTracedDB_NilPool (0.00s)
=== RUN   TestTracedDB_Query_NilPool
--- PASS: TestTracedDB_Query_NilPool (0.00s)
=== RUN   TestTracedDB_QueryRow_NilPool
--- PASS: TestTracedDB_QueryRow_NilPool (0.00s)
=== RUN   TestTracedDB_Exec_NilPool
--- PASS: TestTracedDB_Exec_NilPool (0.00s)
=== RUN   TestTracedDB_Begin_NilPool
--- PASS: TestTracedDB_Begin_NilPool (0.00s)
=== RUN   TestTracedDB_BeginTx_NilPool
--- PASS: TestTracedDB_BeginTx_NilPool (0.00s)
=== RUN   TestTracedDB_Ping_NilPool
--- PASS: TestTracedDB_Ping_NilPool (0.00s)
=== RUN   TestTracedDB_Close_NilPool
--- PASS: TestTracedDB_Close_NilPool (0.00s)
=== RUN   TestTracedTx_Struct
--- PASS: TestTracedTx_Struct (0.00s)
=== RUN   TestTracedTx_Query_NilTx
--- PASS: TestTracedTx_Query_NilTx (0.00s)
=== RUN   TestTracedTx_QueryRow_NilTx
--- PASS: TestTracedTx_QueryRow_NilTx (0.00s)
=== RUN   TestTracedTx_Exec_NilTx
--- PASS: TestTracedTx_Exec_NilTx (0.00s)
=== RUN   TestTracedTx_Commit_NilTx
--- PASS: TestTracedTx_Commit_NilTx (0.00s)
=== RUN   TestTracedTx_Rollback_NilTx
--- PASS: TestTracedTx_Rollback_NilTx (0.00s)
=== RUN   TestTracedTx_Begin_NilTx
--- PASS: TestTracedTx_Begin_NilTx (0.00s)
=== RUN   TestTracedTx_Conn_NilTx
--- PASS: TestTracedTx_Conn_NilTx (0.00s)
=== RUN   TestTracedTx_CopyFrom_NilTx
--- PASS: TestTracedTx_CopyFrom_NilTx (0.00s)
=== RUN   TestTracedTx_LargeObjects_NilTx
--- PASS: TestTracedTx_LargeObjects_NilTx (0.00s)
=== RUN   TestTracedTx_Prepare_NilTx
--- PASS: TestTracedTx_Prepare_NilTx (0.00s)
=== RUN   TestTracedTx_SendBatch_NilTx
--- PASS: TestTracedTx_SendBatch_NilTx (0.00s)
=== RUN   TestRecordDatabaseError
--- PASS: TestRecordDatabaseError (0.00s)
=== RUN   TestRecordDatabaseError_NilError
--- PASS: TestRecordDatabaseError_NilError (0.00s)
=== RUN   TestRecordDatabaseError_EmptyOperation
--- PASS: TestRecordDatabaseError_EmptyOperation (0.00s)
=== RUN   TestAddDatabaseSpanAttributes
--- PASS: TestAddDatabaseSpanAttributes (0.00s)
=== RUN   TestAddDatabaseSpanAttributes_EmptyTable
--- PASS: TestAddDatabaseSpanAttributes_EmptyTable (0.00s)
=== RUN   TestAddDatabaseSpanAttributes_ZeroRows
--- PASS: TestAddDatabaseSpanAttributes_ZeroRows (0.00s)
=== RUN   TestAddDatabaseSpanAttributes_NegativeRows
--- PASS: TestAddDatabaseSpanAttributes_NegativeRows (0.00s)
=== RUN   TestTracedDB_Operations_WithTimeout
--- PASS: TestTracedDB_Operations_WithTimeout (0.00s)
=== RUN   TestTracedTx_Operations_WithTimeout
--- PASS: TestTracedTx_Operations_WithTimeout (0.00s)
=== RUN   TestTracedDB_Close_MultipleTimes
--- PASS: TestTracedDB_Close_MultipleTimes (0.00s)
=== RUN   TestRecordDatabaseError_VariousErrorTypes
--- PASS: TestRecordDatabaseError_VariousErrorTypes (0.00s)
=== RUN   TestAddDatabaseSpanAttributes_VariousRowCounts
--- PASS: TestAddDatabaseSpanAttributes_VariousRowCounts (0.00s)
=== RUN   TestRedisClient_Close_WithError
--- PASS: TestRedisClient_Close_WithError (0.00s)
=== RUN   TestRedisClient_Close_LoggerScenarios
--- PASS: TestRedisClient_Close_LoggerScenarios (0.00s)
=== RUN   TestRedisClient_Operations_WithTimeout
--- PASS: TestRedisClient_Operations_WithTimeout (0.00s)
=== RUN   TestRedisClient_Operations_WithCancelledContext
--- PASS: TestRedisClient_Operations_WithCancelledContext (0.00s)
=== RUN   TestNewRedisConnection_UnreachableHost
--- PASS: TestNewRedisConnection_UnreachableHost (5.00s)
=== RUN   TestNewRedisConnectionWithRetry_NilErrorRecovery
--- PASS: TestNewRedisConnectionWithRetry_NilErrorRecovery (0.09s)
=== RUN   TestPostgresDB_Close_MultipleScenarios
--- PASS: TestPostgresDB_Close_MultipleScenarios (0.00s)
=== RUN   TestNewPostgresConnection_ValidDatabaseURL
--- PASS: TestNewPostgresConnection_ValidDatabaseURL (0.01s)
=== RUN   TestBuildPGXPoolConfig_ConnectionPoolConfig
time="2025-09-30T23:11:45+07:00" level=warning msg="Configured pool size 2147483647 exceeds safe limit 10000; clamping"
time="2025-09-30T23:11:45+07:00" level=warning msg="Configured pool size 2147483647 exceeds safe limit 10000; clamping"
--- PASS: TestBuildPGXPoolConfig_ConnectionPoolConfig (0.00s)
=== RUN   TestBuildPGXPoolConfig_EdgeCases
--- PASS: TestBuildPGXPoolConfig_EdgeCases (0.00s)
=== RUN   TestBuildPGXPoolConfig_ConnectionPoolBounds
=== PAUSE TestBuildPGXPoolConfig_ConnectionPoolBounds
=== RUN   TestBuildPGXPoolConfig_InvalidDurations
--- PASS: TestBuildPGXPoolConfig_InvalidDurations (0.00s)
=== RUN   TestBuildPGXPoolConfig_InvalidPoolSizing
--- PASS: TestBuildPGXPoolConfig_InvalidPoolSizing (0.00s)
=== RUN   TestRedisClient_Close_WithRealClient
--- PASS: TestRedisClient_Close_WithRealClient (0.00s)
=== RUN   TestRedisClient_Operations_ValueTypes
=== RUN   TestRedisClient_Operations_ValueTypes/string
=== RUN   TestRedisClient_Operations_ValueTypes/int
=== RUN   TestRedisClient_Operations_ValueTypes/float
=== RUN   TestRedisClient_Operations_ValueTypes/bool
=== RUN   TestRedisClient_Operations_ValueTypes/slice
--- PASS: TestRedisClient_Operations_ValueTypes (0.00s)
    --- PASS: TestRedisClient_Operations_ValueTypes/string (0.00s)
    --- PASS: TestRedisClient_Operations_ValueTypes/int (0.00s)
    --- PASS: TestRedisClient_Operations_ValueTypes/float (0.00s)
    --- PASS: TestRedisClient_Operations_ValueTypes/bool (0.00s)
    --- PASS: TestRedisClient_Operations_ValueTypes/slice (0.00s)
=== RUN   TestRedisClient_Delete_MultipleKeys
--- PASS: TestRedisClient_Delete_MultipleKeys (0.00s)
=== RUN   TestRedisClient_Exists_MultipleKeys
--- PASS: TestRedisClient_Exists_MultipleKeys (0.00s)
=== RUN   TestPostgresDB_Close_Success
--- PASS: TestPostgresDB_Close_Success (0.00s)
=== RUN   TestPostgresDB_Close_Logging
--- PASS: TestPostgresDB_Close_Logging (0.00s)
=== RUN   TestRedisClient_Close_ErrorScenarios
--- PASS: TestRedisClient_Close_ErrorScenarios (0.00s)
=== RUN   TestNewPostgresConnection_DatabaseURLDSN
--- PASS: TestNewPostgresConnection_DatabaseURLDSN (0.00s)
=== RUN   TestNewPostgresConnection_MinimalConfig
--- PASS: TestNewPostgresConnection_MinimalConfig (0.00s)
=== RUN   TestNewPostgresConnection_ConnectionPoolEdgeCases
--- PASS: TestNewPostgresConnection_ConnectionPoolEdgeCases (0.00s)
=== RUN   TestNewRedisConnection_AdditionalScenarios
--- PASS: TestNewRedisConnection_AdditionalScenarios (0.27s)
=== RUN   TestNewPostgresConnection_AdditionalConfigs
--- PASS: TestNewPostgresConnection_AdditionalConfigs (0.01s)
=== RUN   TestNewPostgresConnection_DurationEdgeCases
=== RUN   TestNewPostgresConnection_DurationEdgeCases/Empty_strings
=== RUN   TestNewPostgresConnection_DurationEdgeCases/Zero_durations
=== RUN   TestNewPostgresConnection_DurationEdgeCases/Very_short_durations
=== RUN   TestNewPostgresConnection_DurationEdgeCases/Very_long_durations
=== RUN   TestNewPostgresConnection_DurationEdgeCases/Negative_durations
=== RUN   TestNewPostgresConnection_DurationEdgeCases/Microsecond_precision
=== RUN   TestNewPostgresConnection_DurationEdgeCases/Nanosecond_precision
--- PASS: TestNewPostgresConnection_DurationEdgeCases (0.01s)
    --- PASS: TestNewPostgresConnection_DurationEdgeCases/Empty_strings (0.00s)
    --- PASS: TestNewPostgresConnection_DurationEdgeCases/Zero_durations (0.00s)
    --- PASS: TestNewPostgresConnection_DurationEdgeCases/Very_short_durations (0.00s)
    --- PASS: TestNewPostgresConnection_DurationEdgeCases/Very_long_durations (0.00s)
    --- PASS: TestNewPostgresConnection_DurationEdgeCases/Negative_durations (0.00s)
    --- PASS: TestNewPostgresConnection_DurationEdgeCases/Microsecond_precision (0.00s)
    --- PASS: TestNewPostgresConnection_DurationEdgeCases/Nanosecond_precision (0.00s)
=== RUN   TestNewTracedDB
--- PASS: TestNewTracedDB (0.00s)
=== RUN   TestNewPostgresConnection_ErrorScenarios
--- PASS: TestNewPostgresConnection_ErrorScenarios (0.00s)
=== RUN   TestNewRedisConnection_ErrorScenarios
--- PASS: TestNewRedisConnection_ErrorScenarios (0.20s)
=== RUN   TestNewRedisConnectionWithRetry_InvalidConfig
--- PASS: TestNewRedisConnectionWithRetry_InvalidConfig (0.31s)
=== RUN   TestNewPostgresConnection_ExcessivePoolValues
time="2025-09-30T23:11:46+07:00" level=warning msg="Configured pool size 2147483648 exceeds int32 limit; clamping to 10000"
time="2025-09-30T23:11:46+07:00" level=warning msg="Configured pool size 2147483648 exceeds int32 limit; clamping to 10000"
--- PASS: TestNewPostgresConnection_ExcessivePoolValues (0.00s)
=== RUN   TestNewPostgresConnection_InvalidDurations
--- PASS: TestNewPostgresConnection_InvalidDurations (0.00s)
=== RUN   TestSchemaValidation_TradingPairsTable
=== RUN   TestSchemaValidation_TradingPairsTable/missing_exchange_id_column
=== RUN   TestSchemaValidation_TradingPairsTable/complete_trading_pairs_table
=== RUN   TestSchemaValidation_TradingPairsTable/missing_trading_pairs_table
--- PASS: TestSchemaValidation_TradingPairsTable (0.00s)
    --- PASS: TestSchemaValidation_TradingPairsTable/missing_exchange_id_column (0.00s)
    --- PASS: TestSchemaValidation_TradingPairsTable/complete_trading_pairs_table (0.00s)
    --- PASS: TestSchemaValidation_TradingPairsTable/missing_trading_pairs_table (0.00s)
=== RUN   TestSchemaValidation_ExchangesTable
=== RUN   TestSchemaValidation_ExchangesTable/complete_exchanges_table
=== RUN   TestSchemaValidation_ExchangesTable/missing_exchanges_table
--- PASS: TestSchemaValidation_ExchangesTable (0.00s)
    --- PASS: TestSchemaValidation_ExchangesTable/complete_exchanges_table (0.00s)
    --- PASS: TestSchemaValidation_ExchangesTable/missing_exchanges_table (0.00s)
=== RUN   TestSchemaValidation_ExchangeTradingPairsTable
=== RUN   TestSchemaValidation_ExchangeTradingPairsTable/complete_exchange_trading_pairs_table
=== RUN   TestSchemaValidation_ExchangeTradingPairsTable/missing_exchange_trading_pairs_table
--- PASS: TestSchemaValidation_ExchangeTradingPairsTable (0.00s)
    --- PASS: TestSchemaValidation_ExchangeTradingPairsTable/complete_exchange_trading_pairs_table (0.00s)
    --- PASS: TestSchemaValidation_ExchangeTradingPairsTable/missing_exchange_trading_pairs_table (0.00s)
=== RUN   TestForeignKeyValidation
=== RUN   TestForeignKeyValidation/valid_foreign_key_relationships
=== RUN   TestForeignKeyValidation/missing_referenced_table
--- PASS: TestForeignKeyValidation (0.00s)
    --- PASS: TestForeignKeyValidation/valid_foreign_key_relationships (0.00s)
    --- PASS: TestForeignKeyValidation/missing_referenced_table (0.00s)
=== RUN   TestMigrationSQLGeneration
=== RUN   TestMigrationSQLGeneration/add_exchange_id_column_to_trading_pairs
=== RUN   TestMigrationSQLGeneration/create_exchange_trading_pairs_table
--- PASS: TestMigrationSQLGeneration (0.00s)
    --- PASS: TestMigrationSQLGeneration/add_exchange_id_column_to_trading_pairs (0.00s)
    --- PASS: TestMigrationSQLGeneration/create_exchange_trading_pairs_table (0.00s)
=== RUN   TestMarketDataValidation
=== RUN   TestMarketDataValidation/valid_market_data
=== RUN   TestMarketDataValidation/zero_price
=== RUN   TestMarketDataValidation/negative_price
=== RUN   TestMarketDataValidation/negative_volume
=== RUN   TestMarketDataValidation/future_timestamp
=== RUN   TestMarketDataValidation/old_timestamp
--- PASS: TestMarketDataValidation (0.00s)
    --- PASS: TestMarketDataValidation/valid_market_data (0.00s)
    --- PASS: TestMarketDataValidation/zero_price (0.00s)
    --- PASS: TestMarketDataValidation/negative_price (0.00s)
    --- PASS: TestMarketDataValidation/negative_volume (0.00s)
    --- PASS: TestMarketDataValidation/future_timestamp (0.00s)
    --- PASS: TestMarketDataValidation/old_timestamp (0.00s)
=== RUN   TestPostgreSQLQueryCorrections
=== RUN   TestPostgreSQLQueryCorrections/fix_referenced_table_name_to_referenced_table_schema
=== RUN   TestPostgreSQLQueryCorrections/fix_MySQL-style_query_for_PostgreSQL
--- PASS: TestPostgreSQLQueryCorrections (0.00s)
    --- PASS: TestPostgreSQLQueryCorrections/fix_referenced_table_name_to_referenced_table_schema (0.00s)
    --- PASS: TestPostgreSQLQueryCorrections/fix_MySQL-style_query_for_PostgreSQL (0.00s)
=== RUN   TestTelemetry_NewTracedDB
--- PASS: TestTelemetry_NewTracedDB (0.00s)
=== RUN   TestTelemetry_TracedDB_Query
=== RUN   TestTelemetry_TracedDB_Query/stub_implementation
--- PASS: TestTelemetry_TracedDB_Query (0.00s)
    --- PASS: TestTelemetry_TracedDB_Query/stub_implementation (0.00s)
=== RUN   TestTelemetry_TracedDB_QueryRow
=== RUN   TestTelemetry_TracedDB_QueryRow/stub_implementation
--- PASS: TestTelemetry_TracedDB_QueryRow (0.00s)
    --- PASS: TestTelemetry_TracedDB_QueryRow/stub_implementation (0.00s)
=== RUN   TestTelemetry_TracedDB_Exec
=== RUN   TestTelemetry_TracedDB_Exec/stub_implementation
--- PASS: TestTelemetry_TracedDB_Exec (0.00s)
    --- PASS: TestTelemetry_TracedDB_Exec/stub_implementation (0.00s)
=== RUN   TestTelemetry_TracedDB_Begin
=== RUN   TestTelemetry_TracedDB_Begin/stub_implementation
--- PASS: TestTelemetry_TracedDB_Begin (0.00s)
    --- PASS: TestTelemetry_TracedDB_Begin/stub_implementation (0.00s)
=== RUN   TestTelemetry_TracedDB_BeginTx
=== RUN   TestTelemetry_TracedDB_BeginTx/stub_implementation
--- PASS: TestTelemetry_TracedDB_BeginTx (0.00s)
    --- PASS: TestTelemetry_TracedDB_BeginTx/stub_implementation (0.00s)
=== RUN   TestTelemetry_TracedDB_Ping
=== RUN   TestTelemetry_TracedDB_Ping/stub_implementation
--- PASS: TestTelemetry_TracedDB_Ping (0.00s)
    --- PASS: TestTelemetry_TracedDB_Ping/stub_implementation (0.00s)
=== RUN   TestTelemetry_TracedDB_Close
=== RUN   TestTelemetry_TracedDB_Close/stub_implementation
--- PASS: TestTelemetry_TracedDB_Close (0.00s)
    --- PASS: TestTelemetry_TracedDB_Close/stub_implementation (0.00s)
=== RUN   TestTelemetry_TracedTx_Query
--- PASS: TestTelemetry_TracedTx_Query (0.00s)
=== RUN   TestTelemetry_TracedTx_QueryRow
--- PASS: TestTelemetry_TracedTx_QueryRow (0.00s)
=== RUN   TestTelemetry_TracedTx_Exec
--- PASS: TestTelemetry_TracedTx_Exec (0.00s)
=== RUN   TestTelemetry_TracedTx_Commit
--- PASS: TestTelemetry_TracedTx_Commit (0.00s)
=== RUN   TestTelemetry_TracedTx_Rollback
--- PASS: TestTelemetry_TracedTx_Rollback (0.00s)
=== RUN   TestTelemetry_TracedTx_Begin
--- PASS: TestTelemetry_TracedTx_Begin (0.00s)
=== RUN   TestTelemetry_TracedTx_Conn
--- PASS: TestTelemetry_TracedTx_Conn (0.00s)
=== RUN   TestTelemetry_TracedTx_CopyFrom
--- PASS: TestTelemetry_TracedTx_CopyFrom (0.00s)
=== RUN   TestTelemetry_TracedTx_LargeObjects
--- PASS: TestTelemetry_TracedTx_LargeObjects (0.00s)
=== RUN   TestTelemetry_TracedTx_Prepare
--- PASS: TestTelemetry_TracedTx_Prepare (0.00s)
=== RUN   TestTelemetry_TracedTx_SendBatch
--- PASS: TestTelemetry_TracedTx_SendBatch (0.00s)
=== RUN   TestTelemetry_RecordDatabaseError
--- PASS: TestTelemetry_RecordDatabaseError (0.00s)
=== RUN   TestTelemetry_AddDatabaseSpanAttributes
--- PASS: TestTelemetry_AddDatabaseSpanAttributes (0.00s)
=== CONT  TestBuildPGXPoolConfig_ConnectionPoolBounds
time="2025-09-30T23:11:46+07:00" level=warning msg="Configured pool size 2147483648 exceeds int32 limit; clamping to 10000"
time="2025-09-30T23:11:46+07:00" level=warning msg="Configured pool size 2147483648 exceeds int32 limit; clamping to 10000"
--- PASS: TestBuildPGXPoolConfig_ConnectionPoolBounds (0.00s)
PASS
coverage: 58.7% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/database	(cached)	coverage: 58.7% of statements
=== RUN   TestCalculateFuturesArbitrage
=== RUN   TestCalculateFuturesArbitrage/successful_calculation
=== RUN   TestCalculateFuturesArbitrage/invalid_request_body
--- PASS: TestCalculateFuturesArbitrage (0.00s)
    --- PASS: TestCalculateFuturesArbitrage/successful_calculation (0.00s)
    --- PASS: TestCalculateFuturesArbitrage/invalid_request_body (0.00s)
=== RUN   TestGetFuturesArbitrageOpportunities
=== RUN   TestGetFuturesArbitrageOpportunities/successful_retrieval
=== RUN   TestGetFuturesArbitrageOpportunities/with_symbol_filter
=== RUN   TestGetFuturesArbitrageOpportunities/database_error_handling
=== RUN   TestGetFuturesArbitrageOpportunities/with_strategies_inclusion
--- PASS: TestGetFuturesArbitrageOpportunities (0.01s)
    --- PASS: TestGetFuturesArbitrageOpportunities/successful_retrieval (0.00s)
    --- PASS: TestGetFuturesArbitrageOpportunities/with_symbol_filter (0.00s)
    --- PASS: TestGetFuturesArbitrageOpportunities/database_error_handling (0.00s)
    --- PASS: TestGetFuturesArbitrageOpportunities/with_strategies_inclusion (0.00s)
=== RUN   TestNewFuturesArbitrageHandler
    futures_arbitrage_test.go:556: NewFuturesArbitrageHandler requires real pgxpool.Pool, test in integration suite
--- SKIP: TestNewFuturesArbitrageHandler (0.00s)
=== RUN   TestNewFuturesArbitrageHandlerWithQuerier
--- PASS: TestNewFuturesArbitrageHandlerWithQuerier (0.00s)
=== RUN   TestGetFuturesArbitrageStrategy
=== RUN   TestGetFuturesArbitrageStrategy/strategy_found
=== RUN   TestGetFuturesArbitrageStrategy/strategy_not_found
=== RUN   TestGetFuturesArbitrageStrategy/database_error
--- PASS: TestGetFuturesArbitrageStrategy (0.00s)
    --- PASS: TestGetFuturesArbitrageStrategy/strategy_found (0.00s)
    --- PASS: TestGetFuturesArbitrageStrategy/strategy_not_found (0.00s)
    --- PASS: TestGetFuturesArbitrageStrategy/database_error (0.00s)
=== RUN   TestGetPositionSizingRecommendation
=== RUN   TestGetPositionSizingRecommendation/successful_position_sizing_calculation
=== RUN   TestGetPositionSizingRecommendation/invalid_request_body
--- PASS: TestGetPositionSizingRecommendation (0.00s)
    --- PASS: TestGetPositionSizingRecommendation/successful_position_sizing_calculation (0.00s)
    --- PASS: TestGetPositionSizingRecommendation/invalid_request_body (0.00s)
=== RUN   TestParseArbitrageRequest
=== RUN   TestParseArbitrageRequest/default_values
=== RUN   TestParseArbitrageRequest/with_symbol_filter
=== RUN   TestParseArbitrageRequest/with_exchange_filter
=== RUN   TestParseArbitrageRequest/with_min_APY
=== RUN   TestParseArbitrageRequest/with_risk_tolerance
=== RUN   TestParseArbitrageRequest/with_pagination
=== RUN   TestParseArbitrageRequest/with_risk_metrics
--- PASS: TestParseArbitrageRequest (0.00s)
    --- PASS: TestParseArbitrageRequest/default_values (0.00s)
    --- PASS: TestParseArbitrageRequest/with_symbol_filter (0.00s)
    --- PASS: TestParseArbitrageRequest/with_exchange_filter (0.00s)
    --- PASS: TestParseArbitrageRequest/with_min_APY (0.00s)
    --- PASS: TestParseArbitrageRequest/with_risk_tolerance (0.00s)
    --- PASS: TestParseArbitrageRequest/with_pagination (0.00s)
    --- PASS: TestParseArbitrageRequest/with_risk_metrics (0.00s)
=== RUN   TestValidateCalculationInput
=== RUN   TestValidateCalculationInput/valid_input
=== RUN   TestValidateCalculationInput/missing_symbol
=== RUN   TestValidateCalculationInput/missing_long_exchange
=== RUN   TestValidateCalculationInput/missing_short_exchange
=== RUN   TestValidateCalculationInput/zero_mark_prices
=== RUN   TestValidateCalculationInput/zero_base_amount
=== RUN   TestValidateCalculationInput/invalid_funding_interval_-_should_be_defaulted
--- PASS: TestValidateCalculationInput (0.00s)
    --- PASS: TestValidateCalculationInput/valid_input (0.00s)
    --- PASS: TestValidateCalculationInput/missing_symbol (0.00s)
    --- PASS: TestValidateCalculationInput/missing_long_exchange (0.00s)
    --- PASS: TestValidateCalculationInput/missing_short_exchange (0.00s)
    --- PASS: TestValidateCalculationInput/zero_mark_prices (0.00s)
    --- PASS: TestValidateCalculationInput/zero_base_amount (0.00s)
    --- PASS: TestValidateCalculationInput/invalid_funding_interval_-_should_be_defaulted (0.00s)
=== RUN   TestCalculateMarketSummary
=== RUN   TestCalculateMarketSummary/no_opportunities
=== RUN   TestCalculateMarketSummary/favorable_market_conditions
=== RUN   TestCalculateMarketSummary/unfavorable_market_conditions
=== RUN   TestCalculateMarketSummary/neutral_market_conditions_-_moderate_strategy
--- PASS: TestCalculateMarketSummary (0.00s)
    --- PASS: TestCalculateMarketSummary/no_opportunities (0.00s)
    --- PASS: TestCalculateMarketSummary/favorable_market_conditions (0.00s)
    --- PASS: TestCalculateMarketSummary/unfavorable_market_conditions (0.00s)
    --- PASS: TestCalculateMarketSummary/neutral_market_conditions_-_moderate_strategy (0.00s)
=== RUN   TestGenerateStrategies
--- PASS: TestGenerateStrategies (0.00s)
=== RUN   TestGetFuturesMarketSummary
=== RUN   TestGetFuturesMarketSummary/successful_market_summary
--- PASS: TestGetFuturesMarketSummary (0.00s)
    --- PASS: TestGetFuturesMarketSummary/successful_market_summary (0.00s)
=== RUN   TestStoreFuturesOpportunity
=== RUN   TestStoreFuturesOpportunity/successful_storage
=== RUN   TestStoreFuturesOpportunity/database_insertion_failure
--- PASS: TestStoreFuturesOpportunity (0.00s)
    --- PASS: TestStoreFuturesOpportunity/successful_storage (0.00s)
    --- PASS: TestStoreFuturesOpportunity/database_insertion_failure (0.00s)
PASS
coverage: 86.1% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/handlers	(cached)	coverage: 86.1% of statements
=== RUN   TestNewStandardLogger_Basic
--- PASS: TestNewStandardLogger_Basic (0.00s)
=== RUN   TestNewStandardLogger_LogLevels
=== RUN   TestNewStandardLogger_LogLevels/debug
=== RUN   TestNewStandardLogger_LogLevels/info
=== RUN   TestNewStandardLogger_LogLevels/warn
=== RUN   TestNewStandardLogger_LogLevels/error
=== RUN   TestNewStandardLogger_LogLevels/invalid
--- PASS: TestNewStandardLogger_LogLevels (0.00s)
    --- PASS: TestNewStandardLogger_LogLevels/debug (0.00s)
    --- PASS: TestNewStandardLogger_LogLevels/info (0.00s)
    --- PASS: TestNewStandardLogger_LogLevels/warn (0.00s)
    --- PASS: TestNewStandardLogger_LogLevels/error (0.00s)
    --- PASS: TestNewStandardLogger_LogLevels/invalid (0.00s)
=== RUN   TestStandardLogger_WithService
--- PASS: TestStandardLogger_WithService (0.00s)
=== RUN   TestStandardLogger_WithComponent
--- PASS: TestStandardLogger_WithComponent (0.00s)
=== RUN   TestStandardLogger_WithOperation
--- PASS: TestStandardLogger_WithOperation (0.00s)
=== RUN   TestStandardLogger_WithRequestID
--- PASS: TestStandardLogger_WithRequestID (0.00s)
=== RUN   TestStandardLogger_WithUserID
--- PASS: TestStandardLogger_WithUserID (0.00s)
=== RUN   TestStandardLogger_WithExchange
--- PASS: TestStandardLogger_WithExchange (0.00s)
=== RUN   TestStandardLogger_WithSymbol
--- PASS: TestStandardLogger_WithSymbol (0.00s)
=== RUN   TestStandardLogger_WithError
--- PASS: TestStandardLogger_WithError (0.00s)
=== RUN   TestStandardLogger_WithMetrics
--- PASS: TestStandardLogger_WithMetrics (0.00s)
=== RUN   TestStandardLogger_LogStartup
--- PASS: TestStandardLogger_LogStartup (0.00s)
=== RUN   TestStandardLogger_LogShutdown
--- PASS: TestStandardLogger_LogShutdown (0.00s)
=== RUN   TestStandardLogger_LogPerformanceMetrics
--- PASS: TestStandardLogger_LogPerformanceMetrics (0.00s)
=== RUN   TestStandardLogger_LogResourceStats
--- PASS: TestStandardLogger_LogResourceStats (0.00s)
=== RUN   TestStandardLogger_LogCacheOperation
--- PASS: TestStandardLogger_LogCacheOperation (0.00s)
=== RUN   TestStandardLogger_LogDatabaseOperation
--- PASS: TestStandardLogger_LogDatabaseOperation (0.00s)
=== RUN   TestStandardLogger_LogAPIRequest
--- PASS: TestStandardLogger_LogAPIRequest (0.00s)
=== RUN   TestStandardLogger_LogBusinessEvent
--- PASS: TestStandardLogger_LogBusinessEvent (0.00s)
=== RUN   TestNewOTLPLogger_Disabled
--- PASS: TestNewOTLPLogger_Disabled (0.00s)
=== RUN   TestNewOTLPLogger_Enabled
--- PASS: TestNewOTLPLogger_Enabled (0.00s)
=== RUN   TestOTLPLogger_Shutdown
--- PASS: TestOTLPLogger_Shutdown (0.00s)
=== RUN   TestOTLPHandler_Simple
--- PASS: TestOTLPHandler_Simple (0.00s)
=== RUN   TestNewStandardOTLPLogger
--- PASS: TestNewStandardOTLPLogger (0.00s)
=== RUN   TestStandardOTLPLogger_InterfaceImplementation
{"time":"2025-09-30T23:11:42.862482+07:00","level":"INFO","msg":"Application startup","service":"test-service","version":"1.0.0","port":8080,"event":"startup"}
{"time":"2025-09-30T23:11:42.862506+07:00","level":"INFO","msg":"Application shutdown","service":"test-service","reason":"test","event":"shutdown"}
{"time":"2025-09-30T23:11:42.862525+07:00","level":"INFO","msg":"Performance metrics","service":"test-service","metrics":{"test":"value"},"event":"performance"}
{"time":"2025-09-30T23:11:42.862625+07:00","level":"INFO","msg":"Resource statistics","service":"test-service","stats":{"test":"value"},"event":"resource"}
{"time":"2025-09-30T23:11:42.862647+07:00","level":"INFO","msg":"Cache operation","operation":"get","key":"test-key","hit":true,"duration_ms":100,"event":"cache"}
{"time":"2025-09-30T23:11:42.862667+07:00","level":"INFO","msg":"Database operation","operation":"select","table":"test-table","duration_ms":100,"rows_affected":1,"event":"database"}
{"time":"2025-09-30T23:11:42.862686+07:00","level":"INFO","msg":"API request","method":"GET","path":"/test","status":200,"duration_ms":100,"user_id":"test-user","event":"api"}
{"time":"2025-09-30T23:11:42.862706+07:00","level":"INFO","msg":"Business event","event_type":"test-event","details":{"test":"value"},"event":"business"}
--- PASS: TestStandardOTLPLogger_InterfaceImplementation (0.00s)
=== RUN   TestStandardLogger_SetLogger
--- PASS: TestStandardLogger_SetLogger (0.00s)
=== RUN   TestParseLogrusLevel
=== RUN   TestParseLogrusLevel/debug
=== RUN   TestParseLogrusLevel/warn
=== RUN   TestParseLogrusLevel/warning
=== RUN   TestParseLogrusLevel/error
=== RUN   TestParseLogrusLevel/info
=== RUN   TestParseLogrusLevel/INFO
=== RUN   TestParseLogrusLevel/DEBUG
=== RUN   TestParseLogrusLevel/invalid
=== RUN   TestParseLogrusLevel/#00
--- PASS: TestParseLogrusLevel (0.00s)
    --- PASS: TestParseLogrusLevel/debug (0.00s)
    --- PASS: TestParseLogrusLevel/warn (0.00s)
    --- PASS: TestParseLogrusLevel/warning (0.00s)
    --- PASS: TestParseLogrusLevel/error (0.00s)
    --- PASS: TestParseLogrusLevel/info (0.00s)
    --- PASS: TestParseLogrusLevel/INFO (0.00s)
    --- PASS: TestParseLogrusLevel/DEBUG (0.00s)
    --- PASS: TestParseLogrusLevel/invalid (0.00s)
    --- PASS: TestParseLogrusLevel/#00 (0.00s)
=== RUN   TestFallbackLogger_WithService
--- PASS: TestFallbackLogger_WithService (0.00s)
=== RUN   TestFallbackLogger_WithComponent
--- PASS: TestFallbackLogger_WithComponent (0.00s)
=== RUN   TestFallbackLogger_WithOperation
--- PASS: TestFallbackLogger_WithOperation (0.00s)
=== RUN   TestFallbackLogger_WithRequestID
--- PASS: TestFallbackLogger_WithRequestID (0.00s)
=== RUN   TestFallbackLogger_WithUserID
--- PASS: TestFallbackLogger_WithUserID (0.00s)
=== RUN   TestFallbackLogger_WithExchange
--- PASS: TestFallbackLogger_WithExchange (0.00s)
=== RUN   TestFallbackLogger_WithSymbol
--- PASS: TestFallbackLogger_WithSymbol (0.00s)
=== RUN   TestFallbackLogger_WithError
--- PASS: TestFallbackLogger_WithError (0.00s)
=== RUN   TestFallbackLogger_WithMetrics
--- PASS: TestFallbackLogger_WithMetrics (0.00s)
=== RUN   TestFallbackLogger_LogStartup
--- PASS: TestFallbackLogger_LogStartup (0.00s)
=== RUN   TestFallbackLogger_LogShutdown
--- PASS: TestFallbackLogger_LogShutdown (0.00s)
=== RUN   TestFallbackLogger_LogPerformanceMetrics
--- PASS: TestFallbackLogger_LogPerformanceMetrics (0.00s)
=== RUN   TestFallbackLogger_LogResourceStats
--- PASS: TestFallbackLogger_LogResourceStats (0.00s)
=== RUN   TestFallbackLogger_LogCacheOperation
--- PASS: TestFallbackLogger_LogCacheOperation (0.00s)
=== RUN   TestFallbackLogger_LogDatabaseOperation
--- PASS: TestFallbackLogger_LogDatabaseOperation (0.00s)
=== RUN   TestFallbackLogger_LogAPIRequest
--- PASS: TestFallbackLogger_LogAPIRequest (0.00s)
=== RUN   TestFallbackLogger_LogBusinessEvent
--- PASS: TestFallbackLogger_LogBusinessEvent (0.00s)
=== RUN   TestFallbackLogger_Logger
--- PASS: TestFallbackLogger_Logger (0.00s)
=== RUN   TestNewOTLPHandler
--- PASS: TestNewOTLPHandler (0.00s)
=== RUN   TestOTLPHandler_Enabled
--- PASS: TestOTLPHandler_Enabled (0.00s)
=== RUN   TestOTLPHandler_Handle
--- PASS: TestOTLPHandler_Handle (0.00s)
=== RUN   TestOTLPHandler_WithAttrs
--- PASS: TestOTLPHandler_WithAttrs (0.00s)
=== RUN   TestOTLPHandler_WithGroup
--- PASS: TestOTLPHandler_WithGroup (0.00s)
PASS
coverage: 80.3% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/logging	(cached)	coverage: 80.3% of statements
=== RUN   TestNewMetricsCollector
--- PASS: TestNewMetricsCollector (0.00s)
=== RUN   TestMetricsCollector_RecordCounter
{"time":"2025-09-30T23:11:43.714182+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"test_counter","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.714085+07:00","tags":{"key":"value","service":"test-service"}}}
{"time":"2025-09-30T23:11:43.714663+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"test_counter_nil","type":"counter","value":2,"unit":"count","timestamp":"2025-09-30T23:11:43.71466+07:00","tags":{"service":"test-service"}}}
--- PASS: TestMetricsCollector_RecordCounter (0.00s)
=== RUN   TestMetricsCollector_RecordGauge
{"time":"2025-09-30T23:11:43.714779+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"test_gauge","type":"gauge","value":10.5,"unit":"units","timestamp":"2025-09-30T23:11:43.714773+07:00","tags":{"key":"value","service":"test-service"}}}
{"time":"2025-09-30T23:11:43.714852+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"test_gauge_zero","type":"gauge","value":0,"unit":"units","timestamp":"2025-09-30T23:11:43.71485+07:00","tags":{"service":"test-service"}}}
--- PASS: TestMetricsCollector_RecordGauge (0.00s)
=== RUN   TestMetricsCollector_RecordTiming
{"time":"2025-09-30T23:11:43.714947+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"test_timing","type":"timing","value":100,"unit":"ms","timestamp":"2025-09-30T23:11:43.714942+07:00","tags":{"operation":"test","service":"test-service"}}}
{"time":"2025-09-30T23:11:43.714994+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"test_timing_zero","type":"timing","value":0,"unit":"ms","timestamp":"2025-09-30T23:11:43.71499+07:00","tags":{"service":"test-service"}}}
--- PASS: TestMetricsCollector_RecordTiming (0.00s)
=== RUN   TestMetricsCollector_RecordHistogram
{"time":"2025-09-30T23:11:43.715074+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"request_size","type":"histogram","value":1024,"unit":"bytes","timestamp":"2025-09-30T23:11:43.715069+07:00","tags":{"bucket":"test","service":"test-service"}}}
{"time":"2025-09-30T23:11:43.715118+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"response_time","type":"histogram","value":0,"unit":"ms","timestamp":"2025-09-30T23:11:43.715116+07:00","tags":{"service":"test-service"}}}
--- PASS: TestMetricsCollector_RecordHistogram (0.00s)
=== RUN   TestMetricsCollector_RecordBusinessMetric
{"time":"2025-09-30T23:11:43.715204+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"arbitrage_opportunity","type":"gauge","value":0.5,"unit":"percent","timestamp":"2025-09-30T23:11:43.715199+07:00","tags":{"exchange":"binance","service":"test-service"},"fields":{"buy_price":100.5,"sell_price":101,"volume":1000}}}
{"time":"2025-09-30T23:11:43.715263+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"simple_metric","type":"gauge","value":42,"unit":"units","timestamp":"2025-09-30T23:11:43.715261+07:00","tags":{"service":"test-service"}}}
--- PASS: TestMetricsCollector_RecordBusinessMetric (0.00s)
=== RUN   TestMetricsCollector_RecordAPIRequestMetrics
{"time":"2025-09-30T23:11:43.715351+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"api_requests_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.715345+07:00","tags":{"endpoint":"/api/symbols","method":"GET","service":"test-service","status_code":"200","user_id":"user123"}}}
{"time":"2025-09-30T23:11:43.715403+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"api_request_duration","type":"timing","value":150,"unit":"ms","timestamp":"2025-09-30T23:11:43.7154+07:00","tags":{"endpoint":"/api/symbols","method":"GET","service":"test-service","status_code":"200","user_id":"user123"}}}
{"time":"2025-09-30T23:11:43.715448+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"api_requests_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.715446+07:00","tags":{"endpoint":"/api/orders","method":"POST","service":"test-service","status_code":"201"}}}
{"time":"2025-09-30T23:11:43.715492+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"api_request_duration","type":"timing","value":150,"unit":"ms","timestamp":"2025-09-30T23:11:43.715489+07:00","tags":{"endpoint":"/api/orders","method":"POST","service":"test-service","status_code":"201"}}}
--- PASS: TestMetricsCollector_RecordAPIRequestMetrics (0.00s)
=== RUN   TestMetricsCollector_RecordDatabaseMetrics
{"time":"2025-09-30T23:11:43.715576+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"database_operations_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.715568+07:00","tags":{"operation":"SELECT","service":"test-service","success":"true","table":"symbols"}}}
{"time":"2025-09-30T23:11:43.71564+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"database_operation_duration","type":"timing","value":50,"unit":"ms","timestamp":"2025-09-30T23:11:43.715638+07:00","tags":{"operation":"SELECT","service":"test-service","success":"true","table":"symbols"}}}
{"time":"2025-09-30T23:11:43.715681+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"database_rows_affected","type":"gauge","value":10,"unit":"rows","timestamp":"2025-09-30T23:11:43.715678+07:00","tags":{"operation":"SELECT","service":"test-service","success":"true","table":"symbols"}}}
{"time":"2025-09-30T23:11:43.715721+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"database_operations_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.715719+07:00","tags":{"operation":"INSERT","service":"test-service","success":"false","table":"orders"}}}
{"time":"2025-09-30T23:11:43.715761+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"database_operation_duration","type":"timing","value":50,"unit":"ms","timestamp":"2025-09-30T23:11:43.715758+07:00","tags":{"operation":"INSERT","service":"test-service","success":"false","table":"orders"}}}
--- PASS: TestMetricsCollector_RecordDatabaseMetrics (0.00s)
=== RUN   TestMetricsCollector_RecordCacheMetrics
{"time":"2025-09-30T23:11:43.715845+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"cache_operations_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.715841+07:00","tags":{"hit":"true","operation":"GET","service":"test-service"}}}
{"time":"2025-09-30T23:11:43.715894+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"cache_operation_duration","type":"timing","value":5,"unit":"ms","timestamp":"2025-09-30T23:11:43.715892+07:00","tags":{"hit":"true","operation":"GET","service":"test-service"}}}
{"time":"2025-09-30T23:11:43.715932+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"cache_operations_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.71593+07:00","tags":{"hit":"false","operation":"GET","service":"test-service"}}}
{"time":"2025-09-30T23:11:43.715968+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"cache_operation_duration","type":"timing","value":5,"unit":"ms","timestamp":"2025-09-30T23:11:43.715965+07:00","tags":{"hit":"false","operation":"GET","service":"test-service"}}}
--- PASS: TestMetricsCollector_RecordCacheMetrics (0.00s)
=== RUN   TestMetricsCollector_RecordExchangeMetrics
{"time":"2025-09-30T23:11:43.716052+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"exchange_operations_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.716047+07:00","tags":{"exchange":"binance","operation":"fetch_symbols","service":"test-service","success":"true","symbol":"BTCUSDT"}}}
{"time":"2025-09-30T23:11:43.716104+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"exchange_operation_duration","type":"timing","value":200,"unit":"ms","timestamp":"2025-09-30T23:11:43.716101+07:00","tags":{"exchange":"binance","operation":"fetch_symbols","service":"test-service","success":"true","symbol":"BTCUSDT"}}}
{"time":"2025-09-30T23:11:43.716147+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"exchange_operations_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.716144+07:00","tags":{"exchange":"coinbase","operation":"fetch_orderbook","service":"test-service","success":"false"}}}
{"time":"2025-09-30T23:11:43.716211+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"exchange_operation_duration","type":"timing","value":200,"unit":"ms","timestamp":"2025-09-30T23:11:43.716207+07:00","tags":{"exchange":"coinbase","operation":"fetch_orderbook","service":"test-service","success":"false"}}}
--- PASS: TestMetricsCollector_RecordExchangeMetrics (0.00s)
=== RUN   TestMetricsCollector_RecordArbitrageMetrics
{"time":"2025-09-30T23:11:43.716339+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"arbitrage_opportunities_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.716332+07:00","tags":{"buy_exchange":"binance","sell_exchange":"coinbase","service":"test-service","symbol":"BTCUSDT"}}}
{"time":"2025-09-30T23:11:43.716401+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"arbitrage_profit_percent","type":"gauge","value":1.5,"unit":"percent","timestamp":"2025-09-30T23:11:43.716398+07:00","tags":{"buy_exchange":"binance","sell_exchange":"coinbase","service":"test-service","symbol":"BTCUSDT"}}}
--- PASS: TestMetricsCollector_RecordArbitrageMetrics (0.00s)
=== RUN   TestMetricsCollector_EmptyTags
{"time":"2025-09-30T23:11:43.716509+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"test_counter","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.716507+07:00","tags":{"service":"test-service"}}}
{"time":"2025-09-30T23:11:43.716579+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"test_gauge","type":"gauge","value":50,"unit":"units","timestamp":"2025-09-30T23:11:43.716577+07:00","tags":{"service":"test-service"}}}
--- PASS: TestMetricsCollector_EmptyTags (0.00s)
=== RUN   TestMetricsCollector_ZeroValues
{"time":"2025-09-30T23:11:43.716701+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"zero_timing","type":"timing","value":0,"unit":"ms","timestamp":"2025-09-30T23:11:43.716685+07:00","tags":{"service":"test-service","test":"zero"}}}
{"time":"2025-09-30T23:11:43.716766+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"negative_gauge","type":"gauge","value":-25.5,"unit":"units","timestamp":"2025-09-30T23:11:43.716763+07:00","tags":{"service":"test-service","type":"delta"}}}
--- PASS: TestMetricsCollector_ZeroValues (0.00s)
=== RUN   TestMetricsCollector_LargeValues
{"time":"2025-09-30T23:11:43.71685+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"large_counter","type":"counter","value":1000000,"unit":"count","timestamp":"2025-09-30T23:11:43.716846+07:00","tags":{"scale":"large","service":"test-service"}}}
{"time":"2025-09-30T23:11:43.717002+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"large_gauge","type":"gauge","value":999999.99,"unit":"bytes","timestamp":"2025-09-30T23:11:43.717+07:00","tags":{"service":"test-service","size":"huge"}}}
--- PASS: TestMetricsCollector_LargeValues (0.00s)
=== RUN   TestMetricsCollector_SpecialCharacters
{"time":"2025-09-30T23:11:43.71716+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"special_chars","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.717129+07:00","tags":{"exchange":"binance-us","service":"test-service","symbol":"BTC/USDT","type":"spot_trading"}}}
--- PASS: TestMetricsCollector_SpecialCharacters (0.00s)
=== RUN   TestMetricsCollector_RecordSystemMetrics
{"time":"2025-09-30T23:11:43.717301+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"system_memory_usage","type":"gauge","value":1024,"unit":"MB","timestamp":"2025-09-30T23:11:43.717284+07:00","tags":{"service":"test-service"}}}
{"time":"2025-09-30T23:11:43.717356+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"system_goroutines","type":"gauge","value":100,"unit":"count","timestamp":"2025-09-30T23:11:43.717354+07:00","tags":{"service":"test-service"}}}
{"time":"2025-09-30T23:11:43.717398+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"system_cpu_usage","type":"gauge","value":75.5,"unit":"percent","timestamp":"2025-09-30T23:11:43.717396+07:00","tags":{"service":"test-service"}}}
{"time":"2025-09-30T23:11:43.717443+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"system_memory_usage","type":"gauge","value":0,"unit":"MB","timestamp":"2025-09-30T23:11:43.717441+07:00","tags":{"service":"test-service"}}}
{"time":"2025-09-30T23:11:43.717479+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"system_goroutines","type":"gauge","value":0,"unit":"count","timestamp":"2025-09-30T23:11:43.717477+07:00","tags":{"service":"test-service"}}}
{"time":"2025-09-30T23:11:43.717519+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"system_cpu_usage","type":"gauge","value":0,"unit":"percent","timestamp":"2025-09-30T23:11:43.717518+07:00","tags":{"service":"test-service"}}}
{"time":"2025-09-30T23:11:43.717553+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"system_memory_usage","type":"gauge","value":8192,"unit":"MB","timestamp":"2025-09-30T23:11:43.717548+07:00","tags":{"service":"test-service"}}}
{"time":"2025-09-30T23:11:43.717658+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"system_goroutines","type":"gauge","value":1000,"unit":"count","timestamp":"2025-09-30T23:11:43.717655+07:00","tags":{"service":"test-service"}}}
{"time":"2025-09-30T23:11:43.717695+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"system_cpu_usage","type":"gauge","value":99.9,"unit":"percent","timestamp":"2025-09-30T23:11:43.717693+07:00","tags":{"service":"test-service"}}}
--- PASS: TestMetricsCollector_RecordSystemMetrics (0.00s)
=== RUN   TestMetricsCollector_RecordNotificationMetrics
{"time":"2025-09-30T23:11:43.717798+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"notifications_sent_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.717784+07:00","tags":{"service":"test-service","success":"true","type":"telegram","user_id":"user123"}}}
{"time":"2025-09-30T23:11:43.717858+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"notifications_sent_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.717855+07:00","tags":{"service":"test-service","success":"false","type":"email","user_id":"user456"}}}
{"time":"2025-09-30T23:11:43.717907+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"notifications_sent_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.717904+07:00","tags":{"service":"test-service","success":"true","type":"webhook","user_id":""}}}
{"time":"2025-09-30T23:11:43.717955+07:00","level":"DEBUG","msg":"Metric recorded","event":"metric","metric":{"name":"notifications_sent_total","type":"counter","value":1,"unit":"count","timestamp":"2025-09-30T23:11:43.717953+07:00","tags":{"service":"test-service","success":"false","type":"sms","user_id":"user789"}}}
--- PASS: TestMetricsCollector_RecordNotificationMetrics (0.00s)
PASS
coverage: 100.0% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/metrics	(cached)	coverage: 100.0% of statements
=== RUN   TestNewAdminMiddleware
=== RUN   TestNewAdminMiddleware/with_environment_variable
=== RUN   TestNewAdminMiddleware/with_default_key_validation
    admin_test.go:33: Refactor NewAdminMiddleware to return an error from a validate() helper so we can assert failure without log.Fatal
=== RUN   TestNewAdminMiddleware/with_short_key_validation
    admin_test.go:43: Refactor NewAdminMiddleware to return an error from a validate() helper so we can assert failure without log.Fatal
=== RUN   TestNewAdminMiddleware/with_exactly_32_character_key
=== RUN   TestNewAdminMiddleware/with_long_key
--- PASS: TestNewAdminMiddleware (0.00s)
    --- PASS: TestNewAdminMiddleware/with_environment_variable (0.00s)
    --- SKIP: TestNewAdminMiddleware/with_default_key_validation (0.00s)
    --- SKIP: TestNewAdminMiddleware/with_short_key_validation (0.00s)
    --- PASS: TestNewAdminMiddleware/with_exactly_32_character_key (0.00s)
    --- PASS: TestNewAdminMiddleware/with_long_key (0.00s)
=== RUN   TestAdminMiddleware_RequireAdminAuth
=== RUN   TestAdminMiddleware_RequireAdminAuth/valid_API_key_in_Authorization_header
=== RUN   TestAdminMiddleware_RequireAdminAuth/valid_API_key_in_X-API-Key_header
=== RUN   TestAdminMiddleware_RequireAdminAuth/API_key_in_query_parameter_(should_be_rejected_for_security)
=== RUN   TestAdminMiddleware_RequireAdminAuth/missing_API_key
=== RUN   TestAdminMiddleware_RequireAdminAuth/invalid_API_key_in_Authorization_header
=== RUN   TestAdminMiddleware_RequireAdminAuth/invalid_Authorization_header_format
=== RUN   TestAdminMiddleware_RequireAdminAuth/invalid_API_key_in_X-API-Key_header
=== RUN   TestAdminMiddleware_RequireAdminAuth/invalid_API_key_in_query_parameter_(should_be_rejected_for_security)
--- PASS: TestAdminMiddleware_RequireAdminAuth (0.00s)
    --- PASS: TestAdminMiddleware_RequireAdminAuth/valid_API_key_in_Authorization_header (0.00s)
    --- PASS: TestAdminMiddleware_RequireAdminAuth/valid_API_key_in_X-API-Key_header (0.00s)
    --- PASS: TestAdminMiddleware_RequireAdminAuth/API_key_in_query_parameter_(should_be_rejected_for_security) (0.00s)
    --- PASS: TestAdminMiddleware_RequireAdminAuth/missing_API_key (0.00s)
    --- PASS: TestAdminMiddleware_RequireAdminAuth/invalid_API_key_in_Authorization_header (0.00s)
    --- PASS: TestAdminMiddleware_RequireAdminAuth/invalid_Authorization_header_format (0.00s)
    --- PASS: TestAdminMiddleware_RequireAdminAuth/invalid_API_key_in_X-API-Key_header (0.00s)
    --- PASS: TestAdminMiddleware_RequireAdminAuth/invalid_API_key_in_query_parameter_(should_be_rejected_for_security) (0.00s)
=== RUN   TestAdminMiddleware_ValidateAdminKey
=== RUN   TestAdminMiddleware_ValidateAdminKey/valid_key
=== RUN   TestAdminMiddleware_ValidateAdminKey/invalid_key
=== RUN   TestAdminMiddleware_ValidateAdminKey/empty_key
--- PASS: TestAdminMiddleware_ValidateAdminKey (0.00s)
    --- PASS: TestAdminMiddleware_ValidateAdminKey/valid_key (0.00s)
    --- PASS: TestAdminMiddleware_ValidateAdminKey/invalid_key (0.00s)
    --- PASS: TestAdminMiddleware_ValidateAdminKey/empty_key (0.00s)
=== RUN   TestNewAuthMiddleware
--- PASS: TestNewAuthMiddleware (0.00s)
=== RUN   TestAuthMiddleware_GenerateToken
--- PASS: TestAuthMiddleware_GenerateToken (0.00s)
=== RUN   TestAuthMiddleware_ValidateToken
=== RUN   TestAuthMiddleware_ValidateToken/valid_token
=== RUN   TestAuthMiddleware_ValidateToken/invalid_token_format
=== RUN   TestAuthMiddleware_ValidateToken/expired_token
=== RUN   TestAuthMiddleware_ValidateToken/token_with_wrong_secret
--- PASS: TestAuthMiddleware_ValidateToken (0.00s)
    --- PASS: TestAuthMiddleware_ValidateToken/valid_token (0.00s)
    --- PASS: TestAuthMiddleware_ValidateToken/invalid_token_format (0.00s)
    --- PASS: TestAuthMiddleware_ValidateToken/expired_token (0.00s)
    --- PASS: TestAuthMiddleware_ValidateToken/token_with_wrong_secret (0.00s)
=== RUN   TestAuthMiddleware_RequireAuth
=== RUN   TestAuthMiddleware_RequireAuth/valid_token
=== RUN   TestAuthMiddleware_RequireAuth/missing_authorization_header
=== RUN   TestAuthMiddleware_RequireAuth/invalid_authorization_header_format
=== RUN   TestAuthMiddleware_RequireAuth/invalid_authorization_header_format/missing_Bearer_prefix
=== RUN   TestAuthMiddleware_RequireAuth/invalid_authorization_header_format/wrong_prefix
=== RUN   TestAuthMiddleware_RequireAuth/invalid_authorization_header_format/empty_token
=== RUN   TestAuthMiddleware_RequireAuth/invalid_authorization_header_format/only_Bearer
=== RUN   TestAuthMiddleware_RequireAuth/invalid_token
=== RUN   TestAuthMiddleware_RequireAuth/expired_token
=== RUN   TestAuthMiddleware_RequireAuth/token_with_wrong_signing_method
--- PASS: TestAuthMiddleware_RequireAuth (0.00s)
    --- PASS: TestAuthMiddleware_RequireAuth/valid_token (0.00s)
    --- PASS: TestAuthMiddleware_RequireAuth/missing_authorization_header (0.00s)
    --- PASS: TestAuthMiddleware_RequireAuth/invalid_authorization_header_format (0.00s)
        --- PASS: TestAuthMiddleware_RequireAuth/invalid_authorization_header_format/missing_Bearer_prefix (0.00s)
        --- PASS: TestAuthMiddleware_RequireAuth/invalid_authorization_header_format/wrong_prefix (0.00s)
        --- PASS: TestAuthMiddleware_RequireAuth/invalid_authorization_header_format/empty_token (0.00s)
        --- PASS: TestAuthMiddleware_RequireAuth/invalid_authorization_header_format/only_Bearer (0.00s)
    --- PASS: TestAuthMiddleware_RequireAuth/invalid_token (0.00s)
    --- PASS: TestAuthMiddleware_RequireAuth/expired_token (0.00s)
    --- PASS: TestAuthMiddleware_RequireAuth/token_with_wrong_signing_method (0.00s)
=== RUN   TestAuthMiddleware_OptionalAuth
=== RUN   TestAuthMiddleware_OptionalAuth/valid_token
=== RUN   TestAuthMiddleware_OptionalAuth/no_token_provided
=== RUN   TestAuthMiddleware_OptionalAuth/invalid_token_format
=== RUN   TestAuthMiddleware_OptionalAuth/expired_token
--- PASS: TestAuthMiddleware_OptionalAuth (0.00s)
    --- PASS: TestAuthMiddleware_OptionalAuth/valid_token (0.00s)
    --- PASS: TestAuthMiddleware_OptionalAuth/no_token_provided (0.00s)
    --- PASS: TestAuthMiddleware_OptionalAuth/invalid_token_format (0.00s)
    --- PASS: TestAuthMiddleware_OptionalAuth/expired_token (0.00s)
=== RUN   TestAuthMiddleware_MiddlewareChain
=== RUN   TestAuthMiddleware_MiddlewareChain/middleware_chain_execution
=== RUN   TestAuthMiddleware_MiddlewareChain/middleware_chain_abort_on_auth_failure
--- PASS: TestAuthMiddleware_MiddlewareChain (0.00s)
    --- PASS: TestAuthMiddleware_MiddlewareChain/middleware_chain_execution (0.00s)
    --- PASS: TestAuthMiddleware_MiddlewareChain/middleware_chain_abort_on_auth_failure (0.00s)
=== RUN   TestJWTClaims
=== RUN   TestJWTClaims/claims_structure
--- PASS: TestJWTClaims (0.00s)
    --- PASS: TestJWTClaims/claims_structure (0.00s)
=== RUN   TestTelemetryMiddleware
2025/09/30 23:11:44 INFO Initializing telemetry enabled=false otlp_endpoint=http://localhost:4318 service_name=github.com/irfandi/celebrum-ai-go service_version=1.0.0
2025/09/30 23:11:44 INFO Telemetry disabled
=== RUN   TestTelemetryMiddleware/regular_request_tracing
=== RUN   TestTelemetryMiddleware/health_check_endpoint_skip
=== RUN   TestTelemetryMiddleware/ready_endpoint_skip
=== RUN   TestTelemetryMiddleware/live_endpoint_skip
=== RUN   TestTelemetryMiddleware/error_response_tracing
--- PASS: TestTelemetryMiddleware (0.00s)
    --- PASS: TestTelemetryMiddleware/regular_request_tracing (0.00s)
    --- PASS: TestTelemetryMiddleware/health_check_endpoint_skip (0.00s)
    --- PASS: TestTelemetryMiddleware/ready_endpoint_skip (0.00s)
    --- PASS: TestTelemetryMiddleware/live_endpoint_skip (0.00s)
    --- PASS: TestTelemetryMiddleware/error_response_tracing (0.00s)
=== RUN   TestHealthCheckTelemetryMiddleware
2025/09/30 23:11:44 INFO Initializing telemetry enabled=false otlp_endpoint=http://localhost:4318 service_name=github.com/irfandi/celebrum-ai-go service_version=1.0.0
2025/09/30 23:11:44 INFO Telemetry disabled
=== RUN   TestHealthCheckTelemetryMiddleware/health_check_middleware
=== RUN   TestHealthCheckTelemetryMiddleware/health_check_with_error_response
--- PASS: TestHealthCheckTelemetryMiddleware (0.00s)
    --- PASS: TestHealthCheckTelemetryMiddleware/health_check_middleware (0.00s)
    --- PASS: TestHealthCheckTelemetryMiddleware/health_check_with_error_response (0.00s)
=== RUN   TestRecordError
2025/09/30 23:11:44 INFO Initializing telemetry enabled=false otlp_endpoint=http://localhost:4318 service_name=github.com/irfandi/celebrum-ai-go service_version=1.0.0
2025/09/30 23:11:44 INFO Telemetry disabled
=== RUN   TestRecordError/record_error_with_valid_context
=== RUN   TestRecordError/record_error_with_nil_context
=== RUN   TestRecordError/record_error_with_non-recording_span
=== RUN   TestRecordError/record_error_with_recording_span
2025/09/30 23:11:44 INFO Initializing telemetry enabled=true otlp_endpoint=http://localhost:4318 service_name=github.com/irfandi/celebrum-ai-go service_version=1.0.0
2025/09/30 23:11:44 INFO OpenTelemetry initialized endpoint_raw=http://localhost:4318 endpoint_hostport=localhost:4318 url_path=/v1/traces resolved_url=http://localhost:4318/v1/traces insecure_http=true service=github.com/irfandi/celebrum-ai-go version=1.0.0 environment=production debug_path_unescaped=/v1/traces
2025/09/30 23:11:44 INFO OTLP logger initialized successfully
=== RUN   TestRecordError/record_error_with_non-recording_span#01
--- PASS: TestRecordError (0.00s)
    --- PASS: TestRecordError/record_error_with_valid_context (0.00s)
    --- PASS: TestRecordError/record_error_with_nil_context (0.00s)
    --- PASS: TestRecordError/record_error_with_non-recording_span (0.00s)
    --- PASS: TestRecordError/record_error_with_recording_span (0.00s)
    --- PASS: TestRecordError/record_error_with_non-recording_span#01 (0.00s)
=== RUN   TestAddSpanAttribute
2025/09/30 23:11:44 INFO Initializing telemetry enabled=false otlp_endpoint=http://localhost:4318 service_name=github.com/irfandi/celebrum-ai-go service_version=1.0.0
2025/09/30 23:11:44 INFO Telemetry disabled
=== RUN   TestAddSpanAttribute/add_string_attribute
=== RUN   TestAddSpanAttribute/add_int_attribute
=== RUN   TestAddSpanAttribute/add_int64_attribute
=== RUN   TestAddSpanAttribute/add_float64_attribute
=== RUN   TestAddSpanAttribute/add_bool_attribute
=== RUN   TestAddSpanAttribute/add_unknown_type_attribute
=== RUN   TestAddSpanAttribute/add_attribute_with_nil_context
=== RUN   TestAddSpanAttribute/add_attribute_with_non-recording_span
=== RUN   TestAddSpanAttribute/add_attribute_with_recording_span
2025/09/30 23:11:44 INFO Initializing telemetry enabled=true otlp_endpoint=http://localhost:4318 service_name=github.com/irfandi/celebrum-ai-go service_version=1.0.0
2025/09/30 23:11:44 INFO OpenTelemetry initialized endpoint_raw=http://localhost:4318 endpoint_hostport=localhost:4318 url_path=/v1/traces resolved_url=http://localhost:4318/v1/traces insecure_http=true service=github.com/irfandi/celebrum-ai-go version=1.0.0 environment=production debug_path_unescaped=/v1/traces
2025/09/30 23:11:44 INFO OTLP logger initialized successfully
--- PASS: TestAddSpanAttribute (0.01s)
    --- PASS: TestAddSpanAttribute/add_string_attribute (0.00s)
    --- PASS: TestAddSpanAttribute/add_int_attribute (0.00s)
    --- PASS: TestAddSpanAttribute/add_int64_attribute (0.00s)
    --- PASS: TestAddSpanAttribute/add_float64_attribute (0.00s)
    --- PASS: TestAddSpanAttribute/add_bool_attribute (0.00s)
    --- PASS: TestAddSpanAttribute/add_unknown_type_attribute (0.00s)
    --- PASS: TestAddSpanAttribute/add_attribute_with_nil_context (0.00s)
    --- PASS: TestAddSpanAttribute/add_attribute_with_non-recording_span (0.00s)
    --- PASS: TestAddSpanAttribute/add_attribute_with_recording_span (0.00s)
=== RUN   TestStartSpan
2025/09/30 23:11:44 INFO Initializing telemetry enabled=false otlp_endpoint=http://localhost:4318 service_name=github.com/irfandi/celebrum-ai-go service_version=1.0.0
2025/09/30 23:11:44 INFO Telemetry disabled
=== RUN   TestStartSpan/start_new_span
--- PASS: TestStartSpan (0.00s)
    --- PASS: TestStartSpan/start_new_span (0.00s)
=== RUN   TestGetHealthStatusFromCode
=== RUN   TestGetHealthStatusFromCode/healthy_-_200
=== RUN   TestGetHealthStatusFromCode/healthy_-_299
=== RUN   TestGetHealthStatusFromCode/client_error_-_400
=== RUN   TestGetHealthStatusFromCode/client_error_-_499
=== RUN   TestGetHealthStatusFromCode/server_error_-_500
=== RUN   TestGetHealthStatusFromCode/server_error_-_599
=== RUN   TestGetHealthStatusFromCode/server_error_-_600
=== RUN   TestGetHealthStatusFromCode/unknown_-_100
=== RUN   TestGetHealthStatusFromCode/unknown_-_300
--- PASS: TestGetHealthStatusFromCode (0.00s)
    --- PASS: TestGetHealthStatusFromCode/healthy_-_200 (0.00s)
    --- PASS: TestGetHealthStatusFromCode/healthy_-_299 (0.00s)
    --- PASS: TestGetHealthStatusFromCode/client_error_-_400 (0.00s)
    --- PASS: TestGetHealthStatusFromCode/client_error_-_499 (0.00s)
    --- PASS: TestGetHealthStatusFromCode/server_error_-_500 (0.00s)
    --- PASS: TestGetHealthStatusFromCode/server_error_-_599 (0.00s)
    --- PASS: TestGetHealthStatusFromCode/server_error_-_600 (0.00s)
    --- PASS: TestGetHealthStatusFromCode/unknown_-_100 (0.00s)
    --- PASS: TestGetHealthStatusFromCode/unknown_-_300 (0.00s)
PASS
coverage: 93.5% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/middleware	(cached)	coverage: 93.5% of statements
=== RUN   TestFundingRate_Struct
--- PASS: TestFundingRate_Struct (0.00s)
=== RUN   TestFundingArbitrageOpportunity_Struct
--- PASS: TestFundingArbitrageOpportunity_Struct (0.00s)
=== RUN   TestFundingArbitrageOpportunityResponse_Struct
--- PASS: TestFundingArbitrageOpportunityResponse_Struct (0.00s)
=== RUN   TestFundingRateRequest_Struct
--- PASS: TestFundingRateRequest_Struct (0.00s)
=== RUN   TestFundingRateResponse_Struct
--- PASS: TestFundingRateResponse_Struct (0.00s)
=== RUN   TestFundingArbitrageRequest_Struct
--- PASS: TestFundingArbitrageRequest_Struct (0.00s)
=== RUN   TestFundingArbitrageRequest_DefaultValues
--- PASS: TestFundingArbitrageRequest_DefaultValues (0.00s)
=== RUN   TestFundingRateRequest_DefaultValues
--- PASS: TestFundingRateRequest_DefaultValues (0.00s)
=== RUN   TestArbitrageOpportunity_Struct
--- PASS: TestArbitrageOpportunity_Struct (0.00s)
=== RUN   TestArbitrageOpportunityRequest_Struct
--- PASS: TestArbitrageOpportunityRequest_Struct (0.00s)
=== RUN   TestArbitrageOpportunityResponse_Struct
--- PASS: TestArbitrageOpportunityResponse_Struct (0.00s)
=== RUN   TestArbitrageOpportunitiesResponse_Struct
--- PASS: TestArbitrageOpportunitiesResponse_Struct (0.00s)
=== RUN   TestExchange_Struct
--- PASS: TestExchange_Struct (0.00s)
=== RUN   TestCCXTExchange_Struct
--- PASS: TestCCXTExchange_Struct (0.00s)
=== RUN   TestExchangeInfo_Struct
--- PASS: TestExchangeInfo_Struct (0.00s)
=== RUN   TestMarketData_Struct
--- PASS: TestMarketData_Struct (0.00s)
=== RUN   TestMarketPrice_Struct
--- PASS: TestMarketPrice_Struct (0.00s)
=== RUN   TestTickerData_Struct
--- PASS: TestTickerData_Struct (0.00s)
=== RUN   TestOrderBookData_Struct
--- PASS: TestOrderBookData_Struct (0.00s)
=== RUN   TestMarketDataRequest_Struct
--- PASS: TestMarketDataRequest_Struct (0.00s)
=== RUN   TestTradingPair_Struct
--- PASS: TestTradingPair_Struct (0.00s)
=== RUN   TestTradingPair_TableName
--- PASS: TestTradingPair_TableName (0.00s)
=== RUN   TestTradingPair_String
--- PASS: TestTradingPair_String (0.00s)
=== RUN   TestTradingPair_GetFullSymbol
--- PASS: TestTradingPair_GetFullSymbol (0.00s)
=== RUN   TestUser_Struct
--- PASS: TestUser_Struct (0.00s)
=== RUN   TestUserAlert_Struct
--- PASS: TestUserAlert_Struct (0.00s)
=== RUN   TestPortfolio_Struct
--- PASS: TestPortfolio_Struct (0.00s)
=== RUN   TestUserRequest_Struct
--- PASS: TestUserRequest_Struct (0.00s)
=== RUN   TestUserResponse_Struct
--- PASS: TestUserResponse_Struct (0.00s)
=== RUN   TestAlertConditions_Struct
--- PASS: TestAlertConditions_Struct (0.00s)
=== RUN   TestTechnicalIndicator_Struct
--- PASS: TestTechnicalIndicator_Struct (0.00s)
=== RUN   TestIndicatorData_Struct
--- PASS: TestIndicatorData_Struct (0.00s)
=== RUN   TestRSIData_Struct
--- PASS: TestRSIData_Struct (0.00s)
=== RUN   TestMACDData_Struct
--- PASS: TestMACDData_Struct (0.00s)
=== RUN   TestSMAData_Struct
--- PASS: TestSMAData_Struct (0.00s)
=== RUN   TestSignal_Struct
--- PASS: TestSignal_Struct (0.00s)
=== RUN   TestTechnicalAnalysisRequest_Struct
--- PASS: TestTechnicalAnalysisRequest_Struct (0.00s)
=== RUN   TestTechnicalAnalysisResponse_Struct
--- PASS: TestTechnicalAnalysisResponse_Struct (0.00s)
=== RUN   TestAlertConditions_JSON
--- PASS: TestAlertConditions_JSON (0.00s)
=== RUN   TestEnhancedArbitrageOpportunity_Struct
--- PASS: TestEnhancedArbitrageOpportunity_Struct (0.00s)
=== RUN   TestExchangePrice_Struct
--- PASS: TestExchangePrice_Struct (0.00s)
=== RUN   TestVolumeWeightedPrices_Struct
--- PASS: TestVolumeWeightedPrices_Struct (0.00s)
=== RUN   TestArbitrageAggregationInput_Struct
--- PASS: TestArbitrageAggregationInput_Struct (0.00s)
=== RUN   TestArbitrageQualityMetrics_Struct
--- PASS: TestArbitrageQualityMetrics_Struct (0.00s)
=== RUN   TestPriceRange_Struct
--- PASS: TestPriceRange_Struct (0.00s)
=== RUN   TestProfitRange_Struct
--- PASS: TestProfitRange_Struct (0.00s)
=== RUN   TestFuturesArbitrageOpportunity_Struct
--- PASS: TestFuturesArbitrageOpportunity_Struct (0.00s)
=== RUN   TestFundingRateHistoryPoint_Struct
--- PASS: TestFundingRateHistoryPoint_Struct (0.00s)
=== RUN   TestFuturesArbitrageCalculationInput_Struct
--- PASS: TestFuturesArbitrageCalculationInput_Struct (0.00s)
=== RUN   TestFuturesArbitrageRiskMetrics_Struct
--- PASS: TestFuturesArbitrageRiskMetrics_Struct (0.00s)
=== RUN   TestFuturesPositionSizing_Struct
--- PASS: TestFuturesPositionSizing_Struct (0.00s)
=== RUN   TestFuturesArbitrageStrategy_Struct
--- PASS: TestFuturesArbitrageStrategy_Struct (0.00s)
=== RUN   TestPositionDetails_Struct
--- PASS: TestPositionDetails_Struct (0.00s)
=== RUN   TestFuturesArbitrageRequest_Struct
--- PASS: TestFuturesArbitrageRequest_Struct (0.00s)
=== RUN   TestFuturesArbitrageResponse_Struct
--- PASS: TestFuturesArbitrageResponse_Struct (0.00s)
=== RUN   TestFuturesMarketSummary_Struct
--- PASS: TestFuturesMarketSummary_Struct (0.00s)
=== RUN   TestArbitrageOpportunityResponse_Getters
--- PASS: TestArbitrageOpportunityResponse_Getters (0.00s)
=== RUN   TestMarketPrice_Getters
--- PASS: TestMarketPrice_Getters (0.00s)
PASS
coverage: 100.0% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/models	(cached)	coverage: 100.0% of statements
2025/09/30 23:11:51 INFO Initializing telemetry enabled=false otlp_endpoint=http://localhost:4318 service_name=test-collector-service service_version=""
2025/09/30 23:11:51 INFO Telemetry disabled
=== RUN   TestArbitrageService_ConfigParsing
--- PASS: TestArbitrageService_ConfigParsing (0.00s)
=== RUN   TestArbitrageService_ContextManagement
--- PASS: TestArbitrageService_ContextManagement (0.01s)
=== RUN   TestArbitrageService_ConcurrentOperations
--- PASS: TestArbitrageService_ConcurrentOperations (0.00s)
=== RUN   TestArbitrageService_TimeHandling
--- PASS: TestArbitrageService_TimeHandling (0.00s)
=== RUN   TestArbitrageService_ErrorHandling
--- PASS: TestArbitrageService_ErrorHandling (0.00s)
=== RUN   TestArbitrageService_StateTransitions
--- PASS: TestArbitrageService_StateTransitions (0.00s)
=== RUN   TestArbitrageService_MetricsCollection
--- PASS: TestArbitrageService_MetricsCollection (0.00s)
=== RUN   TestArbitrageService_BatchProcessing
--- PASS: TestArbitrageService_BatchProcessing (0.00s)
=== RUN   TestNewArbitrageService
--- PASS: TestNewArbitrageService (0.00s)
=== RUN   TestNewArbitrageService_DefaultValues
--- PASS: TestNewArbitrageService_DefaultValues (0.00s)
=== RUN   TestArbitrageService_StartStop
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
--- PASS: TestArbitrageService_StartStop (0.00s)
=== RUN   TestArbitrageService_StartDisabled
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
--- PASS: TestArbitrageService_StartDisabled (0.00s)
=== RUN   TestArbitrageService_Start
=== RUN   TestArbitrageService_Start/disabled_config
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
=== RUN   TestArbitrageService_Start/enabled_config_minimal
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
=== RUN   TestArbitrageService_Start/enabled_with_custom_settings
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
=== RUN   TestArbitrageService_Start/default_config_values
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
--- PASS: TestArbitrageService_Start (0.00s)
    --- PASS: TestArbitrageService_Start/disabled_config (0.00s)
    --- PASS: TestArbitrageService_Start/enabled_config_minimal (0.00s)
    --- PASS: TestArbitrageService_Start/enabled_with_custom_settings (0.00s)
    --- PASS: TestArbitrageService_Start/default_config_values (0.00s)
=== RUN   TestArbitrageService_Start_ContextHandling
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
--- PASS: TestArbitrageService_Start_ContextHandling (0.01s)
=== RUN   TestArbitrageService_Start_GoroutineLaunch
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
--- PASS: TestArbitrageService_Start_GoroutineLaunch (0.00s)
=== RUN   TestArbitrageService_Start_Logging
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
--- PASS: TestArbitrageService_Start_Logging (0.05s)
=== RUN   TestArbitrageService_Start_MutexBehavior
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
time="2025-09-30T23:11:51+07:00" level=info msg="Arbitrage service is disabled in configuration"
--- PASS: TestArbitrageService_Start_MutexBehavior (0.00s)
=== RUN   TestArbitrageService_GetStatus
--- PASS: TestArbitrageService_GetStatus (0.00s)
=== RUN   TestArbitrageService_ConcurrentAccess
--- PASS: TestArbitrageService_ConcurrentAccess (0.00s)
=== RUN   TestArbitrageService_ConfigValidation
=== RUN   TestArbitrageService_ConfigValidation/All_values_provided
=== RUN   TestArbitrageService_ConfigValidation/Only_enabled_flag
=== RUN   TestArbitrageService_ConfigValidation/Partial_configuration
--- PASS: TestArbitrageService_ConfigValidation (0.00s)
    --- PASS: TestArbitrageService_ConfigValidation/All_values_provided (0.00s)
    --- PASS: TestArbitrageService_ConfigValidation/Only_enabled_flag (0.00s)
    --- PASS: TestArbitrageService_ConfigValidation/Partial_configuration (0.00s)
=== RUN   TestArbitrageService_calculationLoop
=== RUN   TestArbitrageService_calculationLoop/context_cancellation
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
time="2025-09-30T23:11:51+07:00" level=error msg="Initial arbitrage calculation failed" error="failed to get market data: database pool is not available"
=== RUN   TestArbitrageService_calculationLoop/interval_configuration
=== RUN   TestArbitrageService_calculationLoop/interval_configuration/short_interval
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
time="2025-09-30T23:11:51+07:00" level=error msg="Initial arbitrage calculation failed" error="failed to get market data: database pool is not available"
=== RUN   TestArbitrageService_calculationLoop/interval_configuration/long_interval
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
time="2025-09-30T23:11:51+07:00" level=error msg="Initial arbitrage calculation failed" error="failed to get market data: database pool is not available"
=== RUN   TestArbitrageService_calculationLoop/interval_configuration/disabled_arbitrage
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
time="2025-09-30T23:11:51+07:00" level=error msg="Initial arbitrage calculation failed" error="failed to get market data: database pool is not available"
=== RUN   TestArbitrageService_calculationLoop/error_handling
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
time="2025-09-30T23:11:51+07:00" level=error msg="Initial arbitrage calculation failed" error="failed to get market data: database pool is not available"
=== RUN   TestArbitrageService_calculationLoop/immediate_calculation
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
time="2025-09-30T23:11:51+07:00" level=error msg="Initial arbitrage calculation failed" error="failed to get market data: database pool is not available"
--- PASS: TestArbitrageService_calculationLoop (0.09s)
    --- PASS: TestArbitrageService_calculationLoop/context_cancellation (0.00s)
    --- PASS: TestArbitrageService_calculationLoop/interval_configuration (0.03s)
        --- PASS: TestArbitrageService_calculationLoop/interval_configuration/short_interval (0.01s)
        --- PASS: TestArbitrageService_calculationLoop/interval_configuration/long_interval (0.01s)
        --- PASS: TestArbitrageService_calculationLoop/interval_configuration/disabled_arbitrage (0.01s)
    --- PASS: TestArbitrageService_calculationLoop/error_handling (0.05s)
    --- PASS: TestArbitrageService_calculationLoop/immediate_calculation (0.00s)
=== RUN   TestArbitrageService_calculateAndStoreOpportunities
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
=== RUN   TestArbitrageService_calculateAndStoreOpportunities/nil_database_scenario
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
=== RUN   TestArbitrageService_calculateAndStoreOpportunities/various_configuration_scenarios
=== RUN   TestArbitrageService_calculateAndStoreOpportunities/various_configuration_scenarios/config_0
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
=== RUN   TestArbitrageService_calculateAndStoreOpportunities/various_configuration_scenarios/config_1
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
=== RUN   TestArbitrageService_calculateAndStoreOpportunities/various_configuration_scenarios/config_2
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
=== RUN   TestArbitrageService_calculateAndStoreOpportunities/context_cancellation_scenario
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
=== RUN   TestArbitrageService_calculateAndStoreOpportunities/edge_cases
=== RUN   TestArbitrageService_calculateAndStoreOpportunities/edge_cases/nil_database
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
--- PASS: TestArbitrageService_calculateAndStoreOpportunities (0.00s)
    --- PASS: TestArbitrageService_calculateAndStoreOpportunities/nil_database_scenario (0.00s)
    --- PASS: TestArbitrageService_calculateAndStoreOpportunities/various_configuration_scenarios (0.00s)
        --- PASS: TestArbitrageService_calculateAndStoreOpportunities/various_configuration_scenarios/config_0 (0.00s)
        --- PASS: TestArbitrageService_calculateAndStoreOpportunities/various_configuration_scenarios/config_1 (0.00s)
        --- PASS: TestArbitrageService_calculateAndStoreOpportunities/various_configuration_scenarios/config_2 (0.00s)
    --- PASS: TestArbitrageService_calculateAndStoreOpportunities/context_cancellation_scenario (0.00s)
    --- PASS: TestArbitrageService_calculateAndStoreOpportunities/edge_cases (0.00s)
        --- PASS: TestArbitrageService_calculateAndStoreOpportunities/edge_cases/nil_database (0.00s)
=== RUN   TestArbitrageService_calculateAndStoreOpportunities_NoMarketData
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
--- PASS: TestArbitrageService_calculateAndStoreOpportunities_NoMarketData (0.00s)
=== RUN   TestArbitrageService_calculateAndStoreOpportunities_SuccessPath
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
--- PASS: TestArbitrageService_calculateAndStoreOpportunities_SuccessPath (0.00s)
=== RUN   TestArbitrageService_calculateAndStoreOpportunities_CleanupError
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
--- PASS: TestArbitrageService_calculateAndStoreOpportunities_CleanupError (0.00s)
=== RUN   TestArbitrageService_calculateAndStoreOpportunities_GetMarketDataError
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
--- PASS: TestArbitrageService_calculateAndStoreOpportunities_GetMarketDataError (0.00s)
=== RUN   TestArbitrageService_calculateAndStoreOpportunities_CalculateError
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
--- PASS: TestArbitrageService_calculateAndStoreOpportunities_CalculateError (0.00s)
=== RUN   TestArbitrageService_calculateAndStoreOpportunities_StoreError
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
--- PASS: TestArbitrageService_calculateAndStoreOpportunities_StoreError (0.00s)
=== RUN   TestArbitrageService_calculateAndStoreOpportunities_NoValidOpportunities
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage serviceinterval_seconds60min_profit0.5max_age_minutes30batch_size100"
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:51+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
time="2025-09-30T23:11:51+07:00" level=info msg="Starting arbitrage opportunity calculation"
--- PASS: TestArbitrageService_calculateAndStoreOpportunities_NoValidOpportunities (0.00s)
=== RUN   TestArbitrageService_calculateAndStoreOpportunities_ContextCancellation
time="2025-09-30T23:11:52+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
time="2025-09-30T23:11:52+07:00" level=error msg="Initial arbitrage calculation failed" error="failed to get market data: database pool is not available"
time="2025-09-30T23:11:52+07:00" level=info msg="Starting arbitrage opportunity calculation"
time="2025-09-30T23:11:52+07:00" level=warning msg="Failed to cleanup old opportunities" error="database pool is not available"
--- PASS: TestArbitrageService_calculateAndStoreOpportunities_ContextCancellation (0.00s)
=== RUN   TestArbitrageService_getLatestMarketData
--- PASS: TestArbitrageService_getLatestMarketData (0.00s)
=== RUN   TestArbitrageService_getLatestMarketData_Context
--- PASS: TestArbitrageService_getLatestMarketData_Context (0.00s)
=== RUN   TestArbitrageService_getLatestMarketData_ConfigVariations
=== RUN   TestArbitrageService_getLatestMarketData_ConfigVariations/enabled_arbitrage
=== RUN   TestArbitrageService_getLatestMarketData_ConfigVariations/disabled_arbitrage
=== RUN   TestArbitrageService_getLatestMarketData_ConfigVariations/high_frequency_config
--- PASS: TestArbitrageService_getLatestMarketData_ConfigVariations (0.00s)
    --- PASS: TestArbitrageService_getLatestMarketData_ConfigVariations/enabled_arbitrage (0.00s)
    --- PASS: TestArbitrageService_getLatestMarketData_ConfigVariations/disabled_arbitrage (0.00s)
    --- PASS: TestArbitrageService_getLatestMarketData_ConfigVariations/high_frequency_config (0.00s)
=== RUN   TestArbitrageService_getLatestMarketData_ErrorScenarios
=== RUN   TestArbitrageService_getLatestMarketData_ErrorScenarios/call_0
=== RUN   TestArbitrageService_getLatestMarketData_ErrorScenarios/call_1
=== RUN   TestArbitrageService_getLatestMarketData_ErrorScenarios/call_2
--- PASS: TestArbitrageService_getLatestMarketData_ErrorScenarios (0.00s)
    --- PASS: TestArbitrageService_getLatestMarketData_ErrorScenarios/call_0 (0.00s)
    --- PASS: TestArbitrageService_getLatestMarketData_ErrorScenarios/call_1 (0.00s)
    --- PASS: TestArbitrageService_getLatestMarketData_ErrorScenarios/call_2 (0.00s)
=== RUN   TestArbitrageService_filterOpportunities
time="2025-09-30T23:11:52+07:00" level=info msg="Filtered opportunitiesoriginal3filtered1"
--- PASS: TestArbitrageService_filterOpportunities (0.00s)
=== RUN   TestArbitrageService_storeOpportunities
--- PASS: TestArbitrageService_storeOpportunities (0.00s)
=== RUN   TestArbitrageService_storeOpportunities_Empty
time="2025-09-30T23:11:52+07:00" level=info msg="No opportunities to store"
--- PASS: TestArbitrageService_storeOpportunities_Empty (0.00s)
=== RUN   TestArbitrageService_storeOpportunityBatch
=== RUN   TestArbitrageService_storeOpportunityBatch/SingleOpportunityNilDB
=== RUN   TestArbitrageService_storeOpportunityBatch/EmptyBatch
=== RUN   TestArbitrageService_storeOpportunityBatch/MultipleOpportunities
=== RUN   TestArbitrageService_storeOpportunityBatch/DifferentBatchSizes
=== RUN   TestArbitrageService_storeOpportunityBatch/DifferentBatchSizes/BatchSize_1
=== RUN   TestArbitrageService_storeOpportunityBatch/DifferentBatchSizes/BatchSize_10
=== RUN   TestArbitrageService_storeOpportunityBatch/DifferentBatchSizes/BatchSize_50
=== RUN   TestArbitrageService_storeOpportunityBatch/DifferentBatchSizes/BatchSize_100
=== RUN   TestArbitrageService_storeOpportunityBatch/MinimalOpportunity
=== RUN   TestArbitrageService_storeOpportunityBatch/EdgeCaseValues
--- PASS: TestArbitrageService_storeOpportunityBatch (0.00s)
    --- PASS: TestArbitrageService_storeOpportunityBatch/SingleOpportunityNilDB (0.00s)
    --- PASS: TestArbitrageService_storeOpportunityBatch/EmptyBatch (0.00s)
    --- PASS: TestArbitrageService_storeOpportunityBatch/MultipleOpportunities (0.00s)
    --- PASS: TestArbitrageService_storeOpportunityBatch/DifferentBatchSizes (0.00s)
        --- PASS: TestArbitrageService_storeOpportunityBatch/DifferentBatchSizes/BatchSize_1 (0.00s)
        --- PASS: TestArbitrageService_storeOpportunityBatch/DifferentBatchSizes/BatchSize_10 (0.00s)
        --- PASS: TestArbitrageService_storeOpportunityBatch/DifferentBatchSizes/BatchSize_50 (0.00s)
        --- PASS: TestArbitrageService_storeOpportunityBatch/DifferentBatchSizes/BatchSize_100 (0.00s)
    --- PASS: TestArbitrageService_storeOpportunityBatch/MinimalOpportunity (0.00s)
    --- PASS: TestArbitrageService_storeOpportunityBatch/EdgeCaseValues (0.00s)
=== RUN   TestArbitrageService_cleanupOldOpportunities
--- PASS: TestArbitrageService_cleanupOldOpportunities (0.00s)
=== RUN   TestArbitrageService_countTotalTradingPairs
--- PASS: TestArbitrageService_countTotalTradingPairs (0.00s)
=== RUN   TestArbitrageService_GetActiveOpportunities
--- PASS: TestArbitrageService_GetActiveOpportunities (0.00s)
=== RUN   TestArbitrageService_GetActiveOpportunities_WithData
--- PASS: TestArbitrageService_GetActiveOpportunities_WithData (0.00s)
=== RUN   TestArbitrageService_Stop
=== RUN   TestArbitrageService_Stop/stop_when_not_running
=== RUN   TestArbitrageService_Stop/stop_when_running_disabled
time="2025-09-30T23:11:52+07:00" level=info msg="Stopping arbitrage service"
time="2025-09-30T23:11:52+07:00" level=info msg="Arbitrage service stopped"
=== RUN   TestArbitrageService_Stop/stop_with_nil_context
time="2025-09-30T23:11:52+07:00" level=info msg="Stopping arbitrage service"
time="2025-09-30T23:11:52+07:00" level=info msg="Arbitrage service stopped"
=== RUN   TestArbitrageService_Stop/stop_with_active_context
time="2025-09-30T23:11:52+07:00" level=info msg="Stopping arbitrage service"
time="2025-09-30T23:11:52+07:00" level=info msg="Arbitrage service stopped"
=== RUN   TestArbitrageService_Stop/stop_multiple_times
time="2025-09-30T23:11:52+07:00" level=info msg="Stopping arbitrage service"
time="2025-09-30T23:11:52+07:00" level=info msg="Arbitrage service stopped"
=== RUN   TestArbitrageService_Stop/stop_with_zero_wait_group
time="2025-09-30T23:11:52+07:00" level=info msg="Stopping arbitrage service"
time="2025-09-30T23:11:52+07:00" level=info msg="Arbitrage service stopped"
--- PASS: TestArbitrageService_Stop (0.00s)
    --- PASS: TestArbitrageService_Stop/stop_when_not_running (0.00s)
    --- PASS: TestArbitrageService_Stop/stop_when_running_disabled (0.00s)
    --- PASS: TestArbitrageService_Stop/stop_with_nil_context (0.00s)
    --- PASS: TestArbitrageService_Stop/stop_with_active_context (0.00s)
    --- PASS: TestArbitrageService_Stop/stop_multiple_times (0.00s)
    --- PASS: TestArbitrageService_Stop/stop_with_zero_wait_group (0.00s)
=== RUN   TestArbitrageService_Stop_Concurrent
time="2025-09-30T23:11:52+07:00" level=info msg="Stopping arbitrage service"
time="2025-09-30T23:11:52+07:00" level=info msg="Arbitrage service stopped"
--- PASS: TestArbitrageService_Stop_Concurrent (0.00s)
=== RUN   TestArbitrageService_Stop_ContextCancellation
time="2025-09-30T23:11:52+07:00" level=info msg="Stopping arbitrage service"
time="2025-09-30T23:11:52+07:00" level=info msg="Arbitrage service stopped"
--- PASS: TestArbitrageService_Stop_ContextCancellation (0.00s)
=== RUN   TestArbitrageService_Stop_MutexBehavior
--- PASS: TestArbitrageService_Stop_MutexBehavior (0.00s)
=== RUN   TestArbitrageService_storeOpportunityBatch_Success
--- PASS: TestArbitrageService_storeOpportunityBatch_Success (0.00s)
=== RUN   TestArbitrageService_storeOpportunityBatch_EmptyBatch
--- PASS: TestArbitrageService_storeOpportunityBatch_EmptyBatch (0.00s)
=== RUN   TestArbitrageService_storeOpportunityBatch_BeginTransactionError
--- PASS: TestArbitrageService_storeOpportunityBatch_BeginTransactionError (0.00s)
=== RUN   TestArbitrageService_storeOpportunityBatch_InsertError
--- PASS: TestArbitrageService_storeOpportunityBatch_InsertError (0.00s)
=== RUN   TestArbitrageService_storeOpportunityBatch_CommitError
--- PASS: TestArbitrageService_storeOpportunityBatch_CommitError (0.00s)
=== RUN   TestArbitrageService_storeOpportunityBatch_EmptyID
--- PASS: TestArbitrageService_storeOpportunityBatch_EmptyID (0.00s)
=== RUN   TestCacheAnalyticsService_NewCacheAnalyticsService
--- PASS: TestCacheAnalyticsService_NewCacheAnalyticsService (0.00s)
=== RUN   TestCacheAnalyticsService_GetMetrics
=== RUN   TestCacheAnalyticsService_GetMetrics/WithRedisMock
--- PASS: TestCacheAnalyticsService_GetMetrics (0.00s)
    --- PASS: TestCacheAnalyticsService_GetMetrics/WithRedisMock (0.00s)
=== RUN   TestCacheAnalyticsService_GetMetrics_EmptyData
    cache_analytics_test.go:86: Skipping GetMetrics test due to miniredis INFO command limitations
--- SKIP: TestCacheAnalyticsService_GetMetrics_EmptyData (0.00s)
=== RUN   TestCacheAnalyticsService_GetMetrics_WithRedisInfo
    cache_analytics_test.go:110: Skipping GetMetrics test due to miniredis INFO command limitations
--- SKIP: TestCacheAnalyticsService_GetMetrics_WithRedisInfo (0.00s)
=== RUN   TestCacheAnalyticsService_ResetStats
--- PASS: TestCacheAnalyticsService_ResetStats (0.00s)
=== RUN   TestCacheAnalyticsService_RecordHit
--- PASS: TestCacheAnalyticsService_RecordHit (0.00s)
=== RUN   TestCacheAnalyticsService_RecordMiss
--- PASS: TestCacheAnalyticsService_RecordMiss (0.00s)
=== RUN   TestCacheAnalyticsService_GetStats
--- PASS: TestCacheAnalyticsService_GetStats (0.00s)
=== RUN   TestCacheAnalyticsService_GetAllStats
--- PASS: TestCacheAnalyticsService_GetAllStats (0.00s)
=== RUN   TestCacheAnalyticsService_parseRedisInfo
--- PASS: TestCacheAnalyticsService_parseRedisInfo (0.00s)
=== RUN   TestCacheAnalyticsService_StartPeriodicReporting
--- PASS: TestCacheAnalyticsService_StartPeriodicReporting (0.05s)
=== RUN   TestCacheWarmingService_NewCacheWarmingService
--- PASS: TestCacheWarmingService_NewCacheWarmingService (0.00s)
=== RUN   TestCacheWarmingService_WarmCache
{"time":"2025-09-30T23:11:52.062269+07:00","level":"INFO","msg":"Starting cache warming"}
{"time":"2025-09-30T23:11:52.062594+07:00","level":"INFO","msg":"Warming exchange configuration cache"}
{"time":"2025-09-30T23:11:52.065594+07:00","level":"INFO","msg":"Exchange configuration cache warmed successfully"}
{"time":"2025-09-30T23:11:52.065652+07:00","level":"INFO","msg":"Warming supported exchanges cache"}
{"time":"2025-09-30T23:11:52.066172+07:00","level":"INFO","msg":"Supported exchanges cache warmed successfully","count":2}
{"time":"2025-09-30T23:11:52.066206+07:00","level":"INFO","msg":"Warming trading pairs cache"}
{"time":"2025-09-30T23:11:52.066545+07:00","level":"WARN","msg":"Failed to warm trading pairs cache","error":"database is nil"}
{"time":"2025-09-30T23:11:52.066569+07:00","level":"INFO","msg":"Warming exchanges cache"}
{"time":"2025-09-30T23:11:52.066583+07:00","level":"WARN","msg":"Failed to warm exchanges cache","error":"database is nil"}
{"time":"2025-09-30T23:11:52.066597+07:00","level":"INFO","msg":"Warming funding rates cache"}
{"time":"2025-09-30T23:11:52.066611+07:00","level":"WARN","msg":"Failed to warm funding rates cache","error":"database is nil"}
{"time":"2025-09-30T23:11:52.066625+07:00","level":"INFO","msg":"Cache warming completed","duration_ms":4}
--- PASS: TestCacheWarmingService_WarmCache (0.01s)
=== RUN   TestCacheWarmingService_warmExchangeConfig
{"time":"2025-09-30T23:11:52.067975+07:00","level":"INFO","msg":"Warming exchange configuration cache"}
{"time":"2025-09-30T23:11:52.069286+07:00","level":"INFO","msg":"Exchange configuration cache warmed successfully"}
--- PASS: TestCacheWarmingService_warmExchangeConfig (0.00s)
=== RUN   TestCacheWarmingService_warmSupportedExchanges
{"time":"2025-09-30T23:11:52.074092+07:00","level":"INFO","msg":"Warming supported exchanges cache"}
{"time":"2025-09-30T23:11:52.075532+07:00","level":"INFO","msg":"Supported exchanges cache warmed successfully","count":2}
--- PASS: TestCacheWarmingService_warmSupportedExchanges (0.01s)
=== RUN   TestCacheWarmingService_warmTradingPairs
{"time":"2025-09-30T23:11:52.075809+07:00","level":"INFO","msg":"Warming trading pairs cache"}
--- PASS: TestCacheWarmingService_warmTradingPairs (0.00s)
=== RUN   TestCacheWarmingService_warmExchanges
{"time":"2025-09-30T23:11:52.075888+07:00","level":"INFO","msg":"Warming exchanges cache"}
--- PASS: TestCacheWarmingService_warmExchanges (0.00s)
=== RUN   TestCacheWarmingService_warmFundingRates
{"time":"2025-09-30T23:11:52.07595+07:00","level":"INFO","msg":"Warming funding rates cache"}
--- PASS: TestCacheWarmingService_warmFundingRates (0.00s)
=== RUN   TestCacheWarmingService_warmFundingRates_Success
{"time":"2025-09-30T23:11:52.076424+07:00","level":"INFO","msg":"Warming funding rates cache"}
--- PASS: TestCacheWarmingService_warmFundingRates_Success (0.00s)
=== RUN   TestCacheWarmingService_warmFundingRates_DatabaseError
{"time":"2025-09-30T23:11:52.076693+07:00","level":"INFO","msg":"Warming funding rates cache"}
--- PASS: TestCacheWarmingService_warmFundingRates_DatabaseError (0.00s)
=== RUN   TestCacheWarmingService_warmFundingRates_EmptyResults
{"time":"2025-09-30T23:11:52.077066+07:00","level":"INFO","msg":"Warming funding rates cache"}
--- PASS: TestCacheWarmingService_warmFundingRates_EmptyResults (0.00s)
=== RUN   TestCacheWarmingService_warmFundingRates_ScanError
{"time":"2025-09-30T23:11:52.077351+07:00","level":"INFO","msg":"Warming funding rates cache"}
--- PASS: TestCacheWarmingService_warmFundingRates_ScanError (0.00s)
=== RUN   TestCacheWarmingService_warmFundingRates_RedisError
{"time":"2025-09-30T23:11:52.077438+07:00","level":"INFO","msg":"Warming funding rates cache"}
--- PASS: TestCacheWarmingService_warmFundingRates_RedisError (0.00s)
=== RUN   TestCacheWarmingService_warmFundingRates_FullSuccess
{"time":"2025-09-30T23:11:52.077647+07:00","level":"INFO","msg":"Warming funding rates cache"}
--- PASS: TestCacheWarmingService_warmFundingRates_FullSuccess (0.00s)
=== RUN   TestCacheWarmingService_warmFundingRates_MultipleExchanges
{"time":"2025-09-30T23:11:52.077937+07:00","level":"INFO","msg":"Warming funding rates cache"}
--- PASS: TestCacheWarmingService_warmFundingRates_MultipleExchanges (0.00s)
=== RUN   TestCacheWarmingService_warmFundingRates_TimePrecision
{"time":"2025-09-30T23:11:52.078193+07:00","level":"INFO","msg":"Warming funding rates cache"}
--- PASS: TestCacheWarmingService_warmFundingRates_TimePrecision (0.00s)
=== RUN   TestCacheWarmingService_errorHandling
{"time":"2025-09-30T23:11:52.078312+07:00","level":"INFO","msg":"Starting cache warming"}
{"time":"2025-09-30T23:11:52.078327+07:00","level":"INFO","msg":"Warming exchange configuration cache"}
{"time":"2025-09-30T23:11:52.078348+07:00","level":"WARN","msg":"Failed to warm exchange config cache","error":"ccxt service is nil"}
{"time":"2025-09-30T23:11:52.078367+07:00","level":"INFO","msg":"Warming supported exchanges cache"}
{"time":"2025-09-30T23:11:52.078389+07:00","level":"WARN","msg":"Failed to warm supported exchanges cache","error":"ccxt service is nil"}
{"time":"2025-09-30T23:11:52.078402+07:00","level":"INFO","msg":"Warming trading pairs cache"}
{"time":"2025-09-30T23:11:52.078421+07:00","level":"WARN","msg":"Failed to warm trading pairs cache","error":"database is nil"}
{"time":"2025-09-30T23:11:52.078435+07:00","level":"INFO","msg":"Warming exchanges cache"}
{"time":"2025-09-30T23:11:52.078449+07:00","level":"WARN","msg":"Failed to warm exchanges cache","error":"database is nil"}
{"time":"2025-09-30T23:11:52.078462+07:00","level":"INFO","msg":"Warming funding rates cache"}
{"time":"2025-09-30T23:11:52.078474+07:00","level":"WARN","msg":"Failed to warm funding rates cache","error":"database is nil"}
{"time":"2025-09-30T23:11:52.078488+07:00","level":"INFO","msg":"Cache warming completed","duration_ms":0}
--- PASS: TestCacheWarmingService_errorHandling (0.00s)
=== RUN   TestCircuitBreaker_Basic
--- PASS: TestCircuitBreaker_Basic (0.00s)
=== RUN   TestCircuitBreaker_Execute
--- PASS: TestCircuitBreaker_Execute (0.00s)
=== RUN   TestCircuitBreaker_ExecuteWithError
time="2025-09-30T23:11:52+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=test-breaker duration_ms=0 error="test error" failure_count=1 state=closed
--- PASS: TestCircuitBreaker_ExecuteWithError (0.00s)
=== RUN   TestCircuitBreaker_GetState
--- PASS: TestCircuitBreaker_GetState (0.00s)
=== RUN   TestCircuitBreaker_GetStats
--- PASS: TestCircuitBreaker_GetStats (0.00s)
=== RUN   TestCircuitBreaker_IsOpen
--- PASS: TestCircuitBreaker_IsOpen (0.00s)
=== RUN   TestCircuitBreaker_Reset
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=test-breaker
--- PASS: TestCircuitBreaker_Reset (0.00s)
=== RUN   TestCircuitBreaker_ConcurrentAccess
--- PASS: TestCircuitBreaker_ConcurrentAccess (0.00s)
=== RUN   TestCircuitBreaker_ConfigDefaults
--- PASS: TestCircuitBreaker_ConfigDefaults (0.00s)
=== RUN   TestCircuitBreaker_ContextCancellation
--- PASS: TestCircuitBreaker_ContextCancellation (0.00s)
=== RUN   TestCircuitBreaker_StateManagement
--- PASS: TestCircuitBreaker_StateManagement (0.00s)
=== RUN   TestCircuitBreaker_ErrorScenarios
time="2025-09-30T23:11:52+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=test-breaker duration_ms=0 error="callback error" failure_count=1 state=closed
--- PASS: TestCircuitBreaker_ErrorScenarios (0.00s)
=== RUN   TestCircuitBreakerManager_GetAllStats_Empty
--- PASS: TestCircuitBreakerManager_GetAllStats_Empty (0.00s)
=== RUN   TestCircuitBreakerManager_GetAllStats_WithBreakers
--- PASS: TestCircuitBreakerManager_GetAllStats_WithBreakers (0.00s)
=== RUN   TestCircuitBreakerManager_GetAllStats_ConcurrentAccess
--- PASS: TestCircuitBreakerManager_GetAllStats_ConcurrentAccess (0.00s)
=== RUN   TestCircuitBreakerManager_ResetAll_Empty
--- PASS: TestCircuitBreakerManager_ResetAll_Empty (0.00s)
=== RUN   TestCircuitBreakerManager_ResetAll_WithBreakers
time="2025-09-30T23:11:52+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=breaker1 duration_ms=0 error="test error" failure_count=1 state=closed
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker state changed" circuit_breaker=breaker1 failure_count=2 new_state=open old_state=closed
time="2025-09-30T23:11:52+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=breaker1 duration_ms=0 error="test error" failure_count=2 state=open
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker state changed" circuit_breaker=breaker1 failure_count=2 new_state=closed old_state=open
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker1
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker2
--- PASS: TestCircuitBreakerManager_ResetAll_WithBreakers (0.00s)
=== RUN   TestCircuitBreakerManager_ResetAll_ConcurrentAccess
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-0
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-2
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-4
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-1
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-5
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-5
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-2
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-5
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-4
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-3
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-8
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-0
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-8
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-0
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-8
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-0
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-6
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-7
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-9
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-2
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-4
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-1
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-5
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-3
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-6
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-7
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-9
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-5
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-8
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-1
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-0
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-8
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-2
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-4
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-3
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-1
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-6
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-7
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-9
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-2
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-3
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-6
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-1
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-7
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-3
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-6
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-7
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-4
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-9
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=breaker-9
--- PASS: TestCircuitBreakerManager_ResetAll_ConcurrentAccess (0.00s)
=== RUN   TestCircuitBreakerManager_GetAllStats_AfterReset
time="2025-09-30T23:11:52+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=test-breaker duration_ms=0 error="test error" failure_count=1 state=closed
time="2025-09-30T23:11:52+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=test-breaker duration_ms=0 error="test error" failure_count=1 state=closed
time="2025-09-30T23:11:52+07:00" level=info msg="Circuit breaker manually reset" circuit_breaker=test-breaker
--- PASS: TestCircuitBreakerManager_GetAllStats_AfterReset (0.00s)
=== RUN   TestNewCleanupService
2025/09/30 23:11:52 INFO Initializing telemetry enabled=false otlp_endpoint=http://localhost:4318 service_name=github.com/irfandi/celebrum-ai-go service_version=1.0.0
2025/09/30 23:11:52 INFO Telemetry disabled
--- PASS: TestNewCleanupService (0.00s)
=== RUN   TestCleanupService_Start
{"time":"2025-09-30T23:11:52.084452+07:00","level":"INFO","msg":"Starting cleanup service with smart cleanup","market_data_retention_hours":36,"market_data_deletion_hours":12}
{"time":"2025-09-30T23:11:52.084584+07:00","level":"INFO","msg":"Starting cleanup process","smart_cleanup":true}
time="2025-09-30T23:11:52+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="database pool is not available" operation=get_stats_before
{"time":"2025-09-30T23:11:52.095588+07:00","level":"INFO","msg":"Stopping cleanup service"}
--- PASS: TestCleanupService_Start (0.02s)
=== RUN   TestCleanupService_RunCleanup
{"time":"2025-09-30T23:11:52.106953+07:00","level":"INFO","msg":"Starting cleanup process","smart_cleanup":true}
time="2025-09-30T23:11:52+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="database pool is not available" operation=get_stats_before
{"time":"2025-09-30T23:11:52.198269+07:00","level":"WARN","msg":"Failed to get data statistics before cleanup","error":"context canceled"}
{"time":"2025-09-30T23:11:52.198317+07:00","level":"INFO","msg":"Using smart cleanup strategy","market_data_retention_hours":36,"market_data_deletion_hours":12,"funding_rates_retention_hours":36,"funding_rates_deletion_hours":12}
time="2025-09-30T23:11:52+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="failed to cleanup market data: context canceled" operation=initial_cleanup
time="2025-09-30T23:11:52+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="database pool is not available" operation=get_stats_before
{"time":"2025-09-30T23:11:52.312125+07:00","level":"ERROR","msg":"Initial cleanup failed","error":"context canceled"}
time="2025-09-30T23:11:52+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="database pool is not available" operation=get_stats_before
time="2025-09-30T23:11:52+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=790.388417ms error="database pool is not available" operation=get_stats_before
{"time":"2025-09-30T23:11:52.89745+07:00","level":"WARN","msg":"Failed to get data statistics before cleanup","error":"database pool is not available"}
{"time":"2025-09-30T23:11:52.897503+07:00","level":"INFO","msg":"Using smart cleanup strategy","market_data_retention_hours":36,"market_data_deletion_hours":12,"funding_rates_retention_hours":36,"funding_rates_deletion_hours":12}
time="2025-09-30T23:11:52+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="database pool is not available" operation=cleanup_market_data_smart
time="2025-09-30T23:11:53+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="database pool is not available" operation=cleanup_market_data_smart
time="2025-09-30T23:11:53+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="database pool is not available" operation=cleanup_market_data_smart
time="2025-09-30T23:11:53+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=791.061834ms error="database pool is not available" operation=cleanup_market_data_smart
--- PASS: TestCleanupService_RunCleanup (1.58s)
=== RUN   TestCleanupService_GetDataStats
--- PASS: TestCleanupService_GetDataStats (0.00s)
=== RUN   TestCleanupService_GetDataStats_WithError
--- PASS: TestCleanupService_GetDataStats_WithError (0.00s)
=== RUN   TestCleanupService_CleanupMarketDataSmart
--- PASS: TestCleanupService_CleanupMarketDataSmart (0.00s)
=== RUN   TestCleanupService_CleanupFundingRatesSmart
--- PASS: TestCleanupService_CleanupFundingRatesSmart (0.00s)
=== RUN   TestCleanupService_CleanupArbitrageOpportunities
--- PASS: TestCleanupService_CleanupArbitrageOpportunities (0.00s)
=== RUN   TestCleanupService_CleanupFundingArbitrageOpportunities
--- PASS: TestCleanupService_CleanupFundingArbitrageOpportunities (0.00s)
=== RUN   TestCleanupService_CleanupMarketData
--- PASS: TestCleanupService_CleanupMarketData (0.00s)
=== RUN   TestCleanupService_CleanupFundingRates
--- PASS: TestCleanupService_CleanupFundingRates (0.00s)
=== RUN   TestCleanupService_CleanupMarketData_WithRealDatabase
{"time":"2025-09-30T23:11:53.689872+07:00","level":"INFO","msg":"Smart cleanup: Removed market data records","records_deleted":5,"retention_hours":36,"buffer_hours":24}
--- PASS: TestCleanupService_CleanupMarketData_WithRealDatabase (0.00s)
=== RUN   TestCleanupService_CleanupFundingRates_WithRealDatabase
{"time":"2025-09-30T23:11:53.690163+07:00","level":"INFO","msg":"Smart cleanup: Removed funding rate records","records_deleted":3,"retention_hours":36,"buffer_hours":24}
--- PASS: TestCleanupService_CleanupFundingRates_WithRealDatabase (0.00s)
=== RUN   TestCleanupService_CleanupMarketData_ContextCancellation
--- PASS: TestCleanupService_CleanupMarketData_ContextCancellation (0.00s)
=== RUN   TestCleanupService_CleanupFundingRates_ContextCancellation
--- PASS: TestCleanupService_CleanupFundingRates_ContextCancellation (0.00s)
=== RUN   TestCleanupService_CleanupMarketData_NegativeRetention
--- PASS: TestCleanupService_CleanupMarketData_NegativeRetention (0.00s)
=== RUN   TestCleanupService_CleanupFundingRates_ZeroRetention
--- PASS: TestCleanupService_CleanupFundingRates_ZeroRetention (0.00s)
=== RUN   TestCleanupService_CleanupMarketDataSmart_WithError
--- PASS: TestCleanupService_CleanupMarketDataSmart_WithError (0.00s)
=== RUN   TestCleanupService_Stop
{"time":"2025-09-30T23:11:53.690487+07:00","level":"INFO","msg":"Stopping cleanup service"}
--- PASS: TestCleanupService_Stop (0.00s)
=== RUN   TestCleanupService_ContextCancellation
{"time":"2025-09-30T23:11:53.690559+07:00","level":"INFO","msg":"Starting cleanup service with smart cleanup","market_data_retention_hours":36,"market_data_deletion_hours":12}
{"time":"2025-09-30T23:11:53.690639+07:00","level":"INFO","msg":"Starting cleanup process","smart_cleanup":true}
time="2025-09-30T23:11:53+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="database pool is not available" operation=get_stats_before
{"time":"2025-09-30T23:11:53.700926+07:00","level":"INFO","msg":"Stopping cleanup service"}
--- PASS: TestCleanupService_ContextCancellation (0.02s)
=== RUN   TestNewCollectorService
{"time":"2025-09-30T23:11:53.711581+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.711641+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.711758+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
--- PASS: TestNewCollectorService (0.00s)
=== RUN   TestCollectorService_Start
{"time":"2025-09-30T23:11:53.712122+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.712193+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.712325+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
{"time":"2025-09-30T23:11:53.712348+07:00","level":"INFO","msg":"Starting market data collector service..."}
{"time":"2025-09-30T23:11:53.712484+07:00","level":"INFO","msg":"Market data collector service started","workers_initializing":true}
{"time":"2025-09-30T23:11:53.712501+07:00","level":"INFO","msg":"Starting background symbol collection and worker initialization..."}
{"time":"2025-09-30T23:11:53.712673+07:00","level":"WARN","msg":"Database not available, returning all exchanges"}
{"time":"2025-09-30T23:11:53.712729+07:00","level":"INFO","msg":"Collecting symbols from exchanges concurrently","exchange_count":0,"max_concurrent":16,"purpose":"arbitrage_filtering"}
{"time":"2025-09-30T23:11:53.712796+07:00","level":"WARN","msg":"Concurrent symbol collection failed, falling back to sequential processing","error":"insufficient successful exchanges (0), need at least 2"}
{"time":"2025-09-30T23:11:53.712838+07:00","level":"INFO","msg":"Starting sequential symbol collection","exchange_count":0}
{"time":"2025-09-30T23:11:53.712867+07:00","level":"INFO","msg":"Sequential symbol collection completed","symbols_on_multiple_exchanges":0,"min_exchanges":2,"total_unique_symbols":0,"successful_exchanges":0}
{"time":"2025-09-30T23:11:53.712894+07:00","level":"INFO","msg":"Background initialization complete","workers_started":0}
{"time":"2025-09-30T23:11:53.80429+07:00","level":"WARN","msg":"Failed to get data statistics before cleanup","error":"context canceled"}
{"time":"2025-09-30T23:11:53.804328+07:00","level":"INFO","msg":"Using smart cleanup strategy","market_data_retention_hours":36,"market_data_deletion_hours":12,"funding_rates_retention_hours":36,"funding_rates_deletion_hours":12}
time="2025-09-30T23:11:53+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="failed to cleanup market data: context canceled" operation=initial_cleanup
{"time":"2025-09-30T23:11:53.813638+07:00","level":"INFO","msg":"Stopping market data collector service..."}
{"time":"2025-09-30T23:11:53.813686+07:00","level":"INFO","msg":"Market data collector service stopped"}
--- PASS: TestCollectorService_Start (0.10s)
=== RUN   TestCollectorService_Stop
{"time":"2025-09-30T23:11:53.81414+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.814172+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.814229+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
{"time":"2025-09-30T23:11:53.814249+07:00","level":"INFO","msg":"Stopping market data collector service..."}
{"time":"2025-09-30T23:11:53.814264+07:00","level":"INFO","msg":"Market data collector service stopped"}
--- PASS: TestCollectorService_Stop (0.00s)
=== RUN   TestCollectorService_GetWorkerStatus
{"time":"2025-09-30T23:11:53.81436+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.814387+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.81442+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
--- PASS: TestCollectorService_GetWorkerStatus (0.00s)
=== RUN   TestCollectorService_IsHealthy
{"time":"2025-09-30T23:11:53.814528+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.814549+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.814591+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
--- PASS: TestCollectorService_IsHealthy (0.00s)
=== RUN   TestCollectorService_RestartWorker
{"time":"2025-09-30T23:11:53.8147+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.814721+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.814758+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
{"time":"2025-09-30T23:11:53.814799+07:00","level":"INFO","msg":"Restarted worker","exchange":"binance"}
--- PASS: TestCollectorService_RestartWorker (0.00s)
{"time":"2025-09-30T23:11:53.81492+07:00","level":"INFO","msg":"Worker started","exchange":"binance","symbols":0,"ticker_interval":300000000000,"funding_interval":900000000000}
=== RUN   TestWorker_Struct
--- PASS: TestWorker_Struct (0.00s)
=== RUN   TestCollectorConfig_Struct
--- PASS: TestCollectorConfig_Struct (0.00s)
=== RUN   TestCollectorService_ValidateMarketData
=== RUN   TestCollectorService_ValidateMarketData/valid_data
=== RUN   TestCollectorService_ValidateMarketData/zero_price
=== RUN   TestCollectorService_ValidateMarketData/negative_price
=== RUN   TestCollectorService_ValidateMarketData/extremely_high_price
=== RUN   TestCollectorService_ValidateMarketData/negative_volume
=== RUN   TestCollectorService_ValidateMarketData/future_timestamp
=== RUN   TestCollectorService_ValidateMarketData/old_timestamp
--- PASS: TestCollectorService_ValidateMarketData (0.00s)
    --- PASS: TestCollectorService_ValidateMarketData/valid_data (0.00s)
    --- PASS: TestCollectorService_ValidateMarketData/zero_price (0.00s)
    --- PASS: TestCollectorService_ValidateMarketData/negative_price (0.00s)
    --- PASS: TestCollectorService_ValidateMarketData/extremely_high_price (0.00s)
    --- PASS: TestCollectorService_ValidateMarketData/negative_volume (0.00s)
    --- PASS: TestCollectorService_ValidateMarketData/future_timestamp (0.00s)
    --- PASS: TestCollectorService_ValidateMarketData/old_timestamp (0.00s)
=== RUN   TestCollectorService_ParseSymbol
{"time":"2025-09-30T23:11:53.815771+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.815794+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.815833+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
=== RUN   TestCollectorService_ParseSymbol/standard_slash_format
=== RUN   TestCollectorService_ParseSymbol/futures_format_with_settlement
=== RUN   TestCollectorService_ParseSymbol/concatenated_format_USDT
=== RUN   TestCollectorService_ParseSymbol/concatenated_format_USD
=== RUN   TestCollectorService_ParseSymbol/invalid_symbol
--- PASS: TestCollectorService_ParseSymbol (0.00s)
    --- PASS: TestCollectorService_ParseSymbol/standard_slash_format (0.00s)
    --- PASS: TestCollectorService_ParseSymbol/futures_format_with_settlement (0.00s)
    --- PASS: TestCollectorService_ParseSymbol/concatenated_format_USDT (0.00s)
    --- PASS: TestCollectorService_ParseSymbol/concatenated_format_USD (0.00s)
    --- PASS: TestCollectorService_ParseSymbol/invalid_symbol (0.00s)
=== RUN   TestCollectorService_IsOptionsContract
{"time":"2025-09-30T23:11:53.816185+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.816207+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.816245+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
=== RUN   TestCollectorService_IsOptionsContract/call_option
=== RUN   TestCollectorService_IsOptionsContract/put_option
=== RUN   TestCollectorService_IsOptionsContract/regular_spot_pair
=== RUN   TestCollectorService_IsOptionsContract/futures_pair
--- PASS: TestCollectorService_IsOptionsContract (0.00s)
    --- PASS: TestCollectorService_IsOptionsContract/call_option (0.00s)
    --- PASS: TestCollectorService_IsOptionsContract/put_option (0.00s)
    --- PASS: TestCollectorService_IsOptionsContract/regular_spot_pair (0.00s)
    --- PASS: TestCollectorService_IsOptionsContract/futures_pair (0.00s)
=== RUN   TestCollectorService_IsInvalidSymbolFormat
{"time":"2025-09-30T23:11:53.816574+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.816766+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.816834+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
=== RUN   TestCollectorService_IsInvalidSymbolFormat/valid_short_symbol
=== RUN   TestCollectorService_IsInvalidSymbolFormat/too_long_symbol
=== RUN   TestCollectorService_IsInvalidSymbolFormat/multiple_colons
=== RUN   TestCollectorService_IsInvalidSymbolFormat/complex_derivative
--- PASS: TestCollectorService_IsInvalidSymbolFormat (0.00s)
    --- PASS: TestCollectorService_IsInvalidSymbolFormat/valid_short_symbol (0.00s)
    --- PASS: TestCollectorService_IsInvalidSymbolFormat/too_long_symbol (0.00s)
    --- PASS: TestCollectorService_IsInvalidSymbolFormat/multiple_colons (0.00s)
    --- PASS: TestCollectorService_IsInvalidSymbolFormat/complex_derivative (0.00s)
=== RUN   TestCollectorService_CacheBulkTickerData
{"time":"2025-09-30T23:11:53.81768+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.81771+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.817747+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
--- PASS: TestCollectorService_CacheBulkTickerData (0.00s)
=== RUN   TestCollectorService_CacheBulkTickerData_WithRedis
{"time":"2025-09-30T23:11:53.818147+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.818171+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.818214+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
{"time":"2025-09-30T23:11:53.819199+07:00","level":"INFO","msg":"Cached tickers in Redis","count":2,"exchange":"binance","ttl":"10s"}
--- PASS: TestCollectorService_CacheBulkTickerData_WithRedis (0.00s)
=== RUN   TestCollectorService_SaveBulkTickerData
{"time":"2025-09-30T23:11:53.819941+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.820096+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.820141+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
--- PASS: TestCollectorService_SaveBulkTickerData (0.00s)
=== RUN   TestCollectorService_SaveBulkTickerData_NilDatabase
{"time":"2025-09-30T23:11:53.820369+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.820458+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.820504+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
--- PASS: TestCollectorService_SaveBulkTickerData_NilDatabase (0.00s)
=== RUN   TestCollectorService_SaveBulkTickerData_InvalidData
{"time":"2025-09-30T23:11:53.82062+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.820642+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.820812+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
2025/09/30 23:11:53 Blacklisted symbol binance:BTC/USDT for invalid_price (TTL: 1h0m0s)
{"time":"2025-09-30T23:11:53.820862+07:00","level":"INFO","msg":"Added symbol to blacklist","symbol":"binance:BTC/USDT","reason":"invalid_price"}
--- PASS: TestCollectorService_SaveBulkTickerData_InvalidData (0.00s)
=== RUN   TestCollectorService_CollectTickerDataDirect
{"time":"2025-09-30T23:11:53.82113+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.821157+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.821248+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
2025/09/30 23:11:53 Blacklisted symbol binance:BTC/USDT for invalid_data (TTL: 1h0m0s)
{"time":"2025-09-30T23:11:53.821394+07:00","level":"INFO","msg":"Skipping blacklisted symbol","symbol":"binance:BTC/USDT","reason":"invalid_data"}
--- PASS: TestCollectorService_CollectTickerDataDirect (0.00s)
=== RUN   TestCollectorService_CollectTickerDataDirect_WithMockCCXT
{"time":"2025-09-30T23:11:53.825301+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.82535+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.825411+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
--- PASS: TestCollectorService_CollectTickerDataDirect_WithMockCCXT (0.00s)
=== RUN   TestCollectorService_CollectTickerDataDirect_CCXErrorWithBlacklist
{"time":"2025-09-30T23:11:53.825757+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:53.82578+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:53.825815+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
time="2025-09-30T23:11:53+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="invalid symbol: symbol not found" operation=ccxt_single_fetch
{"time":"2025-09-30T23:11:53.917525+07:00","level":"ERROR","msg":"Initial cleanup failed","error":"context canceled"}
time="2025-09-30T23:11:53+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="invalid symbol: symbol not found" operation=ccxt_single_fetch
time="2025-09-30T23:11:54+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="invalid symbol: symbol not found" operation=ccxt_single_fetch
time="2025-09-30T23:11:54+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=792.171083ms error="invalid symbol: symbol not found" operation=ccxt_single_fetch
time="2025-09-30T23:11:54+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=ccxt duration_ms=792 error="invalid symbol: symbol not found" failure_count=1 state=closed
2025/09/30 23:11:54 Blacklisted symbol binance:INVALID/USDT for symbol_not_found (TTL: 1h0m0s)
{"time":"2025-09-30T23:11:54.618459+07:00","level":"INFO","msg":"Added symbol to blacklist with error","symbol":"binance:INVALID/USDT","reason":"symbol_not_found","error":"invalid symbol: symbol not found"}
--- PASS: TestCollectorService_CollectTickerDataDirect_CCXErrorWithBlacklist (0.79s)
=== RUN   TestCollectorService_CollectFundingRates
{"time":"2025-09-30T23:11:54.619506+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:54.619577+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:54.619695+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
{"time":"2025-09-30T23:11:54.619772+07:00","level":"INFO","msg":"Starting concurrent funding rate collection","exchange":"binance"}
time="2025-09-30T23:11:54+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:54+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:55+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:55+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=873.63975ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:55+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=ccxt duration_ms=873 error="funding rates not supported" failure_count=1 state=closed
{"time":"2025-09-30T23:11:55.493616+07:00","level":"INFO","msg":"Exchange does not support funding rates, caching this information","exchange":"binance"}
--- PASS: TestCollectorService_CollectFundingRates (0.87s)
=== RUN   TestCollectorService_CollectFundingRatesBulk
{"time":"2025-09-30T23:11:55.493955+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:55.493986+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:55.494055+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
{"time":"2025-09-30T23:11:55.494111+07:00","level":"INFO","msg":"Starting concurrent funding rate collection","exchange":"binance"}
time="2025-09-30T23:11:55+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:55+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:55+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:56+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=793.362083ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:56+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=ccxt duration_ms=793 error="funding rates not supported" failure_count=1 state=closed
{"time":"2025-09-30T23:11:56.287875+07:00","level":"INFO","msg":"Exchange does not support funding rates, caching this information","exchange":"binance"}
{"time":"2025-09-30T23:11:56.288177+07:00","level":"INFO","msg":"Starting concurrent funding rate collection","exchange":"binance"}
{"time":"2025-09-30T23:11:56.289036+07:00","level":"INFO","msg":"Skipping funding rate collection - exchange does not support funding rates","exchange":"binance"}
--- PASS: TestCollectorService_CollectFundingRatesBulk (0.80s)
=== RUN   TestCollectorService_StoreFundingRate
{"time":"2025-09-30T23:11:56.289696+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:56.289731+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:56.28981+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
--- PASS: TestCollectorService_StoreFundingRate (0.00s)
=== RUN   TestCollectorService_CollectFundingRatesBulk_CapabilityCaching
{"time":"2025-09-30T23:11:56.29177+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:56.291801+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:56.291844+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
{"time":"2025-09-30T23:11:56.291877+07:00","level":"INFO","msg":"Starting concurrent funding rate collection","exchange":"binance"}
time="2025-09-30T23:11:56+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:56+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:56+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:57+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=791.269291ms error="funding rates not supported" operation=ccxt_funding_rates
time="2025-09-30T23:11:57+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=ccxt duration_ms=791 error="funding rates not supported" failure_count=1 state=closed
{"time":"2025-09-30T23:11:57.083327+07:00","level":"INFO","msg":"Exchange does not support funding rates, caching this information","exchange":"binance"}
{"time":"2025-09-30T23:11:57.083381+07:00","level":"INFO","msg":"Starting concurrent funding rate collection","exchange":"binance"}
{"time":"2025-09-30T23:11:57.083398+07:00","level":"INFO","msg":"Skipping funding rate collection - exchange does not support funding rates","exchange":"binance"}
--- PASS: TestCollectorService_CollectFundingRatesBulk_CapabilityCaching (0.79s)
=== RUN   TestCollectorService_CollectFundingRatesBulk_CCXTErrors
{"time":"2025-09-30T23:11:57.083601+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:57.08363+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:57.083698+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
{"time":"2025-09-30T23:11:57.083729+07:00","level":"INFO","msg":"Starting concurrent funding rate collection","exchange":"binance"}
time="2025-09-30T23:11:57+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="exchange API error" operation=ccxt_funding_rates
time="2025-09-30T23:11:57+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="exchange API error" operation=ccxt_funding_rates
time="2025-09-30T23:11:57+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="exchange API error" operation=ccxt_funding_rates
time="2025-09-30T23:11:57+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=856.328667ms error="exchange API error" operation=ccxt_funding_rates
time="2025-09-30T23:11:57+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=ccxt duration_ms=856 error="exchange API error" failure_count=1 state=closed
--- PASS: TestCollectorService_CollectFundingRatesBulk_CCXTErrors (0.86s)
=== RUN   TestCollectorService_CollectFundingRatesBulk_Concurrent
{"time":"2025-09-30T23:11:57.942059+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:11:57.942162+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:11:57.942314+07:00","level":"INFO","msg":"Redis client not available, using in-memory symbol cache"}
{"time":"2025-09-30T23:11:57.942447+07:00","level":"INFO","msg":"Starting concurrent funding rate collection","exchange":"binance"}
time="2025-09-30T23:11:57+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="funding rates not available" operation=ccxt_funding_rates
time="2025-09-30T23:11:58+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="funding rates not available" operation=ccxt_funding_rates
time="2025-09-30T23:11:58+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="funding rates not available" operation=ccxt_funding_rates
time="2025-09-30T23:11:58+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=800.96725ms error="funding rates not available" operation=ccxt_funding_rates
time="2025-09-30T23:11:58+07:00" level=warning msg="Circuit breaker: failed execution" circuit_breaker=ccxt duration_ms=801 error="funding rates not available" failure_count=1 state=closed
--- PASS: TestCollectorService_CollectFundingRatesBulk_Concurrent (0.80s)
=== RUN   TestSymbolCache_Get
--- PASS: TestSymbolCache_Get (0.00s)
=== RUN   TestSymbolCache_Set
--- PASS: TestSymbolCache_Set (0.00s)
=== RUN   TestSymbolCache_GetStats
--- PASS: TestSymbolCache_GetStats (0.00s)
=== RUN   TestSymbolCache_ConcurrentOperations
--- PASS: TestSymbolCache_ConcurrentOperations (0.00s)
=== RUN   TestSymbolCache_EdgeCases
--- PASS: TestSymbolCache_EdgeCases (0.00s)
=== RUN   TestSymbolCache_LogStats
{"time":"2025-09-30T23:11:58.747693+07:00","level":"INFO","msg":"Symbol Cache Stats","hits":0,"misses":0,"sets":0,"hit_rate_percent":0}
{"time":"2025-09-30T23:11:58.74779+07:00","level":"INFO","msg":"Symbol Cache Stats","hits":1,"misses":1,"sets":1,"hit_rate_percent":50}
--- PASS: TestSymbolCache_LogStats (0.00s)
=== RUN   TestCollectorService_ConvertMarketPriceInterfacesToModels
--- PASS: TestCollectorService_ConvertMarketPriceInterfacesToModels (0.00s)
=== RUN   TestCollectorService_ConvertMarketPriceInterfaceToModel
--- PASS: TestCollectorService_ConvertMarketPriceInterfaceToModel (0.00s)
=== RUN   TestCollectorService_ConvertMarketPriceInterfaceToModel_FunctionalInterface
--- PASS: TestCollectorService_ConvertMarketPriceInterfaceToModel_FunctionalInterface (0.00s)
=== RUN   TestEnhancedArbitrageSignalFormatting

=== Enhanced Arbitrage Signal Format ===
 *ARBITRAGE ALERT: BTC/USDT*

 Profit: *0.80% - 1.40%* ($160 - $280 on $20000)
 BUY: $41750.5000 - $41850.7500 (Binance, Kraken, OKX, Bybit, KuCoin)
 SELL: $42250.8000 - $42350.9000 (Coinbase, Gate.io, MEXC)
 Valid for: *5 minutes*
 Min Volume: *$10000*
 Opportunities: *8*
 Confidence: *85.0%*

 *Act fast!* Arbitrage opportunities disappear quickly.
 *Min Volume* helps filter out low-liquidity fake signals.
==========================================
=== Signal Metadata JSON ===
{
  "buy_exchanges": [
    "Binance",
    "Kraken",
    "OKX",
    "Bybit",
    "KuCoin"
  ],
  "buy_price_range": {
    "avg": "41800.25",
    "max": "41850.75",
    "min": "41750.5"
  },
  "min_volume": "10000",
  "opportunity_count": 8,
  "profit_range": {
    "avg_dollar": "240",
    "avg_percent": "1.2",
    "base_amount": "20000",
    "max_dollar": "280",
    "max_percent": "1.4",
    "min_dollar": "160",
    "min_percent": "0.8"
  },
  "sell_exchanges": [
    "Coinbase",
    "Gate.io",
    "MEXC"
  ],
  "sell_price_range": {
    "avg": "42300.85",
    "max": "42350.9",
    "min": "42250.8"
  },
  "validity_minutes": 5
}
============================
--- PASS: TestEnhancedArbitrageSignalFormatting (0.00s)
=== RUN   TestArbitragePriceRangeCalculation

=== Price Range Calculations ===
Buy Range: $41750.5 - $41850.75 (avg: $41799.51)
Sell Range: $42250.8 - $42350.9 (avg: $42294.05)
Profit Range: 1.0% - 1.4% (avg: 1.2%)
Dollar Range: $191 - $288 (avg: $237 on $20000)
=================================
--- PASS: TestArbitragePriceRangeCalculation (0.00s)
=== RUN   TestErrorRecoveryManager_NewErrorRecoveryManager
--- PASS: TestErrorRecoveryManager_NewErrorRecoveryManager (0.00s)
=== RUN   TestErrorRecoveryManager_RegisterCircuitBreaker
--- PASS: TestErrorRecoveryManager_RegisterCircuitBreaker (0.00s)
=== RUN   TestErrorRecoveryManager_RegisterRetryPolicy
--- PASS: TestErrorRecoveryManager_RegisterRetryPolicy (0.00s)
=== RUN   TestErrorRecoveryManager_ExecuteWithRecovery_Success
--- PASS: TestErrorRecoveryManager_ExecuteWithRecovery_Success (0.00s)
=== RUN   TestErrorRecoveryManager_ExecuteWithRecovery_Failure
--- PASS: TestErrorRecoveryManager_ExecuteWithRecovery_Failure (0.00s)
=== RUN   TestErrorRecoveryManager_ExecuteWithRecovery_Fallback
--- PASS: TestErrorRecoveryManager_ExecuteWithRecovery_Fallback (0.00s)
=== RUN   TestErrorRecoveryManager_ExecuteWithRetry
--- PASS: TestErrorRecoveryManager_ExecuteWithRetry (0.03s)
=== RUN   TestErrorRecoveryManager_ExecuteWithRetry_ContextCancellation
--- PASS: TestErrorRecoveryManager_ExecuteWithRetry_ContextCancellation (0.10s)
=== RUN   TestErrorRecoveryManager_CalculateDelay
--- PASS: TestErrorRecoveryManager_CalculateDelay (0.00s)
=== RUN   TestErrorRecoveryManager_DegradationMode
time="2025-09-30T23:11:58+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:58+07:00" level=info msg="Error recovery manager exited degradation mode"
--- PASS: TestErrorRecoveryManager_DegradationMode (0.00s)
=== RUN   TestErrorRecoveryManager_GetCircuitBreakerStatus
--- PASS: TestErrorRecoveryManager_GetCircuitBreakerStatus (0.00s)
=== RUN   TestErrorRecoveryManager_ExecuteWithRetry_ErrorOnly
--- PASS: TestErrorRecoveryManager_ExecuteWithRetry_ErrorOnly (0.00s)
=== RUN   TestErrorRecoveryManager_ExecuteWithRetry_ErrorOnly_WithRetries
time="2025-09-30T23:11:58+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=10ms error="temporary failure" operation=test_operation
time="2025-09-30T23:11:58+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=20ms error="temporary failure" operation=test_operation
time="2025-09-30T23:11:58+07:00" level=info msg="Operation recovered after retry" attempts=3 duration=31.431791ms operation=test_operation
--- PASS: TestErrorRecoveryManager_ExecuteWithRetry_ErrorOnly_WithRetries (0.03s)
=== RUN   TestErrorRecoveryManager_DefaultRetryPolicies
--- PASS: TestErrorRecoveryManager_DefaultRetryPolicies (0.00s)
=== RUN   TestErrorRecoveryManager_ConcurrentOperations
--- PASS: TestErrorRecoveryManager_ConcurrentOperations (0.03s)
=== RUN   TestErrorRecoveryManager_TimeHandling
--- PASS: TestErrorRecoveryManager_TimeHandling (0.05s)
=== RUN   TestErrorRecoveryManager_StateManagement
time="2025-09-30T23:11:58+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:58+07:00" level=info msg="Error recovery manager exited degradation mode"
time="2025-09-30T23:11:58+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:58+07:00" level=info msg="Error recovery manager exited degradation mode"
time="2025-09-30T23:11:58+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:58+07:00" level=info msg="Error recovery manager exited degradation mode"
time="2025-09-30T23:11:58+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:58+07:00" level=info msg="Error recovery manager exited degradation mode"
time="2025-09-30T23:11:58+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:58+07:00" level=info msg="Error recovery manager exited degradation mode"
time="2025-09-30T23:11:58+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:58+07:00" level=info msg="Error recovery manager exited degradation mode"
time="2025-09-30T23:11:58+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:58+07:00" level=info msg="Error recovery manager exited degradation mode"
time="2025-09-30T23:11:58+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:58+07:00" level=info msg="Error recovery manager exited degradation mode"
time="2025-09-30T23:11:58+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:58+07:00" level=info msg="Error recovery manager exited degradation mode"
time="2025-09-30T23:11:58+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:58+07:00" level=info msg="Error recovery manager exited degradation mode"
time="2025-09-30T23:11:59+07:00" level=warning msg="Error recovery manager entered degradation mode"
time="2025-09-30T23:11:59+07:00" level=info msg="Error recovery manager exited degradation mode"
--- PASS: TestErrorRecoveryManager_StateManagement (0.00s)
=== RUN   TestFuturesArbitrageCalculator_calculateLiquidityScore
    futures_arbitrage_calculator_comprehensive_test.go:28: Actual score: 99.999
    futures_arbitrage_calculator_comprehensive_test.go:41: Wide spread score: 97
    futures_arbitrage_calculator_comprehensive_test.go:56: Large amount score: 93.999
    futures_arbitrage_calculator_comprehensive_test.go:71: Small amount score: 99.999
--- PASS: TestFuturesArbitrageCalculator_calculateLiquidityScore (0.00s)
=== RUN   TestFuturesArbitrageCalculator_calculateNextFundingTime
--- PASS: TestFuturesArbitrageCalculator_calculateNextFundingTime (0.00s)
=== RUN   TestFuturesArbitrageCalculator_calculatePriceCorrelation
--- PASS: TestFuturesArbitrageCalculator_calculatePriceCorrelation (0.00s)
=== RUN   TestFuturesArbitrageCalculator_calculatePearsonCorrelation
--- PASS: TestFuturesArbitrageCalculator_calculatePearsonCorrelation (0.00s)
=== RUN   TestFuturesArbitrageCalculator_CalculateFuturesArbitrage
--- PASS: TestFuturesArbitrageCalculator_CalculateFuturesArbitrage (0.00s)
=== RUN   TestFuturesArbitrageCalculator_CalculatePositionSizing
--- PASS: TestFuturesArbitrageCalculator_CalculatePositionSizing (0.00s)
=== RUN   TestFuturesArbitrageCalculator_CalculateRiskScore
--- PASS: TestFuturesArbitrageCalculator_CalculateRiskScore (0.00s)
=== RUN   TestFuturesArbitrageCalculator_CalculateRiskMetrics
--- PASS: TestFuturesArbitrageCalculator_CalculateRiskMetrics (0.00s)
=== RUN   TestFuturesArbitrageCalculator_CalculateAPY
    futures_arbitrage_calculator_comprehensive_test.go:397: Hourly rate: 0.001, APY: 634527.2539057519
--- PASS: TestFuturesArbitrageCalculator_CalculateAPY (0.00s)
=== RUN   TestFuturesArbitrageCalculator_calculatePeriodProfit
--- PASS: TestFuturesArbitrageCalculator_calculatePeriodProfit (0.00s)
=== RUN   TestNewFuturesArbitrageCalculator
--- PASS: TestNewFuturesArbitrageCalculator (0.00s)
=== RUN   TestCalculateFuturesArbitrage
=== RUN   TestCalculateFuturesArbitrage/valid_arbitrage_opportunity
=== RUN   TestCalculateFuturesArbitrage/profitable_arbitrage
=== RUN   TestCalculateFuturesArbitrage/high_funding_rate_difference
=== RUN   TestCalculateFuturesArbitrage/zero_funding_rates
--- PASS: TestCalculateFuturesArbitrage (0.00s)
    --- PASS: TestCalculateFuturesArbitrage/valid_arbitrage_opportunity (0.00s)
    --- PASS: TestCalculateFuturesArbitrage/profitable_arbitrage (0.00s)
    --- PASS: TestCalculateFuturesArbitrage/high_funding_rate_difference (0.00s)
    --- PASS: TestCalculateFuturesArbitrage/zero_funding_rates (0.00s)
=== RUN   TestCalculateRiskScore
=== RUN   TestCalculateRiskScore/low_risk_scenario
=== RUN   TestCalculateRiskScore/high_risk_scenario
--- PASS: TestCalculateRiskScore (0.00s)
    --- PASS: TestCalculateRiskScore/low_risk_scenario (0.00s)
    --- PASS: TestCalculateRiskScore/high_risk_scenario (0.00s)
=== RUN   TestCalculatePositionSizing
--- PASS: TestCalculatePositionSizing (0.00s)
=== RUN   TestCalculateRiskMetrics
--- PASS: TestCalculateRiskMetrics (0.00s)
=== RUN   TestCalculateAPY
    futures_arbitrage_calculator_test.go:289: Hourly rate: 0.001, APY: 634527.2539057519
--- PASS: TestCalculateAPY (0.00s)
=== RUN   TestCalculateEstimatedProfits
--- PASS: TestCalculateEstimatedProfits (0.00s)
=== RUN   TestFuturesArbitrageService_New
--- PASS: TestFuturesArbitrageService_New (0.00s)
=== RUN   TestFuturesArbitrageService_StartStop
--- PASS: TestFuturesArbitrageService_StartStop (0.00s)
=== RUN   TestFuturesArbitrageService_IsRunning
--- PASS: TestFuturesArbitrageService_IsRunning (0.00s)
=== RUN   TestFundingRateData_Struct
--- PASS: TestFundingRateData_Struct (0.00s)
=== RUN   TestFuturesArbitrageService_getLatestFundingRates_CacheHit
{"time":"2025-09-30T23:11:59.007244+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
--- PASS: TestFuturesArbitrageService_getLatestFundingRates_CacheHit (0.00s)
=== RUN   TestFuturesArbitrageService_getLatestFundingRates_CacheMiss
{"time":"2025-09-30T23:11:59.007334+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
--- PASS: TestFuturesArbitrageService_getLatestFundingRates_CacheMiss (0.00s)
=== RUN   TestFuturesArbitrageService_calculateAndStoreOpportunities_NoFundingRates
{"time":"2025-09-30T23:11:59.007405+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation","operation":"arbitrage_detection","service":"futures_arbitrage"}
{"time":"2025-09-30T23:11:59.007422+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation"}
--- PASS: TestFuturesArbitrageService_calculateAndStoreOpportunities_NoFundingRates (0.00s)
=== RUN   TestFuturesArbitrageService_storeOpportunity
--- PASS: TestFuturesArbitrageService_storeOpportunity (0.00s)
=== RUN   TestFuturesArbitrageService_cleanupExpiredOpportunities
--- PASS: TestFuturesArbitrageService_cleanupExpiredOpportunities (0.00s)
=== RUN   TestFuturesArbitrageService_Start
--- PASS: TestFuturesArbitrageService_Start (0.00s)
=== RUN   TestFuturesArbitrageService_Stop
--- PASS: TestFuturesArbitrageService_Stop (0.00s)
=== RUN   TestFuturesArbitrageService_calculateAndStoreOpportunities_Success
{"time":"2025-09-30T23:11:59.008182+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation","operation":"arbitrage_detection","service":"futures_arbitrage"}
{"time":"2025-09-30T23:11:59.008228+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation"}
--- PASS: TestFuturesArbitrageService_calculateAndStoreOpportunities_Success (0.00s)
=== RUN   TestFuturesArbitrageService_calculateAndStoreOpportunities_NoRates
{"time":"2025-09-30T23:11:59.008493+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation","operation":"arbitrage_detection","service":"futures_arbitrage"}
{"time":"2025-09-30T23:11:59.008512+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation"}
time="2025-09-30T23:11:59+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="database pool is not available" operation=cleanup_opportunities
time="2025-09-30T23:11:59+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="database pool is not available" operation=cleanup_opportunities
time="2025-09-30T23:11:59+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="database pool is not available" operation=cleanup_opportunities
time="2025-09-30T23:11:59+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=791.39025ms error="database pool is not available" operation=cleanup_opportunities
{"time":"2025-09-30T23:11:59.800038+07:00","level":"WARN","msg":"Failed to cleanup expired opportunities","error":"database pool is not available"}
{"time":"2025-09-30T23:11:59.800095+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:11:59+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:11:59.913662+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:11:59+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:12:00.139791+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:12:00+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:12:00.590949+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:12:00+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=790.921208ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:12:00.591055+07:00","level":"ERROR","msg":"Error getting funding rates","error":"database pool is not available"}
--- PASS: TestFuturesArbitrageService_calculateAndStoreOpportunities_NoRates (1.58s)
=== RUN   TestFuturesArbitrageService_calculateAndStoreOpportunities_EmptyRates
{"time":"2025-09-30T23:12:00.591177+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation","operation":"arbitrage_detection","service":"futures_arbitrage"}
{"time":"2025-09-30T23:12:00.591194+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation"}
time="2025-09-30T23:12:00+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="database pool is not available" operation=cleanup_opportunities
time="2025-09-30T23:12:00+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="database pool is not available" operation=cleanup_opportunities
time="2025-09-30T23:12:00+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="database pool is not available" operation=cleanup_opportunities
time="2025-09-30T23:12:01+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=790.878541ms error="database pool is not available" operation=cleanup_opportunities
{"time":"2025-09-30T23:12:01.382162+07:00","level":"WARN","msg":"Failed to cleanup expired opportunities","error":"database pool is not available"}
{"time":"2025-09-30T23:12:01.382191+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:12:01+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:12:01.495343+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:12:01+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:12:01.721809+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:12:01+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:12:02.172966+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:12:02+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=790.818875ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:12:02.173069+07:00","level":"ERROR","msg":"Error getting funding rates","error":"database pool is not available"}
--- PASS: TestFuturesArbitrageService_calculateAndStoreOpportunities_EmptyRates (1.58s)
=== RUN   TestFuturesArbitrageService_calculateAndStoreOpportunities_CleanupError
{"time":"2025-09-30T23:12:02.17319+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation","operation":"arbitrage_detection","service":"futures_arbitrage"}
{"time":"2025-09-30T23:12:02.17322+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation"}
time="2025-09-30T23:12:02+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="database pool is not available" operation=cleanup_opportunities
time="2025-09-30T23:12:02+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="database pool is not available" operation=cleanup_opportunities
time="2025-09-30T23:12:02+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="database pool is not available" operation=cleanup_opportunities
time="2025-09-30T23:12:02+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=790.479708ms error="database pool is not available" operation=cleanup_opportunities
{"time":"2025-09-30T23:12:02.964061+07:00","level":"WARN","msg":"Failed to cleanup expired opportunities","error":"database pool is not available"}
{"time":"2025-09-30T23:12:02.964162+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:12:02+07:00" level=warning msg="Operation failed, retrying" attempt=1 delay=100ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:12:03.0803+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:12:03+07:00" level=warning msg="Operation failed, retrying" attempt=2 delay=200ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:12:03.310229+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:12:03+07:00" level=warning msg="Operation failed, retrying" attempt=3 delay=400ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:12:03.761554+07:00","level":"INFO","msg":"Getting latest funding rates","operation":"data_retrieval"}
time="2025-09-30T23:12:03+07:00" level=error msg="Operation failed after all retries" attempts=4 duration=797.523916ms error="database pool is not available" operation=get_funding_rates
{"time":"2025-09-30T23:12:03.761891+07:00","level":"ERROR","msg":"Error getting funding rates","error":"database pool is not available"}
--- PASS: TestFuturesArbitrageService_calculateAndStoreOpportunities_CleanupError (1.59s)
=== RUN   TestFuturesArbitrageService_calculateAndStoreOpportunities_ContextCancellation
{"time":"2025-09-30T23:12:03.762458+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation","operation":"arbitrage_detection","service":"futures_arbitrage"}
{"time":"2025-09-30T23:12:03.762496+07:00","level":"INFO","msg":"Starting futures arbitrage opportunity calculation"}
{"time":"2025-09-30T23:12:03.762553+07:00","level":"WARN","msg":"Failed to cleanup expired opportunities","error":"context canceled"}
{"time":"2025-09-30T23:12:03.762574+07:00","level":"ERROR","msg":"Error getting funding rates","error":"context canceled"}
--- PASS: TestFuturesArbitrageService_calculateAndStoreOpportunities_ContextCancellation (0.00s)
=== RUN   TestNewNotificationService
--- PASS: TestNewNotificationService (0.58s)
=== RUN   TestArbitrageOpportunity_Struct
--- PASS: TestArbitrageOpportunity_Struct (0.00s)
=== RUN   TestNotificationService_formatArbitrageMessage
--- PASS: TestNotificationService_formatArbitrageMessage (0.00s)
=== RUN   TestNotificationService_OpportunityCategorization
--- PASS: TestNotificationService_OpportunityCategorization (0.00s)
=== RUN   TestArbitrageOpportunity_EdgeCases
--- PASS: TestArbitrageOpportunity_EdgeCases (0.00s)
=== RUN   TestNotificationService_formatArbitrageMessage_EdgeCases
--- PASS: TestNotificationService_formatArbitrageMessage_EdgeCases (0.00s)
=== RUN   TestNotificationService_StructFields
--- PASS: TestNotificationService_StructFields (0.00s)
=== RUN   TestArbitrageOpportunity_JSONStructure
--- PASS: TestArbitrageOpportunity_JSONStructure (0.00s)
=== RUN   TestNotificationService_formatArbitrageMessage_ExactlyThree
--- PASS: TestNotificationService_formatArbitrageMessage_ExactlyThree (0.00s)
=== RUN   TestNotificationService_formatArbitrageMessage_MoreThanThree
--- PASS: TestNotificationService_formatArbitrageMessage_MoreThanThree (0.00s)
=== RUN   TestNotificationService_PublishOpportunityUpdate
--- PASS: TestNotificationService_PublishOpportunityUpdate (0.00s)
=== RUN   TestNotificationService_GetCacheStats
--- PASS: TestNotificationService_GetCacheStats (0.00s)
=== RUN   TestNotificationService_cacheArbitrageOpportunities
--- PASS: TestNotificationService_cacheArbitrageOpportunities (0.00s)
=== RUN   TestNotificationService_CacheMarketData
--- PASS: TestNotificationService_CacheMarketData (0.00s)
=== RUN   TestNotificationService_GetCachedMarketData
--- PASS: TestNotificationService_GetCachedMarketData (0.00s)
=== RUN   TestNotificationService_InvalidateUserCache
--- PASS: TestNotificationService_InvalidateUserCache (0.00s)
=== RUN   TestNotificationService_InvalidateOpportunityCache
--- PASS: TestNotificationService_InvalidateOpportunityCache (0.00s)
=== RUN   TestNotificationService_formatTechnicalSignalMessage
--- PASS: TestNotificationService_formatTechnicalSignalMessage (0.00s)
=== RUN   TestNotificationService_ConvertAggregatedSignalToNotification
--- PASS: TestNotificationService_ConvertAggregatedSignalToNotification (0.00s)
=== RUN   TestNotificationService_generateOpportunityHash
--- PASS: TestNotificationService_generateOpportunityHash (0.00s)
=== RUN   TestNotificationService_generateTechnicalSignalsHash
--- PASS: TestNotificationService_generateTechnicalSignalsHash (0.00s)
=== RUN   TestNotificationService_getCachedMessage
--- PASS: TestNotificationService_getCachedMessage (0.00s)
=== RUN   TestNotificationService_setCachedMessage
--- PASS: TestNotificationService_setCachedMessage (0.00s)
=== RUN   TestNotificationService_checkRateLimit
--- PASS: TestNotificationService_checkRateLimit (0.00s)
=== RUN   TestNotificationService_logNotification
--- PASS: TestNotificationService_logNotification (0.00s)
=== RUN   TestNotificationService_CheckUserNotificationPreferences
--- PASS: TestNotificationService_CheckUserNotificationPreferences (0.00s)
=== RUN   TestNotificationService_generateAggregatedSignalsHash
--- PASS: TestNotificationService_generateAggregatedSignalsHash (0.00s)
=== RUN   TestNotificationService_formatEnhancedArbitrageMessage
--- PASS: TestNotificationService_formatEnhancedArbitrageMessage (0.00s)
=== RUN   TestNotificationService_formatAggregatedArbitrageMessage
--- PASS: TestNotificationService_formatAggregatedArbitrageMessage (0.00s)
=== RUN   TestNotificationService_formatAggregatedTechnicalMessage
--- PASS: TestNotificationService_formatAggregatedTechnicalMessage (0.00s)
=== RUN   TestNewPerformanceMonitor
--- PASS: TestNewPerformanceMonitor (0.00s)
=== RUN   TestPerformanceMonitor_Start
time="2025-09-30T23:12:04+07:00" level=info msg="Starting performance monitor"
time="2025-09-30T23:12:04+07:00" level=info msg="Performance monitor context cancelled"
--- PASS: TestPerformanceMonitor_Start (0.15s)
=== RUN   TestPerformanceMonitor_Stop
time="2025-09-30T23:12:04+07:00" level=info msg="Starting performance monitor"
time="2025-09-30T23:12:04+07:00" level=info msg="Performance monitor stopped"
--- PASS: TestPerformanceMonitor_Stop (0.10s)
=== RUN   TestPerformanceMonitor_GetSystemMetrics
--- PASS: TestPerformanceMonitor_GetSystemMetrics (0.00s)
=== RUN   TestPerformanceMonitor_GetApplicationMetrics
time="2025-09-30T23:12:04+07:00" level=warning msg="Failed to get Redis info" error="ERR wrong number of arguments for 'info' command"
--- PASS: TestPerformanceMonitor_GetApplicationMetrics (0.00s)
=== RUN   TestPerformanceMonitor_UpdateCollectorMetrics
--- PASS: TestPerformanceMonitor_UpdateCollectorMetrics (0.00s)
=== RUN   TestPerformanceMonitor_UpdateAPIMetrics
--- PASS: TestPerformanceMonitor_UpdateAPIMetrics (0.00s)
=== RUN   TestPerformanceMonitor_UpdateTelegramMetrics
--- PASS: TestPerformanceMonitor_UpdateTelegramMetrics (0.00s)
=== RUN   TestPerformanceMonitor_RecordWorkerHealth
--- PASS: TestPerformanceMonitor_RecordWorkerHealth (0.00s)
=== RUN   TestPerformanceMonitor_GetPerformanceReport
time="2025-09-30T23:12:04+07:00" level=warning msg="Failed to get Redis info" error="ERR wrong number of arguments for 'info' command"
--- PASS: TestPerformanceMonitor_GetPerformanceReport (0.00s)
=== RUN   TestPerformanceMonitor_CalculateHealthScore
--- PASS: TestPerformanceMonitor_CalculateHealthScore (0.00s)
=== RUN   TestPerformanceMonitor_ConcurrentAccess
--- PASS: TestPerformanceMonitor_ConcurrentAccess (0.00s)
=== RUN   TestPerformanceMonitor_CacheMetrics
time="2025-09-30T23:12:04+07:00" level=warning msg="Failed to get Redis info" error="ERR wrong number of arguments for 'info' command"
--- PASS: TestPerformanceMonitor_CacheMetrics (0.00s)
=== RUN   TestPerformanceMonitor_CollectSystemMetrics
--- PASS: TestPerformanceMonitor_CollectSystemMetrics (0.00s)
=== RUN   TestPerformanceMonitor_CollectRedisMetrics
time="2025-09-30T23:12:04+07:00" level=warning msg="Failed to get Redis info" error="ERR wrong number of arguments for 'info' command"
--- PASS: TestPerformanceMonitor_CollectRedisMetrics (0.00s)
=== RUN   TestPerformanceMonitor_WithNilRedis
--- PASS: TestPerformanceMonitor_WithNilRedis (0.00s)
=== RUN   TestNewResourceManager
--- PASS: TestNewResourceManager (0.00s)
=== RUN   TestResourceManager_RegisterResource
--- PASS: TestResourceManager_RegisterResource (0.00s)
=== RUN   TestResourceManager_UpdateResourceUsage
--- PASS: TestResourceManager_UpdateResourceUsage (0.01s)
=== RUN   TestResourceManager_CleanupResource
--- PASS: TestResourceManager_CleanupResource (0.00s)
=== RUN   TestResourceManager_CleanupResourceWithError
time="2025-09-30T23:12:04+07:00" level=error msg="Resource cleanup failed" error="assert.AnError general error for testing" resource_id=test-resource resource_type=channel
--- PASS: TestResourceManager_CleanupResourceWithError (0.00s)
=== RUN   TestResourceManager_CleanupResource_NonExistent
--- PASS: TestResourceManager_CleanupResource_NonExistent (0.00s)
=== RUN   TestResourceManager_CleanupIdleResources
time="2025-09-30T23:12:04+07:00" level=info msg="Idle resource cleaned up" idle_time=21.035666ms resource_id=idle-resource resource_type=connection
time="2025-09-30T23:12:04+07:00" level=info msg="Idle resource cleanup completed" cleaned_count=1
--- PASS: TestResourceManager_CleanupIdleResources (0.02s)
=== RUN   TestResourceManager_DetectLeaks
--- PASS: TestResourceManager_DetectLeaks (0.05s)
=== RUN   TestResourceManager_GetResourceStats
--- PASS: TestResourceManager_GetResourceStats (0.00s)
=== RUN   TestResourceManager_GetSystemStats
--- PASS: TestResourceManager_GetSystemStats (0.00s)
=== RUN   TestResourceManager_CleanupAll
time="2025-09-30T23:12:04+07:00" level=info msg="Cleaning up all managed resources"
time="2025-09-30T23:12:04+07:00" level=info msg="All managed resources cleaned up"
--- PASS: TestResourceManager_CleanupAll (0.00s)
=== RUN   TestResourceManager_Shutdown
time="2025-09-30T23:12:04+07:00" level=info msg="Shutting down resource manager"
time="2025-09-30T23:12:04+07:00" level=info msg="Cleaning up all managed resources"
time="2025-09-30T23:12:04+07:00" level=info msg="All managed resources cleaned up"
time="2025-09-30T23:12:04+07:00" level=info msg="Resource manager shutdown complete"
--- PASS: TestResourceManager_Shutdown (0.00s)
=== RUN   TestResourceManager_SetConfiguration
time="2025-09-30T23:12:04+07:00" level=info msg="Shutting down resource manager"
time="2025-09-30T23:12:04+07:00" level=info msg="Cleaning up all managed resources"
time="2025-09-30T23:12:04+07:00" level=info msg="All managed resources cleaned up"
time="2025-09-30T23:12:04+07:00" level=info msg="Resource manager shutdown complete"
--- PASS: TestResourceManager_SetConfiguration (0.00s)
=== RUN   TestResourceManager_GetResourceCount
--- PASS: TestResourceManager_GetResourceCount (0.00s)
=== RUN   TestResourceManager_IsResourceManaged
--- PASS: TestResourceManager_IsResourceManaged (0.00s)
=== RUN   TestResourceManager_ConcurrentAccess
--- PASS: TestResourceManager_ConcurrentAccess (0.00s)
=== RUN   TestResourceManager_ResourceLimits
time="2025-09-30T23:12:04+07:00" level=warning msg="High resource count detected" resource_count=11
--- PASS: TestResourceManager_ResourceLimits (0.00s)
=== RUN   TestResourceManager_MetadataHandling
--- PASS: TestResourceManager_MetadataHandling (0.00s)
=== RUN   TestResourceManager_ResourceAging
    resource_manager_test.go:515: Original LastUsed: 2025-09-30 23:12:04.704449 +0700 WIB m=+12.881399793
    resource_manager_test.go:516: Updated LastUsed: 2025-09-30 23:12:04.755466 +0700 WIB m=+12.932416960
    resource_manager_test.go:517: Time difference: 51.017167ms
--- PASS: TestResourceManager_ResourceAging (0.05s)
=== RUN   TestNewResourceOptimizer
{"time":"2025-09-30T23:12:04.755941+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:04.755974+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
--- PASS: TestNewResourceOptimizer (0.00s)
=== RUN   TestNewResourceOptimizer_WithDefaults
{"time":"2025-09-30T23:12:04.756087+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:04.756113+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
--- PASS: TestNewResourceOptimizer_WithDefaults (0.00s)
=== RUN   TestResourceOptimizer_calculateOptimalConcurrency
{"time":"2025-09-30T23:12:04.75637+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:04.756392+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
{"time":"2025-09-30T23:12:04.75642+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
--- PASS: TestResourceOptimizer_calculateOptimalConcurrency (0.00s)
=== RUN   TestResourceOptimizer_calculateOptimalConcurrency_HighLoad
{"time":"2025-09-30T23:12:04.756667+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:04.756688+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
{"time":"2025-09-30T23:12:04.756717+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":11,"max_concurrent_symbols":11,"max_concurrent_backfill":5,"max_concurrent_writes":3,"max_circuit_breaker_calls":22}
--- PASS: TestResourceOptimizer_calculateOptimalConcurrency_HighLoad (0.00s)
=== RUN   TestResourceOptimizer_calculateOptimalConcurrency_LowMemory
{"time":"2025-09-30T23:12:04.756794+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:04.756815+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
{"time":"2025-09-30T23:12:04.756851+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":8,"max_concurrent_symbols":8,"max_concurrent_backfill":4,"max_concurrent_writes":2,"max_circuit_breaker_calls":16}
--- PASS: TestResourceOptimizer_calculateOptimalConcurrency_LowMemory (0.00s)
=== RUN   TestResourceOptimizer_GetOptimalConcurrency
{"time":"2025-09-30T23:12:04.756927+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":10,"max_concurrent_symbols":10,"max_concurrent_backfill":5,"max_concurrent_writes":3,"max_circuit_breaker_calls":20}
{"time":"2025-09-30T23:12:04.756948+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
{"time":"2025-09-30T23:12:04.756974+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":10,"max_concurrent_symbols":10,"max_concurrent_backfill":5,"max_concurrent_writes":3,"max_circuit_breaker_calls":20}
--- PASS: TestResourceOptimizer_GetOptimalConcurrency (0.00s)
=== RUN   TestResourceOptimizer_UpdateSystemMetrics
{"time":"2025-09-30T23:12:04.757055+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:04.757271+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
--- PASS: TestResourceOptimizer_UpdateSystemMetrics (1.00s)
=== RUN   TestResourceOptimizer_UpdateSystemMetrics_WithMockData
{"time":"2025-09-30T23:12:05.758774+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:05.758813+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
--- PASS: TestResourceOptimizer_UpdateSystemMetrics_WithMockData (0.00s)
=== RUN   TestResourceOptimizer_RecordPerformanceSnapshot
{"time":"2025-09-30T23:12:05.75895+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:05.759052+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
--- PASS: TestResourceOptimizer_RecordPerformanceSnapshot (0.00s)
=== RUN   TestResourceOptimizer_OptimizeIfNeeded_RegularInterval
{"time":"2025-09-30T23:12:05.759385+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":10,"max_concurrent_symbols":10,"max_concurrent_backfill":5,"max_concurrent_writes":3,"max_circuit_breaker_calls":20}
{"time":"2025-09-30T23:12:05.759415+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
{"time":"2025-09-30T23:12:05.75945+07:00","level":"INFO","msg":"Regular optimization triggered","interval":100000000}
{"time":"2025-09-30T23:12:05.759466+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":10,"max_concurrent_symbols":10,"max_concurrent_backfill":5,"max_concurrent_writes":3,"max_circuit_breaker_calls":20}
--- PASS: TestResourceOptimizer_OptimizeIfNeeded_RegularInterval (0.00s)
=== RUN   TestResourceOptimizer_OptimizeIfNeeded_AdaptiveMode
{"time":"2025-09-30T23:12:05.75955+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":10,"max_concurrent_symbols":10,"max_concurrent_backfill":5,"max_concurrent_writes":3,"max_circuit_breaker_calls":20}
{"time":"2025-09-30T23:12:05.759576+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
    resource_optimizer_test.go:233: Should optimize result: true
{"time":"2025-09-30T23:12:05.759652+07:00","level":"INFO","msg":"Adaptive optimization triggered due to performance changes"}
{"time":"2025-09-30T23:12:05.759665+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":7,"max_concurrent_symbols":7,"max_concurrent_backfill":3,"max_concurrent_writes":2,"max_circuit_breaker_calls":14}
    resource_optimizer_test.go:237: Optimization result: true
--- PASS: TestResourceOptimizer_OptimizeIfNeeded_AdaptiveMode (0.00s)
=== RUN   TestResourceOptimizer_shouldOptimize
{"time":"2025-09-30T23:12:05.759757+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:05.759777+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
--- PASS: TestResourceOptimizer_shouldOptimize (0.00s)
=== RUN   TestResourceOptimizer_GetPerformanceHistory
{"time":"2025-09-30T23:12:05.759878+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:05.759899+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
--- PASS: TestResourceOptimizer_GetPerformanceHistory (0.00s)
=== RUN   TestResourceOptimizer_GetSystemInfo
{"time":"2025-09-30T23:12:05.759995+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:05.760014+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
--- PASS: TestResourceOptimizer_GetSystemInfo (0.00s)
=== RUN   TestResourceOptimizer_ConcurrentAccess
{"time":"2025-09-30T23:12:05.760139+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:05.76016+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
--- PASS: TestResourceOptimizer_ConcurrentAccess (0.05s)
=== RUN   TestResourceOptimizer_min
--- PASS: TestResourceOptimizer_min (0.00s)
=== RUN   TestResourceOptimizer_Configuration
{"time":"2025-09-30T23:12:05.811024+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:05.811094+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":true}
{"time":"2025-09-30T23:12:05.811171+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
--- PASS: TestResourceOptimizer_Configuration (0.00s)
=== RUN   TestResourceOptimizer_PerformanceSnapshot_Timestamp
{"time":"2025-09-30T23:12:05.811742+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:05.811768+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
--- PASS: TestResourceOptimizer_PerformanceSnapshot_Timestamp (0.00s)
=== RUN   TestResourceOptimizer_OptimizationTiming
{"time":"2025-09-30T23:12:05.811935+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":16,"max_concurrent_symbols":16,"max_concurrent_backfill":8,"max_concurrent_writes":5,"max_circuit_breaker_calls":32}
{"time":"2025-09-30T23:12:05.811959+07:00","level":"INFO","msg":"Resource Optimizer initialized","cpu_cores":8,"memory_gb":8,"adaptive_mode":false}
{"time":"2025-09-30T23:12:05.873042+07:00","level":"INFO","msg":"Regular optimization triggered","interval":50000000}
{"time":"2025-09-30T23:12:05.873086+07:00","level":"INFO","msg":"Calculated optimal concurrency","max_workers":0,"max_concurrent_symbols":0,"max_concurrent_backfill":0,"max_concurrent_writes":0,"max_circuit_breaker_calls":0}
--- PASS: TestResourceOptimizer_OptimizationTiming (0.06s)
=== RUN   TestSignalAggregationIntegration
=== RUN   TestSignalAggregationIntegration/SignalProcessingPipeline
    signal_aggregation_integration_test.go:42: Database-dependent test - requires proper setup
=== RUN   TestSignalAggregationIntegration/SignalQualityAssessment
    signal_aggregation_integration_test.go:61: Quality assessment test - requires proper service setup
=== RUN   TestSignalAggregationIntegration/SignalAggregation
    signal_aggregation_integration_test.go:116: Signal aggregation test - requires proper service setup
=== RUN   TestSignalAggregationIntegration/CircuitBreakerIntegration
    signal_aggregation_integration_test.go:138: Circuit breaker test - requires proper service setup
=== RUN   TestSignalAggregationIntegration/ErrorHandlingAndRecovery
    signal_aggregation_integration_test.go:158: Error handling test - requires proper service setup
=== RUN   TestSignalAggregationIntegration/EndToEndPipeline
    signal_aggregation_integration_test.go:176: End-to-end pipeline test - requires proper service setup
--- PASS: TestSignalAggregationIntegration (0.00s)
    --- SKIP: TestSignalAggregationIntegration/SignalProcessingPipeline (0.00s)
    --- SKIP: TestSignalAggregationIntegration/SignalQualityAssessment (0.00s)
    --- SKIP: TestSignalAggregationIntegration/SignalAggregation (0.00s)
    --- SKIP: TestSignalAggregationIntegration/CircuitBreakerIntegration (0.00s)
    --- SKIP: TestSignalAggregationIntegration/ErrorHandlingAndRecovery (0.00s)
    --- SKIP: TestSignalAggregationIntegration/EndToEndPipeline (0.00s)
=== RUN   TestSignalAggregator_Interface
--- PASS: TestSignalAggregator_Interface (0.00s)
=== RUN   TestSignalAggregator_QualityAssessment
--- PASS: TestSignalAggregator_QualityAssessment (0.00s)
=== RUN   TestSignalAggregator_BasicFunctionality
--- PASS: TestSignalAggregator_BasicFunctionality (0.00s)
=== RUN   TestSignalAggregator_SignalStrengthCalculation
=== RUN   TestSignalAggregator_SignalStrengthCalculation/Weak_signal_-_low_confidence
=== RUN   TestSignalAggregator_SignalStrengthCalculation/Weak_signal_-_low_profit
=== RUN   TestSignalAggregator_SignalStrengthCalculation/Medium_signal
=== RUN   TestSignalAggregator_SignalStrengthCalculation/Strong_signal
--- PASS: TestSignalAggregator_SignalStrengthCalculation (0.00s)
    --- PASS: TestSignalAggregator_SignalStrengthCalculation/Weak_signal_-_low_confidence (0.00s)
    --- PASS: TestSignalAggregator_SignalStrengthCalculation/Weak_signal_-_low_profit (0.00s)
    --- PASS: TestSignalAggregator_SignalStrengthCalculation/Medium_signal (0.00s)
    --- PASS: TestSignalAggregator_SignalStrengthCalculation/Strong_signal (0.00s)
=== RUN   TestSignalAggregator_PriceRangeCalculation
--- PASS: TestSignalAggregator_PriceRangeCalculation (0.00s)
=== RUN   TestSignalAggregator_ErrorScenarios
--- PASS: TestSignalAggregator_ErrorScenarios (0.00s)
=== RUN   TestSignalAggregator_ConcurrentSafety
--- PASS: TestSignalAggregator_ConcurrentSafety (0.00s)
=== RUN   TestSignalAggregator_NewSignalAggregator
--- PASS: TestSignalAggregator_NewSignalAggregator (0.00s)
=== RUN   TestSignalAggregator_AggregateArbitrageSignals_Basic
time="2025-09-30T23:12:05+07:00" level=info msg="Starting arbitrage signal aggregation" base_amount=20000 input_count=2 min_volume=10000 operation_type=signal_aggregation signal_type=arbitrage
time="2025-09-30T23:12:05+07:00" level=info msg="Aggregating arbitrage signals with enhanced price ranges"
time="2025-09-30T23:12:05+07:00" level=info msg="Arbitrage signal aggregation completed" operation_result=success signals_generated=1 symbols_processed=1
--- PASS: TestSignalAggregator_AggregateArbitrageSignals_Basic (0.00s)
=== RUN   TestSignalAggregator_AggregateArbitrageSignals_EmptyInput
time="2025-09-30T23:12:05+07:00" level=info msg="Starting arbitrage signal aggregation" base_amount=20000 input_count=0 min_volume=10000 operation_type=signal_aggregation signal_type=arbitrage
time="2025-09-30T23:12:05+07:00" level=info msg="Aggregating arbitrage signals with enhanced price ranges"
time="2025-09-30T23:12:05+07:00" level=info msg="Arbitrage signal aggregation completed" operation_result=success signals_generated=0 symbols_processed=0
--- PASS: TestSignalAggregator_AggregateArbitrageSignals_EmptyInput (0.00s)
=== RUN   TestSignalAggregator_AggregateArbitrageSignals_LowProfit
time="2025-09-30T23:12:05+07:00" level=info msg="Starting arbitrage signal aggregation" base_amount=20000 input_count=1 min_volume=10000 operation_type=signal_aggregation signal_type=arbitrage
time="2025-09-30T23:12:05+07:00" level=info msg="Aggregating arbitrage signals with enhanced price ranges"
time="2025-09-30T23:12:05+07:00" level=info msg="Arbitrage signal aggregation completed" operation_result=success signals_generated=0 symbols_processed=1
--- PASS: TestSignalAggregator_AggregateArbitrageSignals_LowProfit (0.00s)
=== RUN   TestSignalAggregator_AggregateArbitrageSignals_QualityFilter
time="2025-09-30T23:12:05+07:00" level=info msg="Starting arbitrage signal aggregation" base_amount=20000 input_count=1 min_volume=10000 operation_type=signal_aggregation signal_type=arbitrage
time="2025-09-30T23:12:05+07:00" level=info msg="Aggregating arbitrage signals with enhanced price ranges"
time="2025-09-30T23:12:05+07:00" level=info msg="Assessing signal quality" exchanges="[1 2]" signal_type=arbitrage symbol=BTC/USDT
time="2025-09-30T23:12:05+07:00" level=info msg="Refreshing exchange reliability cache"
time="2025-09-30T23:12:05+07:00" level=info msg="Exchange reliability cache refreshed" exchanges_cached=3
time="2025-09-30T23:12:05+07:00" level=info msg="Arbitrage signal aggregation completed" operation_result=success signals_generated=0 symbols_processed=1
--- PASS: TestSignalAggregator_AggregateArbitrageSignals_QualityFilter (0.00s)
=== RUN   TestSignalAggregator_AggregateArbitrageSignals_MultipleOpportunities
time="2025-09-30T23:12:05+07:00" level=info msg="Starting arbitrage signal aggregation" base_amount=20000 input_count=3 min_volume=10000 operation_type=signal_aggregation signal_type=arbitrage
time="2025-09-30T23:12:05+07:00" level=info msg="Aggregating arbitrage signals with enhanced price ranges"
time="2025-09-30T23:12:05+07:00" level=info msg="Arbitrage signal aggregation completed" operation_result=success signals_generated=1 symbols_processed=1
--- PASS: TestSignalAggregator_AggregateArbitrageSignals_MultipleOpportunities (0.00s)
=== RUN   TestSignalProcessor_GetRecentMarketDataFromDB_Success
--- PASS: TestSignalProcessor_GetRecentMarketDataFromDB_Success (0.00s)
=== RUN   TestSignalProcessor_GetRecentMarketDataFromDB_MissingVolume24hColumn
--- PASS: TestSignalProcessor_GetRecentMarketDataFromDB_MissingVolume24hColumn (0.00s)
=== RUN   TestSignalProcessor_GetRecentMarketDataFromDB_QueryError
--- PASS: TestSignalProcessor_GetRecentMarketDataFromDB_QueryError (0.00s)
=== RUN   TestSignalProcessor_GetRecentMarketDataFromDB_EmptyResult
--- PASS: TestSignalProcessor_GetRecentMarketDataFromDB_EmptyResult (0.00s)
=== RUN   TestSignalProcessor_GetRecentMarketDataFromDB_ScanError
--- PASS: TestSignalProcessor_GetRecentMarketDataFromDB_ScanError (0.00s)
=== RUN   TestSignalProcessor_GetTradingPairSymbol_Success
--- PASS: TestSignalProcessor_GetTradingPairSymbol_Success (0.00s)
=== RUN   TestSignalProcessor_GetTradingPairSymbol_NotFound
--- PASS: TestSignalProcessor_GetTradingPairSymbol_NotFound (0.00s)
=== RUN   TestSignalProcessor_GetTradingPairSymbol_DBError
--- PASS: TestSignalProcessor_GetTradingPairSymbol_DBError (0.00s)
=== RUN   TestSignalProcessor_Config
--- PASS: TestSignalProcessor_Config (0.00s)
=== RUN   TestSignalProcessor_ProcessingMetrics
--- PASS: TestSignalProcessor_ProcessingMetrics (0.00s)
=== RUN   TestSignalProcessor_CircuitBreakerStates
--- PASS: TestSignalProcessor_CircuitBreakerStates (0.00s)
=== RUN   TestSignalProcessor_SignalStrengthMapping
--- PASS: TestSignalProcessor_SignalStrengthMapping (0.00s)
=== RUN   TestSignalProcessor_SignalTypeMapping
--- PASS: TestSignalProcessor_SignalTypeMapping (0.00s)
=== RUN   TestSignalProcessor_ContextHandling
--- PASS: TestSignalProcessor_ContextHandling (0.00s)
=== RUN   TestSignalProcessor_TimeHandling
--- PASS: TestSignalProcessor_TimeHandling (0.00s)
=== RUN   TestSignalProcessor_ValidationMethods
--- PASS: TestSignalProcessor_ValidationMethods (0.00s)
=== RUN   TestSignalProcessor_LoggerInterface
--- PASS: TestSignalProcessor_LoggerInterface (0.00s)
=== RUN   TestSignalProcessor_ErrorScenarios
--- PASS: TestSignalProcessor_ErrorScenarios (0.00s)
=== RUN   TestSignalProcessor_ConcurrentSafety
--- PASS: TestSignalProcessor_ConcurrentSafety (0.00s)
=== RUN   TestNewSignalQualityScorer
--- PASS: TestNewSignalQualityScorer (0.00s)
=== RUN   TestGetDefaultQualityThresholds
--- PASS: TestGetDefaultQualityThresholds (0.00s)
=== RUN   TestAssessSignalQuality
--- PASS: TestAssessSignalQuality (0.00s)
=== RUN   TestIsSignalQualityAcceptable
=== RUN   TestIsSignalQualityAcceptable/High_quality_signal
=== RUN   TestIsSignalQualityAcceptable/Low_overall_score
=== RUN   TestIsSignalQualityAcceptable/High_risk_score
--- PASS: TestIsSignalQualityAcceptable (0.00s)
    --- PASS: TestIsSignalQualityAcceptable/High_quality_signal (0.00s)
    --- PASS: TestIsSignalQualityAcceptable/Low_overall_score (0.00s)
    --- PASS: TestIsSignalQualityAcceptable/High_risk_score (0.00s)
=== RUN   TestCalculateExchangeScore
=== RUN   TestCalculateExchangeScore/No_exchanges
=== RUN   TestCalculateExchangeScore/Single_known_exchange
=== RUN   TestCalculateExchangeScore/Multiple_known_exchanges
=== RUN   TestCalculateExchangeScore/Unknown_exchange
--- PASS: TestCalculateExchangeScore (0.00s)
    --- PASS: TestCalculateExchangeScore/No_exchanges (0.00s)
    --- PASS: TestCalculateExchangeScore/Single_known_exchange (0.00s)
    --- PASS: TestCalculateExchangeScore/Multiple_known_exchanges (0.00s)
    --- PASS: TestCalculateExchangeScore/Unknown_exchange (0.00s)
=== RUN   TestCalculateVolumeScore
=== RUN   TestCalculateVolumeScore/Zero_volume
=== RUN   TestCalculateVolumeScore/Very_low_volume
=== RUN   TestCalculateVolumeScore/Medium_volume
=== RUN   TestCalculateVolumeScore/High_volume
=== RUN   TestCalculateVolumeScore/Excellent_volume
--- PASS: TestCalculateVolumeScore (0.00s)
    --- PASS: TestCalculateVolumeScore/Zero_volume (0.00s)
    --- PASS: TestCalculateVolumeScore/Very_low_volume (0.00s)
    --- PASS: TestCalculateVolumeScore/Medium_volume (0.00s)
    --- PASS: TestCalculateVolumeScore/High_volume (0.00s)
    --- PASS: TestCalculateVolumeScore/Excellent_volume (0.00s)
=== RUN   TestCalculateLiquidityScore
=== RUN   TestCalculateLiquidityScore/No_market_data
=== RUN   TestCalculateLiquidityScore/Good_liquidity
=== RUN   TestCalculateLiquidityScore/Poor_liquidity
--- PASS: TestCalculateLiquidityScore (0.00s)
    --- PASS: TestCalculateLiquidityScore/No_market_data (0.00s)
    --- PASS: TestCalculateLiquidityScore/Good_liquidity (0.00s)
    --- PASS: TestCalculateLiquidityScore/Poor_liquidity (0.00s)
=== RUN   TestCalculateVolatilityScore
=== RUN   TestCalculateVolatilityScore/No_market_data
=== RUN   TestCalculateVolatilityScore/Very_low_volatility
=== RUN   TestCalculateVolatilityScore/Optimal_volatility
=== RUN   TestCalculateVolatilityScore/High_volatility
=== RUN   TestCalculateVolatilityScore/Extreme_volatility
--- PASS: TestCalculateVolatilityScore (0.00s)
    --- PASS: TestCalculateVolatilityScore/No_market_data (0.00s)
    --- PASS: TestCalculateVolatilityScore/Very_low_volatility (0.00s)
    --- PASS: TestCalculateVolatilityScore/Optimal_volatility (0.00s)
    --- PASS: TestCalculateVolatilityScore/High_volatility (0.00s)
    --- PASS: TestCalculateVolatilityScore/Extreme_volatility (0.00s)
=== RUN   TestCalculateTimingScore
=== RUN   TestCalculateTimingScore/Very_fresh_signal
=== RUN   TestCalculateTimingScore/Fresh_signal
=== RUN   TestCalculateTimingScore/Acceptable_signal
=== RUN   TestCalculateTimingScore/Getting_stale
=== RUN   TestCalculateTimingScore/Stale_signal
=== RUN   TestCalculateTimingScore/Very_stale_signal
--- PASS: TestCalculateTimingScore (0.00s)
    --- PASS: TestCalculateTimingScore/Very_fresh_signal (0.00s)
    --- PASS: TestCalculateTimingScore/Fresh_signal (0.00s)
    --- PASS: TestCalculateTimingScore/Acceptable_signal (0.00s)
    --- PASS: TestCalculateTimingScore/Getting_stale (0.00s)
    --- PASS: TestCalculateTimingScore/Stale_signal (0.00s)
    --- PASS: TestCalculateTimingScore/Very_stale_signal (0.00s)
=== RUN   TestSignalQualityCalculateRiskScore
--- PASS: TestSignalQualityCalculateRiskScore (0.00s)
=== RUN   TestCalculateDataFreshnessScore
=== RUN   TestCalculateDataFreshnessScore/Very_fresh_data
=== RUN   TestCalculateDataFreshnessScore/Fresh_data
=== RUN   TestCalculateDataFreshnessScore/Acceptable_data
=== RUN   TestCalculateDataFreshnessScore/Stale_data
=== RUN   TestCalculateDataFreshnessScore/Very_stale_data
--- PASS: TestCalculateDataFreshnessScore (0.00s)
    --- PASS: TestCalculateDataFreshnessScore/Very_fresh_data (0.00s)
    --- PASS: TestCalculateDataFreshnessScore/Fresh_data (0.00s)
    --- PASS: TestCalculateDataFreshnessScore/Acceptable_data (0.00s)
    --- PASS: TestCalculateDataFreshnessScore/Stale_data (0.00s)
    --- PASS: TestCalculateDataFreshnessScore/Very_stale_data (0.00s)
=== RUN   TestCalculateMarketConditionScore
=== RUN   TestCalculateMarketConditionScore/Very_stable_market
=== RUN   TestCalculateMarketConditionScore/Good_stability
=== RUN   TestCalculateMarketConditionScore/Optimal_movement
=== RUN   TestCalculateMarketConditionScore/High_volatility
=== RUN   TestCalculateMarketConditionScore/Extreme_volatility
--- PASS: TestCalculateMarketConditionScore (0.00s)
    --- PASS: TestCalculateMarketConditionScore/Very_stable_market (0.00s)
    --- PASS: TestCalculateMarketConditionScore/Good_stability (0.00s)
    --- PASS: TestCalculateMarketConditionScore/Optimal_movement (0.00s)
    --- PASS: TestCalculateMarketConditionScore/High_volatility (0.00s)
    --- PASS: TestCalculateMarketConditionScore/Extreme_volatility (0.00s)
=== RUN   TestAssessOrderBookDepth
=== RUN   TestAssessOrderBookDepth/Very_low_depth
=== RUN   TestAssessOrderBookDepth/Medium_depth
=== RUN   TestAssessOrderBookDepth/Good_depth
=== RUN   TestAssessOrderBookDepth/Excellent_depth
--- PASS: TestAssessOrderBookDepth (0.00s)
    --- PASS: TestAssessOrderBookDepth/Very_low_depth (0.00s)
    --- PASS: TestAssessOrderBookDepth/Medium_depth (0.00s)
    --- PASS: TestAssessOrderBookDepth/Good_depth (0.00s)
    --- PASS: TestAssessOrderBookDepth/Excellent_depth (0.00s)
=== RUN   TestAssessSpread
=== RUN   TestAssessSpread/Excellent_spread
=== RUN   TestAssessSpread/Good_spread
=== RUN   TestAssessSpread/Acceptable_spread
=== RUN   TestAssessSpread/Poor_spread
=== RUN   TestAssessSpread/Very_poor_spread
--- PASS: TestAssessSpread (0.00s)
    --- PASS: TestAssessSpread/Excellent_spread (0.00s)
    --- PASS: TestAssessSpread/Good_spread (0.00s)
    --- PASS: TestAssessSpread/Acceptable_spread (0.00s)
    --- PASS: TestAssessSpread/Poor_spread (0.00s)
    --- PASS: TestAssessSpread/Very_poor_spread (0.00s)
=== RUN   TestExchangeReliabilityCache
--- PASS: TestExchangeReliabilityCache (0.00s)
=== RUN   TestCalculateExchangeReliability
--- PASS: TestCalculateExchangeReliability (0.00s)
=== RUN   TestNewTechnicalAnalysisService
--- PASS: TestNewTechnicalAnalysisService (0.00s)
=== RUN   TestGetDefaultIndicatorConfig
--- PASS: TestGetDefaultIndicatorConfig (0.00s)
=== RUN   TestCalculateSMA
    technical_analysis_test.go:152: Skipping due to goroutine leaks in github.com/cinar/indicator/v2 library
--- SKIP: TestCalculateSMA (0.00s)
=== RUN   TestCalculateEMA
    technical_analysis_test.go:199: Skipping due to goroutine leaks in github.com/cinar/indicator/v2 library
--- SKIP: TestCalculateEMA (0.00s)
=== RUN   TestCalculateRSI
    technical_analysis_test.go:215: Skipping due to goroutine leaks in github.com/cinar/indicator/v2 library
--- SKIP: TestCalculateRSI (0.00s)
=== RUN   TestCalculateMACD
    technical_analysis_test.go:255: Skipping due to goroutine leaks in github.com/cinar/indicator/v2 library
--- SKIP: TestCalculateMACD (0.00s)
=== RUN   TestCalculateBollingerBands
    technical_analysis_test.go:273: Skipping due to goroutine leaks in github.com/cinar/indicator/v2 library
--- SKIP: TestCalculateBollingerBands (0.00s)
=== RUN   TestCalculateATR
    technical_analysis_test.go:291: Skipping due to goroutine leaks in github.com/cinar/indicator/v2 library
--- SKIP: TestCalculateATR (0.00s)
=== RUN   TestCalculateStochastic
    technical_analysis_test.go:316: Skipping due to goroutine leaks in github.com/cinar/indicator/v2 library
--- SKIP: TestCalculateStochastic (0.00s)
=== RUN   TestCalculateOBV
    technical_analysis_test.go:341: Skipping due to goroutine leaks in github.com/cinar/indicator/v2 library
--- SKIP: TestCalculateOBV (0.00s)
=== RUN   TestAnalyzeSMASignal
=== RUN   TestAnalyzeSMASignal/Price_crossing_above_SMA
=== RUN   TestAnalyzeSMASignal/Price_crossing_below_SMA
=== RUN   TestAnalyzeSMASignal/Price_above_SMA
=== RUN   TestAnalyzeSMASignal/Price_below_SMA
--- PASS: TestAnalyzeSMASignal (0.00s)
    --- PASS: TestAnalyzeSMASignal/Price_crossing_above_SMA (0.00s)
    --- PASS: TestAnalyzeSMASignal/Price_crossing_below_SMA (0.00s)
    --- PASS: TestAnalyzeSMASignal/Price_above_SMA (0.00s)
    --- PASS: TestAnalyzeSMASignal/Price_below_SMA (0.00s)
=== RUN   TestAnalyzeRSISignal
=== RUN   TestAnalyzeRSISignal/Oversold_condition
=== RUN   TestAnalyzeRSISignal/Overbought_condition
=== RUN   TestAnalyzeRSISignal/Neutral_condition
--- PASS: TestAnalyzeRSISignal (0.00s)
    --- PASS: TestAnalyzeRSISignal/Oversold_condition (0.00s)
    --- PASS: TestAnalyzeRSISignal/Overbought_condition (0.00s)
    --- PASS: TestAnalyzeRSISignal/Neutral_condition (0.00s)
=== RUN   TestAnalyzeMACDSignal
=== RUN   TestAnalyzeMACDSignal/MACD_crossing_above_zero
=== RUN   TestAnalyzeMACDSignal/MACD_crossing_below_zero
=== RUN   TestAnalyzeMACDSignal/MACD_above_zero
=== RUN   TestAnalyzeMACDSignal/MACD_below_zero
--- PASS: TestAnalyzeMACDSignal (0.00s)
    --- PASS: TestAnalyzeMACDSignal/MACD_crossing_above_zero (0.00s)
    --- PASS: TestAnalyzeMACDSignal/MACD_crossing_below_zero (0.00s)
    --- PASS: TestAnalyzeMACDSignal/MACD_above_zero (0.00s)
    --- PASS: TestAnalyzeMACDSignal/MACD_below_zero (0.00s)
=== RUN   TestDetermineOverallSignal
=== RUN   TestDetermineOverallSignal/Strong_buy_signals
=== RUN   TestDetermineOverallSignal/Strong_sell_signals
=== RUN   TestDetermineOverallSignal/Mixed_signals
=== RUN   TestDetermineOverallSignal/No_indicators
--- PASS: TestDetermineOverallSignal (0.00s)
    --- PASS: TestDetermineOverallSignal/Strong_buy_signals (0.00s)
    --- PASS: TestDetermineOverallSignal/Strong_sell_signals (0.00s)
    --- PASS: TestDetermineOverallSignal/Mixed_signals (0.00s)
    --- PASS: TestDetermineOverallSignal/No_indicators (0.00s)
=== RUN   TestConvertToSnapshots
--- PASS: TestConvertToSnapshots (0.00s)
=== RUN   TestCalculateAllIndicators
    technical_analysis_test.go:554: Skipping due to goroutine leaks in github.com/cinar/indicator/v2 library
--- SKIP: TestCalculateAllIndicators (0.00s)
=== RUN   TestCalculateIndicatorsWithInsufficientData
    technical_analysis_test.go:641: Skipping due to goroutine leaks in github.com/cinar/indicator/v2 library
--- SKIP: TestCalculateIndicatorsWithInsufficientData (0.00s)
=== RUN   TestAnalyzeSignalsWithEmptyData
--- PASS: TestAnalyzeSignalsWithEmptyData (0.00s)
=== RUN   TestTimeoutManager_NewTimeoutManager
--- PASS: TestTimeoutManager_NewTimeoutManager (0.00s)
=== RUN   TestTimeoutManager_DefaultTimeoutConfig
--- PASS: TestTimeoutManager_DefaultTimeoutConfig (0.00s)
=== RUN   TestTimeoutManager_CreateOperationContext
--- PASS: TestTimeoutManager_CreateOperationContext (0.00s)
=== RUN   TestTimeoutManager_CreateOperationContextWithParent
--- PASS: TestTimeoutManager_CreateOperationContextWithParent (0.00s)
=== RUN   TestTimeoutManager_CreateOperationContextWithCustomTimeout
--- PASS: TestTimeoutManager_CreateOperationContextWithCustomTimeout (0.00s)
=== RUN   TestTimeoutManager_CompleteOperation
--- PASS: TestTimeoutManager_CompleteOperation (0.00s)
=== RUN   TestTimeoutManager_CancelOperation
time="2025-09-30T23:12:05+07:00" level=info msg="Operation cancelled" operation_id=op1
--- PASS: TestTimeoutManager_CancelOperation (0.00s)
=== RUN   TestTimeoutManager_CancelAllOperations
time="2025-09-30T23:12:05+07:00" level=info msg="Operation cancelled during shutdown" operation_id=op1
time="2025-09-30T23:12:05+07:00" level=info msg="Operation cancelled during shutdown" operation_id=op2
--- PASS: TestTimeoutManager_CancelAllOperations (0.00s)
=== RUN   TestTimeoutManager_GetActiveOperationCount
--- PASS: TestTimeoutManager_GetActiveOperationCount (0.00s)
=== RUN   TestTimeoutManager_GetActiveOperations
--- PASS: TestTimeoutManager_GetActiveOperations (0.00s)
=== RUN   TestTimeoutManager_ExecuteWithTimeout
--- PASS: TestTimeoutManager_ExecuteWithTimeout (0.00s)
=== RUN   TestTimeoutManager_ExecuteWithTimeoutAndFallback
--- PASS: TestTimeoutManager_ExecuteWithTimeoutAndFallback (0.00s)
=== RUN   TestTimeoutManager_MonitorOperationHealth
--- PASS: TestTimeoutManager_MonitorOperationHealth (0.01s)
=== RUN   TestTimeoutManager_UpdateTimeoutConfig
time="2025-09-30T23:12:05+07:00" level=info msg="Timeout configuration updated"
--- PASS: TestTimeoutManager_UpdateTimeoutConfig (0.00s)
=== RUN   TestTimeoutManager_IsOperationActive
--- PASS: TestTimeoutManager_IsOperationActive (0.00s)
=== RUN   TestTimeoutManager_GetOperationStats
--- PASS: TestTimeoutManager_GetOperationStats (0.00s)
=== RUN   TestTimeoutManager_Shutdown
time="2025-09-30T23:12:05+07:00" level=info msg="Shutting down timeout manager"
time="2025-09-30T23:12:05+07:00" level=info msg="Operation cancelled during shutdown" operation_id=op1
time="2025-09-30T23:12:05+07:00" level=info msg="Timeout manager shutdown complete"
--- PASS: TestTimeoutManager_Shutdown (0.00s)
PASS
coverage: 43.1% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/services	(cached)	coverage: 43.1% of statements
=== RUN   TestNewBusinessTracer
--- PASS: TestNewBusinessTracer (0.00s)
=== RUN   TestBusinessTracer_TraceArbitrageDetection
--- PASS: TestBusinessTracer_TraceArbitrageDetection (0.00s)
=== RUN   TestBusinessTracer_RecordArbitrageOpportunity
--- PASS: TestBusinessTracer_RecordArbitrageOpportunity (0.00s)
=== RUN   TestBusinessTracer_TraceSignalProcessing
--- PASS: TestBusinessTracer_TraceSignalProcessing (0.00s)
=== RUN   TestBusinessTracer_RecordSignalMetrics
--- PASS: TestBusinessTracer_RecordSignalMetrics (0.00s)
=== RUN   TestBusinessTracer_TraceTechnicalAnalysis
--- PASS: TestBusinessTracer_TraceTechnicalAnalysis (0.00s)
=== RUN   TestBusinessTracer_RecordTechnicalAnalysisResult
--- PASS: TestBusinessTracer_RecordTechnicalAnalysisResult (0.00s)
=== RUN   TestBusinessTracer_TraceMarketDataCollection
--- PASS: TestBusinessTracer_TraceMarketDataCollection (0.00s)
=== RUN   TestBusinessTracer_RecordMarketDataMetrics
--- PASS: TestBusinessTracer_RecordMarketDataMetrics (0.00s)
=== RUN   TestBusinessTracer_TraceRiskAssessment
--- PASS: TestBusinessTracer_TraceRiskAssessment (0.00s)
=== RUN   TestBusinessTracer_RecordRiskMetrics
--- PASS: TestBusinessTracer_RecordRiskMetrics (0.00s)
=== RUN   TestBusinessTracer_TraceNotification
--- PASS: TestBusinessTracer_TraceNotification (0.00s)
=== RUN   TestBusinessTracer_RecordNotificationResult
--- PASS: TestBusinessTracer_RecordNotificationResult (0.00s)
=== RUN   TestBusinessTracer_TraceArbitrageDetectionEmptyExchanges
--- PASS: TestBusinessTracer_TraceArbitrageDetectionEmptyExchanges (0.00s)
=== RUN   TestBusinessTracer_TraceMarketDataCollectionEmptySymbols
--- PASS: TestBusinessTracer_TraceMarketDataCollectionEmptySymbols (0.00s)
=== RUN   TestBusinessTracer_RecordArbitrageOpportunityZeroValues
--- PASS: TestBusinessTracer_RecordArbitrageOpportunityZeroValues (0.00s)
=== RUN   TestBusinessTracer_RecordSignalMetricsZeroValues
--- PASS: TestBusinessTracer_RecordSignalMetricsZeroValues (0.00s)
=== RUN   TestBusinessTracer_RecordRiskMetricsEdgeCases
--- PASS: TestBusinessTracer_RecordRiskMetricsEdgeCases (0.00s)
=== RUN   TestBusinessTracer_RecordTechnicalAnalysisResultEdgeCases
--- PASS: TestBusinessTracer_RecordTechnicalAnalysisResultEdgeCases (0.00s)
=== RUN   TestBusinessTracer_RecordNotificationResultNilError
--- PASS: TestBusinessTracer_RecordNotificationResultNilError (0.00s)
=== RUN   TestBusinessTracer_ContextCancellation
--- PASS: TestBusinessTracer_ContextCancellation (0.00s)
=== RUN   TestNormalizeOTLPEndpoint
=== RUN   TestNormalizeOTLPEndpoint/default_localhost
=== RUN   TestNormalizeOTLPEndpoint/trailing_slash_base
=== RUN   TestNormalizeOTLPEndpoint/already_traces_path
=== RUN   TestNormalizeOTLPEndpoint/custom_base_path
=== RUN   TestNormalizeOTLPEndpoint/invalid_no_scheme
--- PASS: TestNormalizeOTLPEndpoint (0.00s)
    --- PASS: TestNormalizeOTLPEndpoint/default_localhost (0.00s)
    --- PASS: TestNormalizeOTLPEndpoint/trailing_slash_base (0.00s)
    --- PASS: TestNormalizeOTLPEndpoint/already_traces_path (0.00s)
    --- PASS: TestNormalizeOTLPEndpoint/custom_base_path (0.00s)
    --- PASS: TestNormalizeOTLPEndpoint/invalid_no_scheme (0.00s)
=== RUN   TestDefaultConfig
--- PASS: TestDefaultConfig (0.00s)
=== RUN   TestTracerGetters
--- PASS: TestTracerGetters (0.00s)
=== RUN   TestSpanHelpers
--- PASS: TestSpanHelpers (0.00s)
=== RUN   TestAttributeHelpers
--- PASS: TestAttributeHelpers (0.00s)
=== RUN   TestLogger
--- PASS: TestLogger (0.00s)
=== RUN   TestInitTelemetryDisabled
2025/09/30 23:11:49 INFO Initializing telemetry enabled=false otlp_endpoint="" service_name="" service_version=""
2025/09/30 23:11:49 INFO Telemetry disabled
--- PASS: TestInitTelemetryDisabled (0.00s)
=== RUN   TestInitTelemetryEnabled
2025/09/30 23:11:49 INFO Initializing telemetry enabled=true otlp_endpoint=http://localhost:4318 service_name=test-service service_version=1.0.0
2025/09/30 23:11:49 INFO OpenTelemetry initialized endpoint_raw=http://localhost:4318 endpoint_hostport=localhost:4318 url_path=/v1/traces resolved_url=http://localhost:4318/v1/traces insecure_http=true service=test-service version=1.0.0 environment=production debug_path_unescaped=/v1/traces
2025/09/30 23:11:49 INFO OTLP logger initialized successfully
--- PASS: TestInitTelemetryEnabled (0.00s)
=== RUN   TestShutdown
--- PASS: TestShutdown (0.00s)
=== RUN   TestGetLogger
2025/09/30 23:11:49 INFO Initializing telemetry enabled=false otlp_endpoint="" service_name="" service_version=""
2025/09/30 23:11:49 INFO Telemetry disabled
--- PASS: TestGetLogger (0.00s)
=== RUN   TestInitTelemetryWithProviderDisabled
2025/09/30 23:11:49 INFO Initializing telemetry enabled=false otlp_endpoint="" service_name="" service_version=""
2025/09/30 23:11:49 INFO Telemetry disabled
--- PASS: TestInitTelemetryWithProviderDisabled (0.00s)
=== RUN   TestInitTelemetryWithProviderInvalidEndpoint
2025/09/30 23:11:49 INFO Initializing telemetry enabled=true otlp_endpoint=invalid-url://[invalid service_name="" service_version=""
2025/09/30 23:11:49 ERROR Invalid OTLP endpoint error="invalid OTLPEndpoint: \"invalid-url://[invalid\": parse \"invalid-url://[invalid\": missing ']' in host" raw=invalid-url://[invalid
--- PASS: TestInitTelemetryWithProviderInvalidEndpoint (0.00s)
PASS
coverage: 89.8% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/telemetry	(cached)	coverage: 89.8% of statements
=== RUN   TestGetTestRedisOptions
--- PASS: TestGetTestRedisOptions (0.00s)
=== RUN   TestGetTestRedisClient
--- PASS: TestGetTestRedisClient (0.00s)
=== RUN   TestGetTestRedisOptions_NilReturn
--- PASS: TestGetTestRedisOptions_NilReturn (0.00s)
=== RUN   TestGetTestRedisClient_NilReturn
--- PASS: TestGetTestRedisClient_NilReturn (0.00s)
=== RUN   TestGetTestRedisOptions_DefaultDB
--- PASS: TestGetTestRedisOptions_DefaultDB (0.00s)
=== RUN   TestGetTestRedisClient_DefaultDB
--- PASS: TestGetTestRedisClient_DefaultDB (0.00s)
=== RUN   TestGetTestRedisOptions_FallbackAddress
--- PASS: TestGetTestRedisOptions_FallbackAddress (0.00s)
=== RUN   TestGetTestRedisOptions_EnvironmentPriority
--- PASS: TestGetTestRedisOptions_EnvironmentPriority (0.00s)
=== RUN   TestGetTestRedisClient_EnvironmentPriority
--- PASS: TestGetTestRedisClient_EnvironmentPriority (0.00s)
=== RUN   TestGetTestRedisOptions_ConcurrentAccess
--- PASS: TestGetTestRedisOptions_ConcurrentAccess (0.00s)
=== RUN   TestGetTestRedisClient_ConcurrentAccess
--- PASS: TestGetTestRedisClient_ConcurrentAccess (0.00s)
=== RUN   TestGetTestRedisOptions_EmptyEnvironmentVariable
--- PASS: TestGetTestRedisOptions_EmptyEnvironmentVariable (0.00s)
=== RUN   TestGetTestRedisClient_EmptyEnvironmentVariable
--- PASS: TestGetTestRedisClient_EmptyEnvironmentVariable (0.00s)
=== RUN   TestGetTestRedisOptions_ValidPortInAddress
--- PASS: TestGetTestRedisOptions_ValidPortInAddress (0.00s)
=== RUN   TestGetTestRedisClient_ValidPortInAddress
--- PASS: TestGetTestRedisClient_ValidPortInAddress (0.00s)
=== RUN   TestGetTestRedisOptions_DBConsistency
--- PASS: TestGetTestRedisOptions_DBConsistency (0.00s)
=== RUN   TestGetTestRedisClient_DBConsistency
--- PASS: TestGetTestRedisClient_DBConsistency (0.00s)
=== RUN   TestGetTestRedisOptions_MiniredisIntegration
--- PASS: TestGetTestRedisOptions_MiniredisIntegration (0.00s)
=== RUN   TestGetTestRedisClient_MiniredisIntegration
--- PASS: TestGetTestRedisClient_MiniredisIntegration (0.00s)
PASS
coverage: 100.0% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/testutil	(cached)	coverage: 100.0% of statements
=== RUN   TestValidationError_Error
--- PASS: TestValidationError_Error (0.00s)
=== RUN   TestNewValidationError
--- PASS: TestNewValidationError (0.00s)
=== RUN   TestNewValidationErrorf
--- PASS: TestNewValidationErrorf (0.00s)
=== RUN   TestValidationError_Struct
--- PASS: TestValidationError_Struct (0.00s)
PASS
coverage: 100.0% of statements
ok  	github.com/irfandi/celebrum-ai-go/internal/utils	(cached)	coverage: 100.0% of statements
=== RUN   TestConfigDefaults
--- PASS: TestConfigDefaults (0.00s)
=== RUN   TestBlacklistCacheEntry
--- PASS: TestBlacklistCacheEntry (0.00s)
=== RUN   TestExchangeBlacklistEntry
--- PASS: TestExchangeBlacklistEntry (0.00s)
=== RUN   TestSymbolCacheEntry
--- PASS: TestSymbolCacheEntry (0.00s)
=== RUN   TestBlacklistCacheStats
--- PASS: TestBlacklistCacheStats (0.00s)
=== RUN   TestSymbolCacheStats
--- PASS: TestSymbolCacheStats (0.00s)
PASS
coverage: 52.5% of statements
ok  	github.com/irfandi/celebrum-ai-go/pkg/interfaces	(cached)	coverage: 52.5% of statements
=== RUN   TestValidateTelegramMain
--- PASS: TestValidateTelegramMain (0.00s)
=== RUN   TestLoadDotEnv
--- PASS: TestLoadDotEnv (0.00s)
=== RUN   TestConfigLoading
--- PASS: TestConfigLoading (0.00s)
=== RUN   TestEmptyBotTokenCheck
--- PASS: TestEmptyBotTokenCheck (0.00s)
=== RUN   TestValidBotTokenLength
--- PASS: TestValidBotTokenLength (0.00s)
=== RUN   TestWebhookURLCheck
--- PASS: TestWebhookURLCheck (0.00s)
=== RUN   TestBotCreationErrorHandling
--- PASS: TestBotCreationErrorHandling (0.59s)
=== RUN   TestBotCreationSuccess
--- PASS: TestBotCreationSuccess (0.19s)
=== RUN   TestBotAPICallErrorHandling
--- PASS: TestBotAPICallErrorHandling (0.00s)
=== RUN   TestBotAPICallSuccess
--- PASS: TestBotAPICallSuccess (0.00s)
=== RUN   TestOutputFormatting
--- PASS: TestOutputFormatting (0.00s)
=== RUN   TestBotInfoDisplay
--- PASS: TestBotInfoDisplay (0.00s)
=== RUN   TestWarningMessageOutput
--- PASS: TestWarningMessageOutput (0.00s)
=== RUN   TestContextCancellation
--- PASS: TestContextCancellation (0.00s)
=== RUN   TestEnvironmentVariableCleanup
--- PASS: TestEnvironmentVariableCleanup (0.00s)
=== RUN   TestErrorScenarios
=== RUN   TestErrorScenarios/empty_token
=== RUN   TestErrorScenarios/too_short_token
=== RUN   TestErrorScenarios/invalid_format
=== RUN   TestErrorScenarios/valid_format
--- PASS: TestErrorScenarios (0.56s)
    --- PASS: TestErrorScenarios/empty_token (0.00s)
    --- PASS: TestErrorScenarios/too_short_token (0.18s)
    --- PASS: TestErrorScenarios/invalid_format (0.19s)
    --- PASS: TestErrorScenarios/valid_format (0.19s)
=== RUN   TestConfigurationValidation
=== RUN   TestConfigurationValidation/valid_config
=== RUN   TestConfigurationValidation/empty_token
=== RUN   TestConfigurationValidation/empty_webhook
--- PASS: TestConfigurationValidation (0.01s)
    --- PASS: TestConfigurationValidation/valid_config (0.00s)
    --- PASS: TestConfigurationValidation/empty_token (0.00s)
    --- PASS: TestConfigurationValidation/empty_webhook (0.00s)
=== RUN   TestSuccessMessageGeneration
--- PASS: TestSuccessMessageGeneration (0.00s)
=== RUN   TestConcurrentAccess
--- PASS: TestConcurrentAccess (0.00s)
=== RUN   TestMainFunctionWithMockEnvironment
--- PASS: TestMainFunctionWithMockEnvironment (0.00s)
=== RUN   TestGracefulShutdown
--- PASS: TestGracefulShutdown (0.00s)
=== RUN   TestTimeOperations
--- PASS: TestTimeOperations (0.00s)
PASS
coverage: 0.0% of statements
ok  	github.com/irfandi/celebrum-ai-go/scripts	(cached)	coverage: 0.0% of statements
testing: warning: no tests to run
PASS
coverage: [no statements]
ok  	github.com/irfandi/celebrum-ai-go/test/benchmark	(cached)	coverage: [no statements] [no tests to run]
=== RUN   TestIntegrationAPI
=== RUN   TestIntegrationAPI/Health_check_endpoint
[GIN] 2025/09/30 - 23:11:54 | 200 |     693.625s |                 | GET      "/api/v1/health"
=== RUN   TestIntegrationAPI/Market_ticker_endpoint
[GIN] 2025/09/30 - 23:11:54 | 200 |      42.584s |                 | GET      "/api/v1/market/ticker/binance/BTCUSDT"
=== RUN   TestIntegrationAPI/User_registration_endpoint
[GIN] 2025/09/30 - 23:11:54 | 201 |     325.958s |                 | POST     "/api/v1/users/register"
=== RUN   TestIntegrationAPI/Invalid_route
[GIN] 2025/09/30 - 23:11:54 | 404 |         500ns |                 | GET      "/api/v1/invalid"
=== RUN   TestIntegrationAPI/Method_not_allowed
[GIN] 2025/09/30 - 23:11:54 | 404 |         416ns |                 | POST     "/api/v1/health"
--- PASS: TestIntegrationAPI (0.00s)
    --- PASS: TestIntegrationAPI/Health_check_endpoint (0.00s)
    --- PASS: TestIntegrationAPI/Market_ticker_endpoint (0.00s)
    --- PASS: TestIntegrationAPI/User_registration_endpoint (0.00s)
    --- PASS: TestIntegrationAPI/Invalid_route (0.00s)
    --- PASS: TestIntegrationAPI/Method_not_allowed (0.00s)
=== RUN   TestIntegrationMiddleware
--- PASS: TestIntegrationMiddleware (0.00s)
=== RUN   TestIntegrationErrorHandling
=== RUN   TestIntegrationErrorHandling/Internal_server_error
=== RUN   TestIntegrationErrorHandling/Not_found_error
=== RUN   TestIntegrationErrorHandling/Bad_request_error
=== RUN   TestIntegrationErrorHandling/Route_not_found
--- PASS: TestIntegrationErrorHandling (0.00s)
    --- PASS: TestIntegrationErrorHandling/Internal_server_error (0.00s)
    --- PASS: TestIntegrationErrorHandling/Not_found_error (0.00s)
    --- PASS: TestIntegrationErrorHandling/Bad_request_error (0.00s)
    --- PASS: TestIntegrationErrorHandling/Route_not_found (0.00s)
=== RUN   TestIntegrationContext
--- PASS: TestIntegrationContext (0.00s)
=== RUN   TestIntegrationPerformance
--- PASS: TestIntegrationPerformance (0.01s)
PASS
coverage: [no statements]
ok  	github.com/irfandi/celebrum-ai-go/test/integration	(cached)	coverage: [no statements]
=== RUN   TestMockPackageSanity
--- PASS: TestMockPackageSanity (0.00s)
PASS
coverage: 0.0% of statements
ok  	github.com/irfandi/celebrum-ai-go/test/testmocks	(cached)	coverage: 0.0% of statements
