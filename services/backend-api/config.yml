# Celebrum AI Local Development Configuration
# Copy from config.template.yml with local defaults

# Application environment
environment: development

# Logging configuration
logging:
  level: debug
  format: text
  output: stdout
  file_path: logs/app.log

# Server configuration
server:
  port: 8080
  host: 0.0.0.0
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 60s
  allowed_origins:
    - "http://localhost:3000"
    - "http://localhost:8080"
    - "http://127.0.0.1:3000"
    - "http://127.0.0.1:8080"

# Database configuration
# Note: Environment variables (DATABASE_HOST, etc.) override these via Viper's AutomaticEnv
database:
  host: localhost
  port: 5432
  user: postgres
  password: ""
  dbname: celebrum_ai
  sslmode: disable
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 300s
  conn_max_idle_time: 60s
  # PostgreSQL 18 specific optimizations
  application_name: celebrum-ai
  connect_timeout: 30
  statement_timeout: 300000
  query_timeout: 300000
  # Connection pool tuning for async operations
  pool_timeout: 10
  pool_health_check_period: 30
  pool_max_lifetime: 3600
  pool_idle_timeout: 600
  # Enable PostgreSQL 18 async features
  enable_async: true
  async_batch_size: 1000
  async_concurrency: 10

# Redis configuration
redis:
  host: ${REDIS_HOST:-redis}
  port: ${REDIS_PORT:-6379}
  password: ""
  db: 0
  pool_size: 10
  min_idle_conns: 5
  dial_timeout: 5s
  read_timeout: 3s
  write_timeout: 3s
  pool_timeout: 4s
  idle_timeout: 300s

# CCXT Service configuration
ccxt:
  service_url: ${CCXT_SERVICE_URL:-http://localhost:3001}
  timeout: 30
  retry_attempts: 3
  retry_delay: 1s
  rate_limit:
    requests_per_second: 10
    burst: 20

# Telegram Bot configuration
telegram:
  bot_token: ""
  webhook_url: ""
  webhook_secret: ""
  timeout: 30s

# Market Data configuration
market_data:
  collection_interval: 30s
  batch_size: 100
  max_retries: 3
  timeout: 15s
  exchanges:
    - binance
    - coinbase
    - kraken
    - bitfinex
    - huobi
    - bybit

# Arbitrage configuration
arbitrage:
  min_profit_threshold: 0.5
  max_trade_amount: 1000.0
  check_interval: 10s

# Fee configuration (fallback when exchange-specific fees are missing)
fees:
  default_taker_fee: 0.001
  default_maker_fee: 0.001

# Technical Analysis configuration
technical_analysis:
  indicators:
    - RSI
    - MACD
    - SMA
    - EMA
    - BOLLINGER_BANDS
  timeframes:
    - 1m
    - 5m
    - 15m
    - 1h
    - 4h
    - 1d
  calculation_interval: 60s

# Analytics configuration
analytics:
  enable_forecasting: true
  enable_correlation: true
  enable_regime_detection: true
  forecast_lookback: 120
  forecast_horizon: 8
  correlation_window: 200
  correlation_min_points: 30
  regime_short_window: 20
  regime_long_window: 60
  volatility_high_threshold: 0.03
  volatility_low_threshold: 0.005

# Security configuration
security:
  jwt_secret: ${JWT_SECRET:-dev-jwt-secret-change-this-in-production}
  jwt_expiry: 24h
  bcrypt_cost: 12
  rate_limit:
    requests_per_minute: 100
    burst: 200

# Monitoring configuration
monitoring:
  metrics_enabled: true
  metrics_port: 9090
  health_check_interval: 30s
  prometheus:
    enabled: true
    path: /metrics

# Sentry configuration
sentry:
  enabled: false
  dsn: ${SENTRY_DSN:-""}
  environment: ${SENTRY_ENVIRONMENT:-development}
  release: ${SENTRY_RELEASE:-""}
  traces_sample_rate: 0.2
  profiles_sample_rate: 0.0

# Feature flags
features:
  telegram_bot: true
  web_interface: true
  api_v1: true
  real_trading: false
  paper_trading: true

# External APIs
external_apis:
  coingecko:
    base_url: https://api.coingecko.com/api/v3
    timeout: 10s
    rate_limit: 50
  coinmarketcap:
    base_url: https://pro-api.coinmarketcap.com/v1
    api_key: ""
    timeout: 10s
    rate_limit: 333
